var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var D={};!function(e,O){D=O()}(0,(function(){function t(){}const D=function(){let e=0;return function(){return e++}}();function i(e){return null==e}function s(e){if(Array.isArray&&Array.isArray(e))return!0;const D=Object.prototype.toString.call(e);return"[object"===D.slice(0,7)&&"Array]"===D.slice(-6)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const o=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function a(e,D){return o(e)?e:D}function r(e,D){return void 0===e?D:e}const l=(e,D)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/D,h=(e,D)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*D:+e;function c(e,D,O){if(e&&"function"==typeof e.call)return e.apply(O,D)}function d(e,D,O,C){let A,T,E;if(s(e))if(T=e.length,C)for(A=T-1;A>=0;A--)D.call(O,e[A],A);else for(A=0;A<T;A++)D.call(O,e[A],A);else if(n(e))for(E=Object.keys(e),T=E.length,A=0;A<T;A++)D.call(O,e[E[A]],E[A])}function u(e,D){let O,C,A,T;if(!e||!D||e.length!==D.length)return!1;for(O=0,C=e.length;O<C;++O)if(A=e[O],T=D[O],A.datasetIndex!==T.datasetIndex||A.index!==T.index)return!1;return!0}function f(e){if(s(e))return e.map(f);if(n(e)){const D=Object.create(null),O=Object.keys(e),C=O.length;let A=0;for(;A<C;++A)D[O[A]]=f(e[O[A]]);return D}return e}function g(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function p(e,D,O,C){if(!g(e))return;const A=D[e],T=O[e];n(A)&&n(T)?m(A,T,C):D[e]=f(T)}function m(e,D,O){const C=s(D)?D:[D],A=C.length;if(!n(e))return e;const T=(O=O||{}).merger||p;for(let E=0;E<A;++E){if(!n(D=C[E]))continue;const A=Object.keys(D);for(let C=0,E=A.length;C<E;++C)T(A[C],e,D,O)}return e}function b(e,D){return m(e,D,{merger:x})}function x(e,D,O){if(!g(e))return;const C=D[e],A=O[e];n(C)&&n(A)?b(C,A):Object.prototype.hasOwnProperty.call(D,e)||(D[e]=f(A))}const O={"":e=>e,x:e=>e.x,y:e=>e.y};function y(e,D){const C=O[D]||(O[D]=function(e){const D=v(e);return e=>{for(const O of D){if(""===O)break;e=e&&e[O]}return e}}(D));return C(e)}function v(e){const D=e.split("."),O=[];let C="";for(const e of D)C+=e,C.endsWith("\\")?C=C.slice(0,-1)+".":(O.push(C),C="");return O}function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}const M=e=>void 0!==e,k=e=>"function"==typeof e,S=(e,D)=>{if(e.size!==D.size)return!1;for(const O of e)if(!D.has(O))return!1;return!0};function P(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}const C=Math.PI,A=2*C,T=A+C,E=Number.POSITIVE_INFINITY,L=C/180,R=C/2,I=C/4,z=2*C/3,nt=Math.log10,lt=Math.sign;function F(e){const D=Math.round(e);e=N(e,D,e/1e3)?D:e;const O=Math.pow(10,Math.floor(nt(e))),C=e/O;return(C<=1?1:C<=2?2:C<=5?5:10)*O}function V(e){const D=[],O=Math.sqrt(e);let C;for(C=1;C<O;C++)e%C==0&&(D.push(C),D.push(e/C));return O===(0|O)&&D.push(O),D.sort(((e,D)=>e-D)).pop(),D}function B(e){return!isNaN(parseFloat(e))&&isFinite(e)}function N(e,D,O){return Math.abs(e-D)<O}function W(e,D){const O=Math.round(e);return O-D<=e&&O+D>=e}function j(e,D,O){let C,A,T;for(C=0,A=e.length;C<A;C++)T=e[C][O],isNaN(T)||(D.min=Math.min(D.min,T),D.max=Math.max(D.max,T))}function H(e){return e*(C/180)}function $(e){return e*(180/C)}function Y(e){if(!o(e))return;let D=1,O=0;for(;Math.round(e*D)/D!==e;)D*=10,O++;return O}function U(e,D){const O=D.x-e.x,T=D.y-e.y,E=Math.sqrt(O*O+T*T);let L=Math.atan2(T,O);return L<-.5*C&&(L+=A),{angle:L,distance:E}}function X(e,D){return Math.sqrt(Math.pow(D.x-e.x,2)+Math.pow(D.y-e.y,2))}function q(e,D){return(e-D+T)%A-C}function K(e){return(e%A+A)%A}function G(e,D,O,C){const A=K(e),T=K(D),E=K(O),L=K(T-A),R=K(E-A),I=K(A-T),z=K(A-E);return A===T||A===E||C&&T===E||L>R&&I<z}function Z(e,D,O){return Math.max(D,Math.min(O,e))}function J(e){return Z(e,-32768,32767)}function Q(e,D,O,C=1e-6){return e>=Math.min(D,O)-C&&e<=Math.max(D,O)+C}function tt(e,D,O){O=O||(O=>e[O]<D);let C,A=e.length-1,T=0;for(;A-T>1;)C=T+A>>1,O(C)?T=C:A=C;return{lo:T,hi:A}}const et=(e,D,O,C)=>tt(e,O,C?C=>e[C][D]<=O:C=>e[C][D]<O),it=(e,D,O)=>tt(e,O,(C=>e[C][D]>=O));function st(e,D,O){let C=0,A=e.length;for(;C<A&&e[C]<D;)C++;for(;A>C&&e[A-1]>O;)A--;return C>0||A<e.length?e.slice(C,A):e}const mt=["push","pop","shift","splice","unshift"];function ot(D,O){D._chartjs?D._chartjs.listeners.push(O):(Object.defineProperty(D,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[O]}}),mt.forEach((O=>{const C="_onData"+w(O),A=D[O];Object.defineProperty(D,O,{configurable:!0,enumerable:!1,value(...O){const T=A.apply(this||e,O);return D._chartjs.listeners.forEach((e=>{"function"==typeof e[C]&&e[C](...O)})),T}})})))}function at(e,D){const O=e._chartjs;if(!O)return;const C=O.listeners,A=C.indexOf(D);-1!==A&&C.splice(A,1),C.length>0||(mt.forEach((D=>{delete e[D]})),delete e._chartjs)}function rt(e){const D=new Set;let O,C;for(O=0,C=e.length;O<C;++O)D.add(e[O]);return D.size===C?e:Array.from(D)}const Mt="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function ht(e,D,O){const C=O||(e=>Array.prototype.slice.call(e));let A=!1,T=[];return function(...O){T=C(O),A||(A=!0,Mt.call(window,(()=>{A=!1,e.apply(D,T)})))}}function ct(D,O){let C;return function(...A){return O?(clearTimeout(C),C=setTimeout(D,O,A)):D.apply(this||e,A),O}}const dt=e=>"start"===e?"left":"end"===e?"right":"center",ut=(e,D,O)=>"start"===e?D:"end"===e?O:(D+O)/2,ft=(e,D,O,C)=>e===(C?"left":"right")?O:"center"===e?(D+O)/2:D;function gt(e,D,O){const C=D.length;let A=0,T=C;if(e._sorted){const{iScale:E,_parsed:L}=e,R=E.axis,{min:I,max:z,minDefined:nt,maxDefined:lt}=E.getUserBounds();nt&&(A=Z(Math.min(et(L,E.axis,I).lo,O?C:et(D,R,E.getPixelForValue(I)).lo),0,C-1)),T=lt?Z(Math.max(et(L,E.axis,z,!0).hi+1,O?0:et(D,R,E.getPixelForValue(z),!0).hi+1),A,C)-A:C-A}return{start:A,count:T}}function pt(e){const{xScale:D,yScale:O,_scaleRanges:C}=e,A={xmin:D.min,xmax:D.max,ymin:O.min,ymax:O.max};if(!C)return e._scaleRanges=A,!0;const T=C.xmin!==D.min||C.xmax!==D.max||C.ymin!==O.min||C.ymax!==O.max;return Object.assign(C,A),T}var kt=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,D,O,C){const A=D.listeners[C],T=D.duration;A.forEach((C=>C({chart:e,initial:D.initial,numSteps:T,currentStep:Math.min(O-D.start,T)})))}_refresh(){this._request||(this._running=!0,this._request=Mt.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let D=0;this._charts.forEach(((O,C)=>{if(!O.running||!O.items.length)return;const A=O.items;let T,E=A.length-1,L=!1;for(;E>=0;--E)T=A[E],T._active?(T._total>O.duration&&(O.duration=T._total),T.tick(e),L=!0):(A[E]=A[A.length-1],A.pop());L&&(C.draw(),this._notify(C,O,e,"progress")),A.length||(O.running=!1,this._notify(C,O,e,"complete"),O.initial=!1),D+=A.length})),this._lastDate=e,0===D&&(this._running=!1)}_getAnims(e){const D=this._charts;let O=D.get(e);return O||(O={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},D.set(e,O)),O}listen(e,D,O){this._getAnims(e).listeners[D].push(O)}add(e,D){D&&D.length&&this._getAnims(e).items.push(...D)}has(e){return this._getAnims(e).items.length>0}start(e){const D=this._charts.get(e);D&&(D.running=!0,D.start=Date.now(),D.duration=D.items.reduce(((e,D)=>Math.max(e,D._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const D=this._charts.get(e);return!!(D&&D.running&&D.items.length)}stop(e){const D=this._charts.get(e);if(!D||!D.items.length)return;const O=D.items;let C=O.length-1;for(;C>=0;--C)O[C].cancel();D.items=[],this._notify(e,D,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};function bt(e){return e+.5|0}const xt=(e,D,O)=>Math.max(Math.min(e,O),D);function _t(e){return xt(bt(2.55*e),0,255)}function yt(e){return xt(bt(255*e),0,255)}function vt(e){return xt(bt(e/2.55)/100,0,1)}function wt(e){return xt(bt(100*e),0,100)}const Ct={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Bt=[..."0123456789ABCDEF"],St=e=>Bt[15&e],Pt=e=>Bt[(240&e)>>4]+Bt[15&e],Dt=e=>(240&e)>>4==(15&e);function Ot(e){var D=(e=>Dt(e.r)&&Dt(e.g)&&Dt(e.b)&&Dt(e.a))(e)?St:Pt;return e?"#"+D(e.r)+D(e.g)+D(e.b)+((e,D)=>e<255?D(e):"")(e.a,D):void 0}const Vt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function At(e,D,O){const C=D*Math.min(O,1-O),n=(D,A=(D+e/30)%12)=>O-C*Math.max(Math.min(A-3,9-A,1),-1);return[n(0),n(8),n(4)]}function Tt(e,D,O){const s=(C,A=(C+e/60)%6)=>O-O*D*Math.max(Math.min(A,4-A,1),0);return[s(5),s(3),s(1)]}function Lt(e,D,O){const C=At(e,1,.5);let A;for(D+O>1&&(A=1/(D+O),D*=A,O*=A),A=0;A<3;A++)C[A]*=1-D-O,C[A]+=D;return C}function Et(e){const D=e.r/255,O=e.g/255,C=e.b/255,A=Math.max(D,O,C),T=Math.min(D,O,C),E=(A+T)/2;let L,R,I;return A!==T&&(I=A-T,R=E>.5?I/(2-A-T):I/(A+T),L=function(e,D,O,C,A){return e===A?(D-O)/C+(D<O?6:0):D===A?(O-e)/C+2:(e-D)/C+4}(D,O,C,I,A),L=60*L+.5),[0|L,R||0,E]}function Rt(e,D,O,C){return(Array.isArray(D)?e(D[0],D[1],D[2]):e(D,O,C)).map(yt)}function It(e,D,O){return Rt(At,e,D,O)}function zt(e){return(e%360+360)%360}function Ft(e){const D=Vt.exec(e);let O,C=255;if(!D)return;D[5]!==O&&(C=D[6]?_t(+D[5]):yt(+D[5]));const A=zt(+D[2]),T=+D[3]/100,E=+D[4]/100;return O="hwb"===D[1]?function(e,D,O){return Rt(Lt,e,D,O)}(A,T,E):"hsv"===D[1]?function(e,D,O){return Rt(Tt,e,D,O)}(A,T,E):It(A,T,E),{r:O[0],g:O[1],b:O[2],a:C}}const Nt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let te;function Wt(e){te||(te=function(){const e={},D=Object.keys(jt),O=Object.keys(Nt);let C,A,T,E,L;for(C=0;C<D.length;C++){for(E=L=D[C],A=0;A<O.length;A++)T=O[A],L=L.replace(T,Nt[T]);T=parseInt(jt[E],16),e[L]=[T>>16&255,T>>8&255,255&T]}return e}(),te.transparent=[0,0,0,0]);const D=te[e.toLowerCase()];return D&&{r:D[0],g:D[1],b:D[2],a:4===D.length?D[3]:255}}const ee=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Ht=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,$t=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Yt(e,D,O){if(e){let C=Et(e);C[D]=Math.max(0,Math.min(C[D]+C[D]*O,0===D?360:1)),C=It(C),e.r=C[0],e.g=C[1],e.b=C[2]}}function Ut(e,D){return e?Object.assign(D||{},e):e}function Xt(e){var D={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(D={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(D.a=yt(e[3]))):(D=Ut(e,{r:0,g:0,b:0,a:1})).a=yt(D.a),D}function qt(e){return"r"===e.charAt(0)?function(e){const D=ee.exec(e);let O,C,A,T=255;if(D){if(D[7]!==O){const e=+D[7];T=D[8]?_t(e):xt(255*e,0,255)}return O=+D[1],C=+D[3],A=+D[5],O=255&(D[2]?_t(O):xt(O,0,255)),C=255&(D[4]?_t(C):xt(C,0,255)),A=255&(D[6]?_t(A):xt(A,0,255)),{r:O,g:C,b:A,a:T}}}(e):Ft(e)}class Kt{constructor(e){if(e instanceof Kt)return e;const D=typeof e;let O;var C,A,T;"object"===D?O=Xt(e):"string"===D&&(T=(C=e).length,"#"===C[0]&&(4===T||5===T?A={r:255&17*Ct[C[1]],g:255&17*Ct[C[2]],b:255&17*Ct[C[3]],a:5===T?17*Ct[C[4]]:255}:7!==T&&9!==T||(A={r:Ct[C[1]]<<4|Ct[C[2]],g:Ct[C[3]]<<4|Ct[C[4]],b:Ct[C[5]]<<4|Ct[C[6]],a:9===T?Ct[C[7]]<<4|Ct[C[8]]:255})),O=A||Wt(e)||qt(e)),this._rgb=O,this._valid=!!O}get valid(){return this._valid}get rgb(){var e=Ut(this._rgb);return e&&(e.a=vt(e.a)),e}set rgb(e){this._rgb=Xt(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${vt(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?Ot(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const D=Et(e),O=D[0],C=wt(D[1]),A=wt(D[2]);return e.a<255?`hsla(${O}, ${C}%, ${A}%, ${vt(e.a)})`:`hsl(${O}, ${C}%, ${A}%)`}(this._rgb):void 0}mix(e,D){if(e){const O=this.rgb,C=e.rgb;let A;const T=D===A?.5:D,E=2*T-1,L=O.a-C.a,R=((E*L==-1?E:(E+L)/(1+E*L))+1)/2;A=1-R,O.r=255&R*O.r+A*C.r+.5,O.g=255&R*O.g+A*C.g+.5,O.b=255&R*O.b+A*C.b+.5,O.a=T*O.a+(1-T)*C.a,this.rgb=O}return this}interpolate(e,D){return e&&(this._rgb=function(e,D,O){const C=$t(vt(e.r)),A=$t(vt(e.g)),T=$t(vt(e.b));return{r:yt(Ht(C+O*($t(vt(D.r))-C))),g:yt(Ht(A+O*($t(vt(D.g))-A))),b:yt(Ht(T+O*($t(vt(D.b))-T))),a:e.a+O*(D.a-e.a)}}(this._rgb,e._rgb,D)),this}clone(){return new Kt(this.rgb)}alpha(e){return this._rgb.a=yt(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,D=bt(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=D,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Yt(this._rgb,2,e),this}darken(e){return Yt(this._rgb,2,-e),this}saturate(e){return Yt(this._rgb,1,e),this}desaturate(e){return Yt(this._rgb,1,-e),this}rotate(e){return function(e,D){var O=Et(e);O[0]=zt(O[0]+D),O=It(O),e.r=O[0],e.g=O[1],e.b=O[2]}(this._rgb,e),this}}function Gt(e){return new Kt(e)}function Zt(e){if(e&&"object"==typeof e){const D=e.toString();return"[object CanvasPattern]"===D||"[object CanvasGradient]"===D}return!1}function Jt(e){return Zt(e)?e:Gt(e)}function Qt(e){return Zt(e)?e:Gt(e).saturate(.5).darken(.1).hexString()}const ne=Object.create(null),ce=Object.create(null);function ie(e,D){if(!D)return e;const O=D.split(".");for(let D=0,C=O.length;D<C;++D){const C=O[D];e=e[C]||(e[C]=Object.create(null))}return e}function se(e,D,O){return"string"==typeof D?m(ie(e,D),O):m(ie(e,""),D)}var me=new class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,D)=>Qt(D.backgroundColor),this.hoverBorderColor=(e,D)=>Qt(D.borderColor),this.hoverColor=(e,D)=>Qt(D.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,D){return se(this,e,D)}get(e){return ie(this,e)}describe(e,D){return se(ce,e,D)}override(e,D){return se(ne,e,D)}route(e,D,O,C){const A=ie(this,e),T=ie(this,O),E="_"+D;Object.defineProperties(A,{[E]:{value:A[D],writable:!0},[D]:{enumerable:!0,get(){const e=this[E],D=T[C];return n(e)?Object.assign({},D,e):r(e,D)},set(e){this[E]=e}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function oe(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ae(e){let D=e.parentNode;return D&&"[object ShadowRoot]"===D.toString()&&(D=D.host),D}function re(e,D,O){let C;return"string"==typeof e?(C=parseInt(e,10),-1!==e.indexOf("%")&&(C=C/100*D.parentNode[O])):C=e,C}const le=e=>window.getComputedStyle(e,null);function he(e,D){return le(e).getPropertyValue(D)}const Xe=["top","right","bottom","left"];function de(e,D,O){const C={};O=O?"-"+O:"";for(let A=0;A<4;A++){const T=Xe[A];C[T]=parseFloat(e[D+"-"+T+O])||0}return C.width=C.left+C.right,C.height=C.top+C.bottom,C}function ue(e,D){if("native"in e)return e;const{canvas:O,currentDevicePixelRatio:C}=D,A=le(O),T="border-box"===A.boxSizing,E=de(A,"padding"),L=de(A,"border","width"),{x:R,y:I,box:z}=function(e,D){const O=e.touches,C=O&&O.length?O[0]:e,{offsetX:A,offsetY:T}=C;let E,L,R=!1;if(((e,D,O)=>(e>0||D>0)&&(!O||!O.shadowRoot))(A,T,e.target))E=A,L=T;else{const e=D.getBoundingClientRect();E=C.clientX-e.left,L=C.clientY-e.top,R=!0}return{x:E,y:L,box:R}}(e,O),nt=E.left+(z&&L.left),lt=E.top+(z&&L.top);let{width:mt,height:Mt}=D;return T&&(mt-=E.width+L.width,Mt-=E.height+L.height),{x:Math.round((R-nt)/mt*O.width/C),y:Math.round((I-lt)/Mt*O.height/C)}}const fe=e=>Math.round(10*e)/10;function ge(e,D,O,C){const A=le(e),T=de(A,"margin"),L=re(A.maxWidth,e,"clientWidth")||E,R=re(A.maxHeight,e,"clientHeight")||E,I=function(e,D,O){let C,A;if(void 0===D||void 0===O){const T=ae(e);if(T){const e=T.getBoundingClientRect(),E=le(T),L=de(E,"border","width"),R=de(E,"padding");D=e.width-R.width-L.width,O=e.height-R.height-L.height,C=re(E.maxWidth,T,"clientWidth"),A=re(E.maxHeight,T,"clientHeight")}else D=e.clientWidth,O=e.clientHeight}return{width:D,height:O,maxWidth:C||E,maxHeight:A||E}}(e,D,O);let{width:z,height:nt}=I;if("content-box"===A.boxSizing){const e=de(A,"border","width"),D=de(A,"padding");z-=D.width+e.width,nt-=D.height+e.height}return z=Math.max(0,z-T.width),nt=Math.max(0,C?Math.floor(z/C):nt-T.height),z=fe(Math.min(z,L,I.maxWidth)),nt=fe(Math.min(nt,R,I.maxHeight)),z&&!nt&&(nt=fe(z/2)),{width:z,height:nt}}function pe(e,D,O){const C=D||1,A=Math.floor(e.height*C),T=Math.floor(e.width*C);e.height=A/C,e.width=T/C;const E=e.canvas;return E.style&&(O||!E.style.height&&!E.style.width)&&(E.style.height=`${e.height}px`,E.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==C||E.height!==A||E.width!==T)&&(e.currentDevicePixelRatio=C,E.height=A,E.width=T,e.ctx.setTransform(C,0,0,C,0,0),!0)}const si=function(){let e=!1;try{const D={get passive(){return e=!0,!1}};window.addEventListener("test",null,D),window.removeEventListener("test",null,D)}catch(e){}return e}();function be(e,D){const O=he(e,D),C=O&&O.match(/^(\d+)(\.\d+)?px$/);return C?+C[1]:void 0}function xe(e){return!e||i(e.size)||i(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function _e(e,D,O,C,A){let T=D[A];return T||(T=D[A]=e.measureText(A).width,O.push(A)),T>C&&(C=T),C}function ye(e,D,O,C){let A=(C=C||{}).data=C.data||{},T=C.garbageCollect=C.garbageCollect||[];C.font!==D&&(A=C.data={},T=C.garbageCollect=[],C.font=D),e.save(),e.font=D;let E=0;const L=O.length;let R,I,z,nt,lt;for(R=0;R<L;R++)if(nt=O[R],null!=nt&&!0!==s(nt))E=_e(e,A,T,E,nt);else if(s(nt))for(I=0,z=nt.length;I<z;I++)lt=nt[I],null==lt||s(lt)||(E=_e(e,A,T,E,lt));e.restore();const mt=T.length/2;if(mt>O.length){for(R=0;R<mt;R++)delete A[T[R]];T.splice(0,mt)}return E}function ve(e,D,O){const C=e.currentDevicePixelRatio,A=0!==O?Math.max(O/2,.5):0;return Math.round((D-A)*C)/C+A}function we(e,D){(D=D||e.getContext("2d")).save(),D.resetTransform(),D.clearRect(0,0,e.width,e.height),D.restore()}function Me(e,D,O,C){ke(e,D,O,C,null)}function ke(e,D,O,T,E){let nt,lt,mt,Mt,kt,Ct;const Bt=D.pointStyle,Vt=D.rotation,Nt=D.radius;let jt=(Vt||0)*L;if(Bt&&"object"==typeof Bt&&(nt=Bt.toString(),"[object HTMLImageElement]"===nt||"[object HTMLCanvasElement]"===nt))return e.save(),e.translate(O,T),e.rotate(jt),e.drawImage(Bt,-Bt.width/2,-Bt.height/2,Bt.width,Bt.height),void e.restore();if(!(isNaN(Nt)||Nt<=0)){switch(e.beginPath(),Bt){default:E?e.ellipse(O,T,E/2,Nt,0,0,A):e.arc(O,T,Nt,0,A),e.closePath();break;case"triangle":e.moveTo(O+Math.sin(jt)*Nt,T-Math.cos(jt)*Nt),jt+=z,e.lineTo(O+Math.sin(jt)*Nt,T-Math.cos(jt)*Nt),jt+=z,e.lineTo(O+Math.sin(jt)*Nt,T-Math.cos(jt)*Nt),e.closePath();break;case"rectRounded":kt=.516*Nt,Mt=Nt-kt,lt=Math.cos(jt+I)*Mt,mt=Math.sin(jt+I)*Mt,e.arc(O-lt,T-mt,kt,jt-C,jt-R),e.arc(O+mt,T-lt,kt,jt-R,jt),e.arc(O+lt,T+mt,kt,jt,jt+R),e.arc(O-mt,T+lt,kt,jt+R,jt+C),e.closePath();break;case"rect":if(!Vt){Mt=Math.SQRT1_2*Nt,Ct=E?E/2:Mt,e.rect(O-Ct,T-Mt,2*Ct,2*Mt);break}jt+=I;case"rectRot":lt=Math.cos(jt)*Nt,mt=Math.sin(jt)*Nt,e.moveTo(O-lt,T-mt),e.lineTo(O+mt,T-lt),e.lineTo(O+lt,T+mt),e.lineTo(O-mt,T+lt),e.closePath();break;case"crossRot":jt+=I;case"cross":lt=Math.cos(jt)*Nt,mt=Math.sin(jt)*Nt,e.moveTo(O-lt,T-mt),e.lineTo(O+lt,T+mt),e.moveTo(O+mt,T-lt),e.lineTo(O-mt,T+lt);break;case"star":lt=Math.cos(jt)*Nt,mt=Math.sin(jt)*Nt,e.moveTo(O-lt,T-mt),e.lineTo(O+lt,T+mt),e.moveTo(O+mt,T-lt),e.lineTo(O-mt,T+lt),jt+=I,lt=Math.cos(jt)*Nt,mt=Math.sin(jt)*Nt,e.moveTo(O-lt,T-mt),e.lineTo(O+lt,T+mt),e.moveTo(O+mt,T-lt),e.lineTo(O-mt,T+lt);break;case"line":lt=E?E/2:Math.cos(jt)*Nt,mt=Math.sin(jt)*Nt,e.moveTo(O-lt,T-mt),e.lineTo(O+lt,T+mt);break;case"dash":e.moveTo(O,T),e.lineTo(O+Math.cos(jt)*Nt,T+Math.sin(jt)*Nt)}e.fill(),D.borderWidth>0&&e.stroke()}}function Se(e,D,O){return O=O||.5,!D||e&&e.x>D.left-O&&e.x<D.right+O&&e.y>D.top-O&&e.y<D.bottom+O}function Pe(e,D){e.save(),e.beginPath(),e.rect(D.left,D.top,D.right-D.left,D.bottom-D.top),e.clip()}function De(e){e.restore()}function Oe(e,D,O,C,A){if(!D)return e.lineTo(O.x,O.y);if("middle"===A){const C=(D.x+O.x)/2;e.lineTo(C,D.y),e.lineTo(C,O.y)}else"after"===A!=!!C?e.lineTo(D.x,O.y):e.lineTo(O.x,D.y);e.lineTo(O.x,O.y)}function Ce(e,D,O,C){if(!D)return e.lineTo(O.x,O.y);e.bezierCurveTo(C?D.cp1x:D.cp2x,C?D.cp1y:D.cp2y,C?O.cp2x:O.cp1x,C?O.cp2y:O.cp1y,O.x,O.y)}function Ae(e,D,O,C,A,T={}){const E=s(D)?D:[D],L=T.strokeWidth>0&&""!==T.strokeColor;let R,I;for(e.save(),e.font=A.string,function(e,D){D.translation&&e.translate(D.translation[0],D.translation[1]);i(D.rotation)||e.rotate(D.rotation);D.color&&(e.fillStyle=D.color);D.textAlign&&(e.textAlign=D.textAlign);D.textBaseline&&(e.textBaseline=D.textBaseline)}(e,T),R=0;R<E.length;++R)I=E[R],L&&(T.strokeColor&&(e.strokeStyle=T.strokeColor),i(T.strokeWidth)||(e.lineWidth=T.strokeWidth),e.strokeText(I,O,C,T.maxWidth)),e.fillText(I,O,C,T.maxWidth),Te(e,O,C,I,T),C+=A.lineHeight;e.restore()}function Te(e,D,O,C,A){if(A.strikethrough||A.underline){const T=e.measureText(C),E=D-T.actualBoundingBoxLeft,L=D+T.actualBoundingBoxRight,R=O-T.actualBoundingBoxAscent,I=O+T.actualBoundingBoxDescent,z=A.strikethrough?(R+I)/2:I;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=A.decorationWidth||2,e.moveTo(E,z),e.lineTo(L,z),e.stroke()}}function Le(e,D){const{x:O,y:A,w:T,h:E,radius:L}=D;e.arc(O+L.topLeft,A+L.topLeft,L.topLeft,-R,C,!0),e.lineTo(O,A+E-L.bottomLeft),e.arc(O+L.bottomLeft,A+E-L.bottomLeft,L.bottomLeft,C,R,!0),e.lineTo(O+T-L.bottomRight,A+E),e.arc(O+T-L.bottomRight,A+E-L.bottomRight,L.bottomRight,R,0,!0),e.lineTo(O+T,A+L.topRight),e.arc(O+T-L.topRight,A+L.topRight,L.topRight,0,-R,!0),e.lineTo(O+L.topLeft,A)}function Ee(e,D=[""],O=e,C,A=(()=>e[0])){M(C)||(C=$e("_fallback",e));const T={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:O,_fallback:C,_getTarget:A,override:A=>Ee([A,...e],D,O,C)};return new Proxy(T,{deleteProperty:(D,O)=>(delete D[O],delete D._keys,delete e[0][O],!0),get:(O,C)=>Ve(O,C,(()=>function(e,D,O,C){let A;for(const T of D)if(A=$e(ze(T,e),O),M(A))return Fe(e,A)?je(O,C,e,A):A}(C,D,e,O))),getOwnPropertyDescriptor:(e,D)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],D),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,D)=>Ye(e).includes(D),ownKeys:e=>Ye(e),set(e,D,O){const C=e._storage||(e._storage=A());return e[D]=C[D]=O,delete e._keys,!0}})}function Re(e,D,O,C){const A={_cacheable:!1,_proxy:e,_context:D,_subProxy:O,_stack:new Set,_descriptors:Ie(e,C),setContext:D=>Re(e,D,O,C),override:A=>Re(e.override(A),D,O,C)};return new Proxy(A,{deleteProperty:(D,O)=>(delete D[O],delete e[O],!0),get:(e,D,O)=>Ve(e,D,(()=>function(e,D,O){const{_proxy:C,_context:A,_subProxy:T,_descriptors:E}=e;let L=C[D];k(L)&&E.isScriptable(D)&&(L=function(e,D,O,C){const{_proxy:A,_context:T,_subProxy:E,_stack:L}=O;if(L.has(e))throw new Error("Recursion detected: "+Array.from(L).join("->")+"->"+e);L.add(e),D=D(T,E||C),L.delete(e),Fe(e,D)&&(D=je(A._scopes,A,e,D));return D}(D,L,e,O));s(L)&&L.length&&(L=function(e,D,O,C){const{_proxy:A,_context:T,_subProxy:E,_descriptors:L}=O;if(M(T.index)&&C(e))D=D[T.index%D.length];else if(n(D[0])){const O=D,C=A._scopes.filter((e=>e!==O));D=[];for(const R of O){const O=je(C,A,e,R);D.push(Re(O,T,E&&E[e],L))}}return D}(D,L,e,E.isIndexable));Fe(D,L)&&(L=Re(L,A,T&&T[D],E));return L}(e,D,O))),getOwnPropertyDescriptor:(D,O)=>D._descriptors.allKeys?Reflect.has(e,O)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,O),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(D,O)=>Reflect.has(e,O),ownKeys:()=>Reflect.ownKeys(e),set:(D,O,C)=>(e[O]=C,delete D[O],!0)})}function Ie(e,D={scriptable:!0,indexable:!0}){const{_scriptable:O=D.scriptable,_indexable:C=D.indexable,_allKeys:A=D.allKeys}=e;return{allKeys:A,scriptable:O,indexable:C,isScriptable:k(O)?O:()=>O,isIndexable:k(C)?C:()=>C}}const ze=(e,D)=>e?e+w(D):D,Fe=(e,D)=>n(D)&&"adapters"!==e&&(null===Object.getPrototypeOf(D)||D.constructor===Object);function Ve(e,D,O){if(Object.prototype.hasOwnProperty.call(e,D))return e[D];const C=O();return e[D]=C,C}function Be(e,D,O){return k(e)?e(D,O):e}const Ne=(e,D)=>!0===e?D:"string"==typeof e?y(D,e):void 0;function We(e,D,O,C,A){for(const T of D){const D=Ne(O,T);if(D){e.add(D);const T=Be(D._fallback,O,A);if(M(T)&&T!==O&&T!==C)return T}else if(!1===D&&M(C)&&O!==C)return null}return!1}function je(e,D,O,C){const A=D._rootScopes,T=Be(D._fallback,O,C),E=[...e,...A],L=new Set;L.add(C);let R=He(L,E,O,T||O,C);return null!==R&&(!M(T)||T===O||(R=He(L,E,T,R,C),null!==R))&&Ee(Array.from(L),[""],A,T,(()=>function(e,D,O){const C=e._getTarget();D in C||(C[D]={});const A=C[D];return s(A)&&n(O)?O:A}(D,O,C)))}function He(e,D,O,C,A){for(;O;)O=We(e,D,O,C,A);return O}function $e(e,D){for(const O of D){if(!O)continue;const D=O[e];if(M(D))return D}}function Ye(e){let D=e._keys;return D||(D=e._keys=function(e){const D=new Set;for(const O of e)for(const e of Object.keys(O).filter((e=>!e.startsWith("_"))))D.add(e);return Array.from(D)}(e._scopes)),D}function Ue(D,O,C,A){const{iScale:T}=D,{key:E="r"}=(this||e)._parsing,L=new Array(A);let R,I,z,nt;for(R=0,I=A;R<I;++R)z=R+C,nt=O[z],L[R]={r:T.parse(y(nt,E),z)};return L}const ri=Number.EPSILON||1e-14,qe=(e,D)=>D<e.length&&!e[D].skip&&e[D],Ke=e=>"x"===e?"y":"x";function Ge(e,D,O,C){const A=e.skip?D:e,T=D,E=O.skip?D:O,L=X(T,A),R=X(E,T);let I=L/(L+R),z=R/(L+R);I=isNaN(I)?0:I,z=isNaN(z)?0:z;const nt=C*I,lt=C*z;return{previous:{x:T.x-nt*(E.x-A.x),y:T.y-nt*(E.y-A.y)},next:{x:T.x+lt*(E.x-A.x),y:T.y+lt*(E.y-A.y)}}}function Ze(e,D="x"){const O=Ke(D),C=e.length,A=Array(C).fill(0),T=Array(C);let E,L,R,I=qe(e,0);for(E=0;E<C;++E)if(L=R,R=I,I=qe(e,E+1),R){if(I){const e=I[D]-R[D];A[E]=0!==e?(I[O]-R[O])/e:0}T[E]=L?I?lt(A[E-1])!==lt(A[E])?0:(A[E-1]+A[E])/2:A[E-1]:A[E]}!function(e,D,O){const C=e.length;let A,T,E,L,R,I=qe(e,0);for(let z=0;z<C-1;++z)R=I,I=qe(e,z+1),R&&I&&(N(D[z],0,ri)?O[z]=O[z+1]=0:(A=O[z]/D[z],T=O[z+1]/D[z],L=Math.pow(A,2)+Math.pow(T,2),L<=9||(E=3/Math.sqrt(L),O[z]=A*E*D[z],O[z+1]=T*E*D[z])))}(e,A,T),function(e,D,O="x"){const C=Ke(O),A=e.length;let T,E,L,R=qe(e,0);for(let I=0;I<A;++I){if(E=L,L=R,R=qe(e,I+1),!L)continue;const A=L[O],z=L[C];E&&(T=(A-E[O])/3,L[`cp1${O}`]=A-T,L[`cp1${C}`]=z-T*D[I]),R&&(T=(R[O]-A)/3,L[`cp2${O}`]=A+T,L[`cp2${C}`]=z+T*D[I])}}(e,T,D)}function Je(e,D,O){return Math.max(Math.min(e,O),D)}function Qe(e,D,O,C,A){let T,E,L,R;if(D.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===D.cubicInterpolationMode)Ze(e,A);else{let O=C?e[e.length-1]:e[0];for(T=0,E=e.length;T<E;++T)L=e[T],R=Ge(O,L,e[Math.min(T+1,E-(C?0:1))%E],D.tension),L.cp1x=R.previous.x,L.cp1y=R.previous.y,L.cp2x=R.next.x,L.cp2y=R.next.y,O=L}D.capBezierPoints&&function(e,D){let O,C,A,T,E,L=Se(e[0],D);for(O=0,C=e.length;O<C;++O)E=T,T=L,L=O<C-1&&Se(e[O+1],D),T&&(A=e[O],E&&(A.cp1x=Je(A.cp1x,D.left,D.right),A.cp1y=Je(A.cp1y,D.top,D.bottom)),L&&(A.cp2x=Je(A.cp2x,D.left,D.right),A.cp2y=Je(A.cp2y,D.top,D.bottom)))}(e,O)}const ti=e=>0===e||1===e,ei=(e,D,O)=>-Math.pow(2,10*(e-=1))*Math.sin((e-D)*A/O),ii=(e,D,O)=>Math.pow(2,-10*e)*Math.sin((e-D)*A/O)+1,hi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*R),easeOutSine:e=>Math.sin(e*R),easeInOutSine:e=>-.5*(Math.cos(C*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ti(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ti(e)?e:ei(e,.075,.3),easeOutElastic:e=>ti(e)?e:ii(e,.075,.3),easeInOutElastic(e){const D=.1125;return ti(e)?e:e<.5?.5*ei(2*e,D,.45):.5+.5*ii(2*e-1,D,.45)},easeInBack(e){const D=1.70158;return e*e*((D+1)*e-D)},easeOutBack(e){const D=1.70158;return(e-=1)*e*((D+1)*e+D)+1},easeInOutBack(e){let D=1.70158;return(e/=.5)<1?e*e*((1+(D*=1.525))*e-D)*.5:.5*((e-=2)*e*((1+(D*=1.525))*e+D)+2)},easeInBounce:e=>1-hi.easeOutBounce(1-e),easeOutBounce(e){const D=7.5625,O=2.75;return e<1/O?D*e*e:e<2/O?D*(e-=1.5/O)*e+.75:e<2.5/O?D*(e-=2.25/O)*e+.9375:D*(e-=2.625/O)*e+.984375},easeInOutBounce:e=>e<.5?.5*hi.easeInBounce(2*e):.5*hi.easeOutBounce(2*e-1)+.5};function ni(e,D,O,C){return{x:e.x+O*(D.x-e.x),y:e.y+O*(D.y-e.y)}}function oi(e,D,O,C){return{x:e.x+O*(D.x-e.x),y:"middle"===C?O<.5?e.y:D.y:"after"===C?O<1?e.y:D.y:O>0?D.y:e.y}}function ai(e,D,O,C){const A={x:e.cp2x,y:e.cp2y},T={x:D.cp1x,y:D.cp1y},E=ni(e,A,O),L=ni(A,T,O),R=ni(T,D,O),I=ni(E,L,O),z=ni(L,R,O);return ni(I,z,O)}const ci=new Map;function li(e,D,O){return function(e,D){D=D||{};const O=e+JSON.stringify(D);let C=ci.get(O);return C||(C=new Intl.NumberFormat(e,D),ci.set(O,C)),C}(D,O).format(e)}const Ti=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Bi=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function di(e,D){const O=(""+e).match(Ti);if(!O||"normal"===O[1])return 1.2*D;switch(e=+O[2],O[3]){case"px":return e;case"%":e/=100}return D*e}function ui(e,D){const O={},C=n(D),A=C?Object.keys(D):D,T=n(e)?C?O=>r(e[O],e[D[O]]):D=>e[D]:()=>e;for(const e of A)O[e]=+T(e)||0;return O}function fi(e){return ui(e,{top:"y",right:"x",bottom:"y",left:"x"})}function gi(e){return ui(e,["topLeft","topRight","bottomLeft","bottomRight"])}function pi(e){const D=fi(e);return D.width=D.left+D.right,D.height=D.top+D.bottom,D}function mi(e,D){e=e||{},D=D||me.font;let O=r(e.size,D.size);"string"==typeof O&&(O=parseInt(O,10));let C=r(e.style,D.style);C&&!(""+C).match(Bi)&&(console.warn('Invalid font style specified: "'+C+'"'),C="");const A={family:r(e.family,D.family),lineHeight:di(r(e.lineHeight,D.lineHeight),O),size:O,style:C,weight:r(e.weight,D.weight),string:""};return A.string=xe(A),A}function bi(e,D,O,C){let A,T,E,L=!0;for(A=0,T=e.length;A<T;++A)if(E=e[A],void 0!==E&&(void 0!==D&&"function"==typeof E&&(E=E(D),L=!1),void 0!==O&&s(E)&&(E=E[O%E.length],L=!1),void 0!==E))return C&&!L&&(C.cacheable=!1),E}function xi(e,D,O){const{min:C,max:A}=e,T=h(D,(A-C)/2),a=(e,D)=>O&&0===e?0:e+D;return{min:a(C,-Math.abs(T)),max:a(A,T)}}function _i(e,D){return Object.assign(Object.create(e),D)}function yi(e,D,O){return e?function(e,D){return{x:O=>e+e+D-O,setWidth(e){D=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,D)=>e-D,leftForLtr:(e,D)=>e-D}}(D,O):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,D)=>e+D,leftForLtr:(e,D)=>e}}function vi(e,D){let O,C;"ltr"!==D&&"rtl"!==D||(O=e.canvas.style,C=[O.getPropertyValue("direction"),O.getPropertyPriority("direction")],O.setProperty("direction",D,"important"),e.prevTextDirection=C)}function wi(e,D){void 0!==D&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",D[0],D[1]))}function Mi(e){return"angle"===e?{between:G,compare:q,normalize:K}:{between:Q,compare:(e,D)=>e-D,normalize:e=>e}}function ki({start:e,end:D,count:O,loop:C,style:A}){return{start:e%O,end:D%O,loop:C&&(D-e+1)%O==0,style:A}}function Si(e,D,O){if(!O)return[e];const{property:C,start:A,end:T}=O,E=D.length,{compare:L,between:R,normalize:I}=Mi(C),{start:z,end:nt,loop:lt,style:mt}=function(e,D,O){const{property:C,start:A,end:T}=O,{between:E,normalize:L}=Mi(C),R=D.length;let I,z,{start:nt,end:lt,loop:mt}=e;if(mt){for(nt+=R,lt+=R,I=0,z=R;I<z&&E(L(D[nt%R][C]),A,T);++I)nt--,lt--;nt%=R,lt%=R}return lt<nt&&(lt+=R),{start:nt,end:lt,loop:mt,style:e.style}}(e,D,O),Mt=[];let kt,Ct,Bt,Vt=!1,Nt=null;const y=()=>Vt||R(A,Bt,kt)&&0!==L(A,Bt),v=()=>!Vt||0===L(T,kt)||R(T,Bt,kt);for(let e=z,O=z;e<=nt;++e)Ct=D[e%E],Ct.skip||(kt=I(Ct[C]),kt!==Bt&&(Vt=R(kt,A,T),null===Nt&&y()&&(Nt=0===L(kt,A)?e:O),null!==Nt&&v()&&(Mt.push(ki({start:Nt,end:e,loop:lt,count:E,style:mt})),Nt=null),O=e,Bt=kt));return null!==Nt&&Mt.push(ki({start:Nt,end:nt,loop:lt,count:E,style:mt})),Mt}function Pi(e,D){const O=[],C=e.segments;for(let A=0;A<C.length;A++){const T=Si(C[A],e.points,D);T.length&&O.push(...T)}return O}function Di(e,D){const O=e.points,C=e.options.spanGaps,A=O.length;if(!A)return[];const T=!!e._loop,{start:E,end:L}=function(e,D,O,C){let A=0,T=D-1;if(O&&!C)for(;A<D&&!e[A].skip;)A++;for(;A<D&&e[A].skip;)A++;for(A%=D,O&&(T+=A);T>A&&e[T%D].skip;)T--;return T%=D,{start:A,end:T}}(O,A,T,C);return Oi(e,!0===C?[{start:E,end:L,loop:T}]:function(e,D,O,C){const A=e.length,T=[];let E,L=D,R=e[D];for(E=D+1;E<=O;++E){const O=e[E%A];O.skip||O.stop?R.skip||(C=!1,T.push({start:D%A,end:(E-1)%A,loop:C}),D=L=O.stop?E:null):(L=E,R.skip&&(D=E)),R=O}return null!==L&&T.push({start:D%A,end:L%A,loop:C}),T}(O,E,L<E?L+A:L,!!e._fullLoop&&0===E&&L===A-1),O,D)}function Oi(e,D,O,C){return C&&C.setContext&&O?function(e,D,O,C){const A=e._chart.getContext(),T=Ci(e.options),{_datasetIndex:E,options:{spanGaps:L}}=e,R=O.length,I=[];let z=T,nt=D[0].start,lt=nt;function f(e,D,C,A){const T=L?-1:1;if(e!==D){for(e+=R;O[e%R].skip;)e-=T;for(;O[D%R].skip;)D+=T;e%R!=D%R&&(I.push({start:e%R,end:D%R,loop:C,style:A}),z=A,nt=D%R)}}for(const e of D){nt=L?nt:e.start;let D,T=O[nt%R];for(lt=nt+1;lt<=e.end;lt++){const L=O[lt%R];D=Ci(C.setContext(_i(A,{type:"segment",p0:T,p1:L,p0DataIndex:(lt-1)%R,p1DataIndex:lt%R,datasetIndex:E}))),Ai(D,z)&&f(nt,lt-1,e.loop,z),T=L,z=D}nt<lt-1&&f(nt,lt-1,e.loop,z)}return I}(e,D,O,C):D}function Ci(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Ai(e,D){return D&&JSON.stringify(e)!==JSON.stringify(D)}var Vi=Object.freeze({__proto__:null,easingEffects:hi,isPatternOrGradient:Zt,color:Jt,getHoverColor:Qt,noop:t,uid:D,isNullOrUndef:i,isArray:s,isObject:n,isFinite:o,finiteOrDefault:a,valueOrDefault:r,toPercentage:l,toDimension:h,callback:c,each:d,_elementsEqual:u,clone:f,_merger:p,merge:m,mergeIf:b,_mergerIf:x,_deprecated:function(e,D,O,C){void 0!==D&&console.warn(e+': "'+O+'" is deprecated. Please use "'+C+'" instead')},resolveObjectKey:y,_splitKey:v,_capitalize:w,defined:M,isFunction:k,setsEqual:S,_isClickEvent:P,toFontString:xe,_measureText:_e,_longestText:ye,_alignPixel:ve,clearCanvas:we,drawPoint:Me,drawPointLegend:ke,_isPointInArea:Se,clipArea:Pe,unclipArea:De,_steppedLineTo:Oe,_bezierCurveTo:Ce,renderText:Ae,addRoundedRectPath:Le,_lookup:tt,_lookupByKey:et,_rlookupByKey:it,_filterBetween:st,listenArrayEvents:ot,unlistenArrayEvents:at,_arrayUnique:rt,_createResolver:Ee,_attachContext:Re,_descriptors:Ie,_parseObjectDataRadialScale:Ue,splineCurve:Ge,splineCurveMonotone:Ze,_updateBezierControlPoints:Qe,_isDomSupported:oe,_getParentNode:ae,getStyle:he,getRelativePosition:ue,getMaximumSize:ge,retinaScale:pe,supportsEventListenerOptions:si,readUsedSize:be,fontString:function(e,D,O){return D+" "+e+"px "+O},requestAnimFrame:Mt,throttled:ht,debounce:ct,_toLeftRightCenter:dt,_alignStartEnd:ut,_textX:ft,_getStartAndCountOfVisiblePoints:gt,_scaleRangesChanged:pt,_pointInLine:ni,_steppedInterpolation:oi,_bezierInterpolation:ai,formatNumber:li,toLineHeight:di,_readValueToProps:ui,toTRBL:fi,toTRBLCorners:gi,toPadding:pi,toFont:mi,resolve:bi,_addGrace:xi,createContext:_i,PI:C,TAU:A,PITAU:T,INFINITY:E,RAD_PER_DEG:L,HALF_PI:R,QUARTER_PI:I,TWO_THIRDS_PI:z,log10:nt,sign:lt,niceNum:F,_factorize:V,isNumber:B,almostEquals:N,almostWhole:W,_setMinAndMaxByKey:j,toRadians:H,toDegrees:$,_decimalPlaces:Y,getAngleFromPoint:U,distanceBetweenPoints:X,_angleDiff:q,_normalizeAngle:K,_angleBetween:G,_limitValue:Z,_int16Range:J,_isBetween:Q,getRtlAdapter:yi,overrideTextDirection:vi,restoreTextDirection:wi,_boundSegment:Si,_boundSegments:Pi,_computeSegments:Di});function Li(e,D,O,C){const{controller:A,data:T,_sorted:E}=e,L=A._cachedMeta.iScale;if(L&&D===L.axis&&"r"!==D&&E&&T.length){const e=L._reversePixels?it:et;if(!C)return e(T,D,O);if(A._sharedOptions){const C=T[0],A="function"==typeof C.getRange&&C.getRange(D);if(A){const C=e(T,D,O-A),E=e(T,D,O+A);return{lo:C.lo,hi:E.hi}}}}return{lo:0,hi:T.length-1}}function Ei(e,D,O,C,A){const T=e.getSortedVisibleDatasetMetas(),E=O[D];for(let e=0,O=T.length;e<O;++e){const{index:O,data:L}=T[e],{lo:R,hi:I}=Li(T[e],D,E,A);for(let e=R;e<=I;++e){const D=L[e];D.skip||C(D,O,e)}}}function Ri(e,D,O,C,A){const T=[];return A||e.isPointInArea(D)?(Ei(e,O,D,(function(O,E,L){(A||Se(O,e.chartArea,0))&&O.inRange(D.x,D.y,C)&&T.push({element:O,datasetIndex:E,index:L})}),!0),T):T}function Ii(e,D,O,C,A,T){let E=[];const L=function(e){const D=-1!==e.indexOf("x"),O=-1!==e.indexOf("y");return function(e,C){const A=D?Math.abs(e.x-C.x):0,T=O?Math.abs(e.y-C.y):0;return Math.sqrt(Math.pow(A,2)+Math.pow(T,2))}}(O);let R=Number.POSITIVE_INFINITY;return Ei(e,O,D,(function(O,I,z){const nt=O.inRange(D.x,D.y,A);if(C&&!nt)return;const lt=O.getCenterPoint(A);if(!(!!T||e.isPointInArea(lt))&&!nt)return;const mt=L(D,lt);mt<R?(E=[{element:O,datasetIndex:I,index:z}],R=mt):mt===R&&E.push({element:O,datasetIndex:I,index:z})})),E}function zi(e,D,O,C,A,T){return T||e.isPointInArea(D)?"r"!==O||C?Ii(e,D,O,C,A,T):function(e,D,O,C){let A=[];return Ei(e,O,D,(function(e,O,T){const{startAngle:E,endAngle:L}=e.getProps(["startAngle","endAngle"],C),{angle:R}=U(e,{x:D.x,y:D.y});G(R,E,L)&&A.push({element:e,datasetIndex:O,index:T})})),A}(e,D,O,A):[]}function Fi(e,D,O,C,A){const T=[],E="x"===O?"inXRange":"inYRange";let L=!1;return Ei(e,O,D,((e,C,R)=>{e[E](D[O],A)&&(T.push({element:e,datasetIndex:C,index:R}),L=L||e.inRange(D.x,D.y,A))})),C&&!L?[]:T}var Zi={evaluateInteractionItems:Ei,modes:{index(e,D,O,C){const A=ue(D,e),T=O.axis||"x",E=O.includeInvisible||!1,L=O.intersect?Ri(e,A,T,C,E):zi(e,A,T,!1,C,E),R=[];return L.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const D=L[0].index,O=e.data[D];O&&!O.skip&&R.push({element:O,datasetIndex:e.index,index:D})})),R):[]},dataset(e,D,O,C){const A=ue(D,e),T=O.axis||"xy",E=O.includeInvisible||!1;let L=O.intersect?Ri(e,A,T,C,E):zi(e,A,T,!1,C,E);if(L.length>0){const D=L[0].datasetIndex,O=e.getDatasetMeta(D).data;L=[];for(let e=0;e<O.length;++e)L.push({element:O[e],datasetIndex:D,index:e})}return L},point:(e,D,O,C)=>Ri(e,ue(D,e),O.axis||"xy",C,O.includeInvisible||!1),nearest(e,D,O,C){const A=ue(D,e),T=O.axis||"xy",E=O.includeInvisible||!1;return zi(e,A,T,O.intersect,C,E)},x:(e,D,O,C)=>Fi(e,ue(D,e),"x",O.intersect,C),y:(e,D,O,C)=>Fi(e,ue(D,e),"y",O.intersect,C)}};const ts=["left","top","right","bottom"];function Ni(e,D){return e.filter((e=>e.pos===D))}function Wi(e,D){return e.filter((e=>-1===ts.indexOf(e.pos)&&e.box.axis===D))}function ji(e,D){return e.sort(((e,O)=>{const C=D?O:e,A=D?e:O;return C.weight===A.weight?C.index-A.index:C.weight-A.weight}))}function Hi(e,D){const O=function(e){const D={};for(const O of e){const{stack:e,pos:C,stackWeight:A}=O;if(!e||!ts.includes(C))continue;const T=D[e]||(D[e]={count:0,placed:0,weight:0,size:0});T.count++,T.weight+=A}return D}(e),{vBoxMaxWidth:C,hBoxMaxHeight:A}=D;let T,E,L;for(T=0,E=e.length;T<E;++T){L=e[T];const{fullSize:E}=L.box,R=O[L.stack],I=R&&L.stackWeight/R.weight;L.horizontal?(L.width=I?I*C:E&&D.availableWidth,L.height=A):(L.width=C,L.height=I?I*A:E&&D.availableHeight)}return O}function $i(e,D,O,C){return Math.max(e[O],D[O])+Math.max(e[C],D[C])}function Yi(e,D){e.top=Math.max(e.top,D.top),e.left=Math.max(e.left,D.left),e.bottom=Math.max(e.bottom,D.bottom),e.right=Math.max(e.right,D.right)}function Ui(e,D,O,C){const{pos:A,box:T}=O,E=e.maxPadding;if(!n(A)){O.size&&(e[A]-=O.size);const D=C[O.stack]||{size:0,count:1};D.size=Math.max(D.size,O.horizontal?T.height:T.width),O.size=D.size/D.count,e[A]+=O.size}T.getPadding&&Yi(E,T.getPadding());const L=Math.max(0,D.outerWidth-$i(E,e,"left","right")),R=Math.max(0,D.outerHeight-$i(E,e,"top","bottom")),I=L!==e.w,z=R!==e.h;return e.w=L,e.h=R,O.horizontal?{same:I,other:z}:{same:z,other:I}}function Xi(e,D){const O=D.maxPadding;function s(e){const C={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{C[e]=Math.max(D[e],O[e])})),C}return s(e?["left","right"]:["top","bottom"])}function qi(e,D,O,C){const A=[];let T,E,L,R,I,z;for(T=0,E=e.length,I=0;T<E;++T){L=e[T],R=L.box,R.update(L.width||D.w,L.height||D.h,Xi(L.horizontal,D));const{same:E,other:nt}=Ui(D,O,L,C);I|=E&&A.length,z=z||nt,R.fullSize||A.push(L)}return I&&qi(A,D,O,C)||z}function Ki(e,D,O,C,A){e.top=O,e.left=D,e.right=D+C,e.bottom=O+A,e.width=C,e.height=A}function Gi(e,D,O,C){const A=O.padding;let{x:T,y:E}=D;for(const L of e){const e=L.box,R=C[L.stack]||{count:1,placed:0,weight:1},I=L.stackWeight/R.weight||1;if(L.horizontal){const C=D.w*I,T=R.size||e.height;M(R.start)&&(E=R.start),e.fullSize?Ki(e,A.left,E,O.outerWidth-A.right-A.left,T):Ki(e,D.left+R.placed,E,C,T),R.start=E,R.placed+=C,E=e.bottom}else{const C=D.h*I,E=R.size||e.width;M(R.start)&&(T=R.start),e.fullSize?Ki(e,T,A.top,E,O.outerHeight-A.bottom-A.top):Ki(e,T,D.top+R.placed,E,C),R.start=T,R.placed+=C,T=e.right}}D.x=T,D.y=E}me.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var is={addBox(e,D){e.boxes||(e.boxes=[]),D.fullSize=D.fullSize||!1,D.position=D.position||"top",D.weight=D.weight||0,D._layers=D._layers||function(){return[{z:0,draw(e){D.draw(e)}}]},e.boxes.push(D)},removeBox(e,D){const O=e.boxes?e.boxes.indexOf(D):-1;-1!==O&&e.boxes.splice(O,1)},configure(e,D,O){D.fullSize=O.fullSize,D.position=O.position,D.weight=O.weight},update(e,D,O,C){if(!e)return;const A=pi(e.options.layout.padding),T=Math.max(D-A.width,0),E=Math.max(O-A.height,0),L=function(e){const D=function(e){const D=[];let O,C,A,T,E,L;for(O=0,C=(e||[]).length;O<C;++O)A=e[O],({position:T,options:{stack:E,stackWeight:L=1}}=A),D.push({index:O,box:A,pos:T,horizontal:A.isHorizontal(),weight:A.weight,stack:E&&T+E,stackWeight:L});return D}(e),O=ji(D.filter((e=>e.box.fullSize)),!0),C=ji(Ni(D,"left"),!0),A=ji(Ni(D,"right")),T=ji(Ni(D,"top"),!0),E=ji(Ni(D,"bottom")),L=Wi(D,"x"),R=Wi(D,"y");return{fullSize:O,leftAndTop:C.concat(T),rightAndBottom:A.concat(R).concat(E).concat(L),chartArea:Ni(D,"chartArea"),vertical:C.concat(A).concat(R),horizontal:T.concat(E).concat(L)}}(e.boxes),R=L.vertical,I=L.horizontal;d(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const z=R.reduce(((e,D)=>D.box.options&&!1===D.box.options.display?e:e+1),0)||1,nt=Object.freeze({outerWidth:D,outerHeight:O,padding:A,availableWidth:T,availableHeight:E,vBoxMaxWidth:T/2/z,hBoxMaxHeight:E/2}),lt=Object.assign({},A);Yi(lt,pi(C));const mt=Object.assign({maxPadding:lt,w:T,h:E,x:A.left,y:A.top},A),Mt=Hi(R.concat(I),nt);qi(L.fullSize,mt,nt,Mt),qi(R,mt,nt,Mt),qi(I,mt,nt,Mt)&&qi(R,mt,nt,Mt),function(e){const D=e.maxPadding;function i(O){const C=Math.max(D[O]-e[O],0);return e[O]+=C,C}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}(mt),Gi(L.leftAndTop,mt,nt,Mt),mt.x+=mt.w,mt.y+=mt.h,Gi(L.rightAndBottom,mt,nt,Mt),e.chartArea={left:mt.left,top:mt.top,right:mt.left+mt.w,bottom:mt.top+mt.h,height:mt.h,width:mt.w},d(L.chartArea,(D=>{const O=D.box;Object.assign(O,e.chartArea),O.update(mt.w,mt.h,{left:0,top:0,right:0,bottom:0})}))}};class Ji{acquireContext(e,D){}releaseContext(e){return!1}addEventListener(e,D,O){}removeEventListener(e,D,O){}getDevicePixelRatio(){return 1}getMaximumSize(e,D,O,C){return D=Math.max(0,D||e.width),O=O||e.height,{width:D,height:Math.max(0,C?Math.floor(D/C):O)}}isAttached(e){return!0}updateConfig(e){}}class Qi extends Ji{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const rs={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},es=e=>null===e||""===e;const ls=!!si&&{passive:!0};function ss(e,D,O){e.canvas.removeEventListener(D,O,ls)}function ns(e,D){for(const O of e)if(O===D||O.contains(D))return!0}function os(e,D,O){const C=e.canvas,A=new MutationObserver((e=>{let D=!1;for(const O of e)D=D||ns(O.addedNodes,C),D=D&&!ns(O.removedNodes,C);D&&O()}));return A.observe(document,{childList:!0,subtree:!0}),A}function as(e,D,O){const C=e.canvas,A=new MutationObserver((e=>{let D=!1;for(const O of e)D=D||ns(O.removedNodes,C),D=D&&!ns(O.addedNodes,C);D&&O()}));return A.observe(document,{childList:!0,subtree:!0}),A}const ps=new Map;let ms=0;function hs(){const e=window.devicePixelRatio;e!==ms&&(ms=e,ps.forEach(((D,O)=>{O.currentDevicePixelRatio!==e&&D()})))}function cs(e,D,O){const C=e.canvas,A=C&&ae(C);if(!A)return;const T=ht(((e,D)=>{const C=A.clientWidth;O(e,D),C<A.clientWidth&&O()}),window),E=new ResizeObserver((e=>{const D=e[0],O=D.contentRect.width,C=D.contentRect.height;0===O&&0===C||T(O,C)}));return E.observe(A),function(e,D){ps.size||window.addEventListener("resize",hs),ps.set(e,D)}(e,T),E}function ds(e,D,O){O&&O.disconnect(),"resize"===D&&function(e){ps.delete(e),ps.size||window.removeEventListener("resize",hs)}(e)}function us(e,D,O){const C=e.canvas,A=ht((D=>{null!==e.ctx&&O(function(e,D){const O=rs[e.type]||e.type,{x:C,y:A}=ue(e,D);return{type:O,chart:D,native:e,x:void 0!==C?C:null,y:void 0!==A?A:null}}(D,e))}),e,(e=>{const D=e[0];return[D,D.offsetX,D.offsetY]}));return function(e,D,O){e.addEventListener(D,O,ls)}(C,D,A),A}class fs extends Ji{acquireContext(e,D){const O=e&&e.getContext&&e.getContext("2d");return O&&O.canvas===e?(function(e,D){const O=e.style,C=e.getAttribute("height"),A=e.getAttribute("width");if(e.$chartjs={initial:{height:C,width:A,style:{display:O.display,height:O.height,width:O.width}}},O.display=O.display||"block",O.boxSizing=O.boxSizing||"border-box",es(A)){const D=be(e,"width");void 0!==D&&(e.width=D)}if(es(C))if(""===e.style.height)e.height=e.width/(D||2);else{const D=be(e,"height");void 0!==D&&(e.height=D)}}(e,D),O):null}releaseContext(e){const D=e.canvas;if(!D.$chartjs)return!1;const O=D.$chartjs.initial;["height","width"].forEach((e=>{const C=O[e];i(C)?D.removeAttribute(e):D.setAttribute(e,C)}));const C=O.style||{};return Object.keys(C).forEach((e=>{D.style[e]=C[e]})),D.width=D.width,delete D.$chartjs,!0}addEventListener(e,D,O){this.removeEventListener(e,D);const C=e.$proxies||(e.$proxies={}),A={attach:os,detach:as,resize:cs}[D]||us;C[D]=A(e,D,O)}removeEventListener(e,D){const O=e.$proxies||(e.$proxies={}),C=O[D];C&&(({attach:ds,detach:ds,resize:ds}[D]||ss)(e,D,C),O[D]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,D,O,C){return ge(e,D,O,C)}isAttached(e){const D=ae(e);return!(!D||!D.isConnected)}}function gs(e){return!oe()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Qi:fs}var bs=Object.freeze({__proto__:null,_detectPlatform:gs,BasePlatform:Ji,BasicPlatform:Qi,DomPlatform:fs});const _s="transparent",Rs={boolean:(e,D,O)=>O>.5?D:e,color(e,D,O){const C=Jt(e||_s),A=C.valid&&Jt(D||_s);return A&&A.valid?A.mix(C,O).hexString():D},number:(e,D,O)=>e+(D-e)*O};class xs{constructor(e,D,O,C){const A=D[O];C=bi([e.to,C,A,e.from]);const T=bi([e.from,A,C]);this._active=!0,this._fn=e.fn||Rs[e.type||typeof T],this._easing=hi[e.easing]||hi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=D,this._prop=O,this._from=T,this._to=C,this._promises=void 0}active(){return this._active}update(e,D,O){if(this._active){this._notify(!1);const C=this._target[this._prop],A=O-this._start,T=this._duration-A;this._start=O,this._duration=Math.floor(Math.max(T,e.duration)),this._total+=A,this._loop=!!e.loop,this._to=bi([e.to,D,C,e.from]),this._from=bi([e.from,C,D])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const D=e-this._start,O=this._duration,C=this._prop,A=this._from,T=this._loop,E=this._to;let L;if(this._active=A!==E&&(T||D<O),!this._active)return this._target[C]=E,void this._notify(!0);D<0?this._target[C]=A:(L=D/O%2,L=T&&L>1?2-L:L,L=this._easing(Math.min(1,Math.max(0,L))),this._target[C]=this._fn(A,E,L))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((D,O)=>{e.push({res:D,rej:O})}))}_notify(e){const D=e?"res":"rej",O=this._promises||[];for(let e=0;e<O.length;e++)O[e][D]()}}me.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Is=Object.keys(me.animation);me.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),me.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),me.describe("animations",{_fallback:"animation"}),me.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class ys{constructor(e,D){this._chart=e,this._properties=new Map,this.configure(D)}configure(e){if(!n(e))return;const D=this._properties;Object.getOwnPropertyNames(e).forEach((O=>{const C=e[O];if(!n(C))return;const A={};for(const e of Is)A[e]=C[e];(s(C.properties)&&C.properties||[O]).forEach((e=>{e!==O&&D.has(e)||D.set(e,A)}))}))}_animateOptions(e,D){const O=D.options,C=function(e,D){if(!D)return;let O=e.options;if(O){O.$shared&&(e.options=O=Object.assign({},O,{$shared:!1,$animations:{}}));return O}e.options=D}(e,O);if(!C)return[];const A=this._createAnimations(C,O);return O.$shared&&function(e,D){const O=[],C=Object.keys(D);for(let D=0;D<C.length;D++){const A=e[C[D]];A&&A.active()&&O.push(A.wait())}return Promise.all(O)}(e.options.$animations,O).then((()=>{e.options=O}),(()=>{})),A}_createAnimations(e,D){const O=this._properties,C=[],A=e.$animations||(e.$animations={}),T=Object.keys(D),E=Date.now();let L;for(L=T.length-1;L>=0;--L){const R=T[L];if("$"===R.charAt(0))continue;if("options"===R){C.push(...this._animateOptions(e,D));continue}const I=D[R];let z=A[R];const nt=O.get(R);if(z){if(nt&&z.active()){z.update(nt,I,E);continue}z.cancel()}nt&&nt.duration?(A[R]=z=new xs(nt,e,R,I),C.push(z)):e[R]=I}return C}update(e,D){if(0===this._properties.size)return void Object.assign(e,D);const O=this._createAnimations(e,D);return O.length?(kt.add(this._chart,O),!0):void 0}}function vs(e,D){const O=e&&e.options||{},C=O.reverse,A=void 0===O.min?D:0,T=void 0===O.max?D:0;return{start:C?T:A,end:C?A:T}}function ws(e,D){const O=[],C=e._getSortedDatasetMetas(D);let A,T;for(A=0,T=C.length;A<T;++A)O.push(C[A].index);return O}function Ms(e,D,O,C={}){const A=e.keys,T="single"===C.mode;let E,L,R,I;if(null!==D){for(E=0,L=A.length;E<L;++E){if(R=+A[E],R===O){if(C.all)continue;break}I=e.values[R],o(I)&&(T||0===D||lt(D)===lt(I))&&(D+=I)}return D}}function ks(e,D){const O=e&&e.options.stacked;return O||void 0===O&&void 0!==D.stack}function Ss(e,D,O){const C=e[D]||(e[D]={});return C[O]||(C[O]={})}function Ps(e,D,O,C){for(const A of D.getMatchingVisibleMetas(C).reverse()){const D=e[A.index];if(O&&D>0||!O&&D<0)return A.index}return null}function Ds(e,D){const{chart:O,_cachedMeta:C}=e,A=O._stacks||(O._stacks={}),{iScale:T,vScale:E,index:L}=C,R=T.axis,I=E.axis,z=function(e,D,O){return`${e.id}.${D.id}.${O.stack||O.type}`}(T,E,C),nt=D.length;let lt;for(let e=0;e<nt;++e){const O=D[e],{[R]:T,[I]:nt}=O;lt=(O._stacks||(O._stacks={}))[I]=Ss(A,z,T),lt[L]=nt,lt._top=Ps(lt,E,!0,C.type),lt._bottom=Ps(lt,E,!1,C.type)}}function Os(e,D){const O=e.scales;return Object.keys(O).filter((e=>O[e].axis===D)).shift()}function Cs(e,D){const O=e.controller.index,C=e.vScale&&e.vScale.axis;if(C){D=D||e._parsed;for(const e of D){const D=e._stacks;if(!D||void 0===D[C]||void 0===D[C][O])return;delete D[C][O]}}}const As=e=>"reset"===e||"none"===e,Ts=(e,D)=>D?e:Object.assign({},e);class Ls{constructor(e,D){this.chart=e,this._ctx=e.ctx,this.index=D,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ks(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Cs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,D=this._cachedMeta,O=this.getDataset(),s=(e,D,O,C)=>"x"===e?D:"r"===e?C:O,C=D.xAxisID=r(O.xAxisID,Os(e,"x")),A=D.yAxisID=r(O.yAxisID,Os(e,"y")),T=D.rAxisID=r(O.rAxisID,Os(e,"r")),E=D.indexAxis,L=D.iAxisID=s(E,C,A,T),R=D.vAxisID=s(E,A,C,T);D.xScale=this.getScaleForId(C),D.yScale=this.getScaleForId(A),D.rScale=this.getScaleForId(T),D.iScale=this.getScaleForId(L),D.vScale=this.getScaleForId(R)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const D=this._cachedMeta;return e===D.iScale?D.vScale:D.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&at(this._data,this),e._stacked&&Cs(e)}_dataCheck(){const e=this.getDataset(),D=e.data||(e.data=[]),O=this._data;if(n(D))this._data=function(e){const D=Object.keys(e),O=new Array(D.length);let C,A,T;for(C=0,A=D.length;C<A;++C)T=D[C],O[C]={x:T,y:e[T]};return O}(D);else if(O!==D){if(O){at(O,this);const e=this._cachedMeta;Cs(e),e._parsed=[]}D&&Object.isExtensible(D)&&ot(D,this),this._syncList=[],this._data=D}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const D=this._cachedMeta,O=this.getDataset();let C=!1;this._dataCheck();const A=D._stacked;D._stacked=ks(D.vScale,D),D.stack!==O.stack&&(C=!0,Cs(D),D.stack=O.stack),this._resyncElements(e),(C||A!==D._stacked)&&Ds(this,D._parsed)}configure(){const e=this.chart.config,D=e.datasetScopeKeys(this._type),O=e.getOptionScopes(this.getDataset(),D,!0);this.options=e.createResolver(O,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,D){const{_cachedMeta:O,_data:C}=this,{iScale:A,_stacked:T}=O,E=A.axis;let L,R,I,z=0===e&&D===C.length||O._sorted,nt=e>0&&O._parsed[e-1];if(!1===this._parsing)O._parsed=C,O._sorted=!0,I=C;else{I=s(C[e])?this.parseArrayData(O,C,e,D):n(C[e])?this.parseObjectData(O,C,e,D):this.parsePrimitiveData(O,C,e,D);const a=()=>null===R[E]||nt&&R[E]<nt[E];for(L=0;L<D;++L)O._parsed[L+e]=R=I[L],z&&(a()&&(z=!1),nt=R);O._sorted=z}T&&Ds(this,I)}parsePrimitiveData(e,D,O,C){const{iScale:A,vScale:T}=e,E=A.axis,L=T.axis,R=A.getLabels(),I=A===T,z=new Array(C);let nt,lt,mt;for(nt=0,lt=C;nt<lt;++nt)mt=nt+O,z[nt]={[E]:I||A.parse(R[mt],mt),[L]:T.parse(D[mt],mt)};return z}parseArrayData(e,D,O,C){const{xScale:A,yScale:T}=e,E=new Array(C);let L,R,I,z;for(L=0,R=C;L<R;++L)I=L+O,z=D[I],E[L]={x:A.parse(z[0],I),y:T.parse(z[1],I)};return E}parseObjectData(e,D,O,C){const{xScale:A,yScale:T}=e,{xAxisKey:E="x",yAxisKey:L="y"}=this._parsing,R=new Array(C);let I,z,nt,lt;for(I=0,z=C;I<z;++I)nt=I+O,lt=D[nt],R[I]={x:A.parse(y(lt,E),nt),y:T.parse(y(lt,L),nt)};return R}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,D,O){const C=this.chart,A=this._cachedMeta,T=D[e.axis];return Ms({keys:ws(C,!0),values:D._stacks[e.axis]},T,A.index,{mode:O})}updateRangeFromParsed(e,D,O,C){const A=O[D.axis];let T=null===A?NaN:A;const E=C&&O._stacks[D.axis];C&&E&&(C.values=E,T=Ms(C,A,this._cachedMeta.index)),e.min=Math.min(e.min,T),e.max=Math.max(e.max,T)}getMinMax(e,D){const O=this._cachedMeta,C=O._parsed,A=O._sorted&&e===O.iScale,T=C.length,E=this._getOtherScale(e),L=((e,D,O)=>e&&!D.hidden&&D._stacked&&{keys:ws(O,!0),values:null})(D,O,this.chart),R={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:I,max:z}=function(e){const{min:D,max:O,minDefined:C,maxDefined:A}=e.getUserBounds();return{min:C?D:Number.NEGATIVE_INFINITY,max:A?O:Number.POSITIVE_INFINITY}}(E);let nt,lt;function g(){lt=C[nt];const D=lt[E.axis];return!o(lt[e.axis])||I>D||z<D}for(nt=0;nt<T&&(g()||(this.updateRangeFromParsed(R,e,lt,L),!A));++nt);if(A)for(nt=T-1;nt>=0;--nt)if(!g()){this.updateRangeFromParsed(R,e,lt,L);break}return R}getAllParsedValues(e){const D=this._cachedMeta._parsed,O=[];let C,A,T;for(C=0,A=D.length;C<A;++C)T=D[C][e.axis],o(T)&&O.push(T);return O}getMaxOverflow(){return!1}getLabelAndValue(e){const D=this._cachedMeta,O=D.iScale,C=D.vScale,A=this.getParsed(e);return{label:O?""+O.getLabelForValue(A[O.axis]):"",value:C?""+C.getLabelForValue(A[C.axis]):""}}_update(e){const D=this._cachedMeta;this.update(e||"default"),D._clip=function(e){let D,O,C,A;return n(e)?(D=e.top,O=e.right,C=e.bottom,A=e.left):D=O=C=A=e,{top:D,right:O,bottom:C,left:A,disabled:!1===e}}(r(this.options.clip,function(e,D,O){if(!1===O)return!1;const C=vs(e,O),A=vs(D,O);return{top:A.end,right:C.end,bottom:A.start,left:C.start}}(D.xScale,D.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,D=this.chart,O=this._cachedMeta,C=O.data||[],A=D.chartArea,T=[],E=this._drawStart||0,L=this._drawCount||C.length-E,R=this.options.drawActiveElementsOnTop;let I;for(O.dataset&&O.dataset.draw(e,A,E,L),I=E;I<E+L;++I){const D=C[I];D.hidden||(D.active&&R?T.push(D):D.draw(e,A))}for(I=0;I<T.length;++I)T[I].draw(e,A)}getStyle(e,D){const O=D?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(O):this.resolveDataElementOptions(e||0,O)}getContext(e,D,O){const C=this.getDataset();let A;if(e>=0&&e<this._cachedMeta.data.length){const D=this._cachedMeta.data[e];A=D.$context||(D.$context=function(e,D,O){return _i(e,{active:!1,dataIndex:D,parsed:void 0,raw:void 0,element:O,index:D,mode:"default",type:"data"})}(this.getContext(),e,D)),A.parsed=this.getParsed(e),A.raw=C.data[e],A.index=A.dataIndex=e}else A=this.$context||(this.$context=function(e,D){return _i(e,{active:!1,dataset:void 0,datasetIndex:D,index:D,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),A.dataset=C,A.index=A.datasetIndex=this.index;return A.active=!!D,A.mode=O,A}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,D){return this._resolveElementOptions(this.dataElementType.id,D,e)}_resolveElementOptions(e,D="default",O){const C="active"===D,A=this._cachedDataOpts,T=e+"-"+D,E=A[T],L=this.enableOptionSharing&&M(O);if(E)return Ts(E,L);const R=this.chart.config,I=R.datasetElementScopeKeys(this._type,e),z=C?[`${e}Hover`,"hover",e,""]:[e,""],nt=R.getOptionScopes(this.getDataset(),I),lt=Object.keys(me.elements[e]),mt=R.resolveNamedOptions(nt,lt,(()=>this.getContext(O,C)),z);return mt.$shared&&(mt.$shared=L,A[T]=Object.freeze(Ts(mt,L))),mt}_resolveAnimations(e,D,O){const C=this.chart,A=this._cachedDataOpts,T=`animation-${D}`,E=A[T];if(E)return E;let L;if(!1!==C.options.animation){const C=this.chart.config,A=C.datasetAnimationScopeKeys(this._type,D),T=C.getOptionScopes(this.getDataset(),A);L=C.createResolver(T,this.getContext(e,O,D))}const R=new ys(C,L&&L.animations);return L&&L._cacheable&&(A[T]=Object.freeze(R)),R}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,D){return!D||As(e)||this.chart._animationsDisabled}_getSharedOptions(e,D){const O=this.resolveDataElementOptions(e,D),C=this._sharedOptions,A=this.getSharedOptions(O),T=this.includeOptions(D,A)||A!==C;return this.updateSharedOptions(A,D,O),{sharedOptions:A,includeOptions:T}}updateElement(e,D,O,C){As(C)?Object.assign(e,O):this._resolveAnimations(D,C).update(e,O)}updateSharedOptions(e,D,O){e&&!As(D)&&this._resolveAnimations(void 0,D).update(e,O)}_setStyle(e,D,O,C){e.active=C;const A=this.getStyle(D,C);this._resolveAnimations(D,O,C).update(e,{options:!C&&this.getSharedOptions(A)||A})}removeHoverStyle(e,D,O){this._setStyle(e,O,"active",!1)}setHoverStyle(e,D,O){this._setStyle(e,O,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const D=this._data,O=this._cachedMeta.data;for(const[e,D,O]of this._syncList)this[e](D,O);this._syncList=[];const C=O.length,A=D.length,T=Math.min(A,C);T&&this.parse(0,T),A>C?this._insertElements(C,A-C,e):A<C&&this._removeElements(A,C-A)}_insertElements(e,D,O=!0){const C=this._cachedMeta,A=C.data,T=e+D;let E;const r=e=>{for(e.length+=D,E=e.length-1;E>=T;E--)e[E]=e[E-D]};for(r(A),E=e;E<T;++E)A[E]=new this.dataElementType;this._parsing&&r(C._parsed),this.parse(e,D),O&&this.updateElements(A,e,D,"reset")}updateElements(e,D,O,C){}_removeElements(e,D){const O=this._cachedMeta;if(this._parsing){const C=O._parsed.splice(e,D);O._stacked&&Cs(O,C)}O.data.splice(e,D)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[D,O,C]=e;this[D](O,C)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,D){D&&this._sync(["_removeElements",e,D]);const O=arguments.length-2;O&&this._sync(["_insertElements",e,O])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ls.defaults={},Ls.prototype.datasetElementType=null,Ls.prototype.dataElementType=null;class Es{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:D,y:O}=this.getProps(["x","y"],e);return{x:D,y:O}}hasValue(){return B(this.x)&&B(this.y)}getProps(e,D){const O=this.$animations;if(!D||!O)return this;const C={};return e.forEach((e=>{C[e]=O[e]&&O[e].active()?O[e]._to:this[e]})),C}}Es.defaults={},Es.defaultRoutes=void 0;const Us={values:e=>s(e)?e:""+e,numeric(D,O,C){if(0===D)return"0";const A=(this||e).chart.options.locale;let T,E=D;if(C.length>1){const e=Math.max(Math.abs(C[0].value),Math.abs(C[C.length-1].value));(e<1e-4||e>1e15)&&(T="scientific"),E=function(e,D){let O=D.length>3?D[2].value-D[1].value:D[1].value-D[0].value;Math.abs(O)>=1&&e!==Math.floor(e)&&(O=e-Math.floor(e));return O}(D,C)}const L=nt(Math.abs(E)),R=Math.max(Math.min(-1*Math.floor(L),20),0),I={notation:T,minimumFractionDigits:R,maximumFractionDigits:R};return Object.assign(I,(this||e).options.ticks.format),li(D,A,I)},logarithmic(D,O,C){if(0===D)return"0";const A=D/Math.pow(10,Math.floor(nt(D)));return 1===A||2===A||5===A?Us.numeric.call(this||e,D,O,C):""}};var tn={formatters:Us};function zs(e,D){const O=e.options.ticks,C=O.maxTicksLimit||function(e){const D=e.options.offset,O=e._tickSize(),C=e._length/O+(D?0:1),A=e._maxLength/O;return Math.floor(Math.min(C,A))}(e),A=O.major.enabled?function(e){const D=[];let O,C;for(O=0,C=e.length;O<C;O++)e[O].major&&D.push(O);return D}(D):[],T=A.length,E=A[0],L=A[T-1],R=[];if(T>C)return function(e,D,O,C){let A,T=0,E=O[0];for(C=Math.ceil(C),A=0;A<e.length;A++)A===E&&(D.push(e[A]),T++,E=O[T*C])}(D,R,A,T/C),R;const I=function(e,D,O){const C=function(e){const D=e.length;let O,C;if(D<2)return!1;for(C=e[0],O=1;O<D;++O)if(e[O]-e[O-1]!==C)return!1;return C}(e),A=D.length/O;if(!C)return Math.max(A,1);const T=V(C);for(let e=0,D=T.length-1;e<D;e++){const D=T[e];if(D>A)return D}return Math.max(A,1)}(A,D,C);if(T>0){let e,O;const C=T>1?Math.round((L-E)/(T-1)):null;for(Fs(D,R,I,i(C)?0:E-C,E),e=0,O=T-1;e<O;e++)Fs(D,R,I,A[e],A[e+1]);return Fs(D,R,I,L,i(C)?D.length:L+C),R}return Fs(D,R,I),R}function Fs(e,D,O,C,A){const T=r(C,0),E=Math.min(r(A,e.length),e.length);let L,R,I,z=0;for(O=Math.ceil(O),A&&(L=A-C,O=L/Math.floor(L/O)),I=T;I<0;)z++,I=Math.round(T+z*O);for(R=Math.max(T,0);R<E;R++)R===I&&(D.push(e[R]),z++,I=Math.round(T+z*O))}me.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,D)=>D.lineWidth,tickColor:(e,D)=>D.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),me.route("scale.ticks","color","","color"),me.route("scale.grid","color","","borderColor"),me.route("scale.grid","borderColor","","borderColor"),me.route("scale.title","color","","color"),me.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),me.describe("scales",{_fallback:"scale"}),me.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const Vs=(e,D,O)=>"top"===D||"left"===D?e[D]+O:e[D]-O;function Bs(e,D){const O=[],C=e.length/D,A=e.length;let T=0;for(;T<A;T+=C)O.push(e[Math.floor(T)]);return O}function Ns(e,D,O){const C=e.ticks.length,A=Math.min(D,C-1),T=e._startPixel,E=e._endPixel,L=1e-6;let R,I=e.getPixelForTick(A);if(!(O&&(R=1===C?Math.max(I-T,E-I):0===D?(e.getPixelForTick(1)-I)/2:(I-e.getPixelForTick(A-1))/2,I+=A<D?R:-R,I<T-L||I>E+L)))return I}function Ws(e){return e.drawTicks?e.tickLength:0}function js(e,D){if(!e.display)return 0;const O=mi(e.font,D),C=pi(e.padding);return(s(e.text)?e.text.length:1)*O.lineHeight+C.height}function Hs(e,D,O){let C=dt(e);return(O&&"right"!==D||!O&&"right"===D)&&(C=(e=>"left"===e?"right":"right"===e?"left":e)(C)),C}class $s extends Es{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,D){return e}getUserBounds(){let{_userMin:e,_userMax:D,_suggestedMin:O,_suggestedMax:C}=this;return e=a(e,Number.POSITIVE_INFINITY),D=a(D,Number.NEGATIVE_INFINITY),O=a(O,Number.POSITIVE_INFINITY),C=a(C,Number.NEGATIVE_INFINITY),{min:a(e,O),max:a(D,C),minDefined:o(e),maxDefined:o(D)}}getMinMax(e){let D,{min:O,max:C,minDefined:A,maxDefined:T}=this.getUserBounds();if(A&&T)return{min:O,max:C};const E=this.getMatchingVisibleMetas();for(let L=0,R=E.length;L<R;++L)D=E[L].controller.getMinMax(this,e),A||(O=Math.min(O,D.min)),T||(C=Math.max(C,D.max));return O=T&&O>C?C:O,C=A&&O>C?O:C,{min:a(O,a(C,O)),max:a(C,a(O,C))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){c(this.options.beforeUpdate,[this])}update(e,D,O){const{beginAtZero:C,grace:A,ticks:T}=this.options,E=T.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=D,this._margins=O=Object.assign({left:0,right:0,top:0,bottom:0},O),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+O.left+O.right:this.height+O.top+O.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xi(this,A,C),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const L=E<this.ticks.length;this._convertTicksToLabels(L?Bs(this.ticks,E):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),T.display&&(T.autoSkip||"auto"===T.source)&&(this.ticks=zs(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),L&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,D,O=this.options.reverse;this.isHorizontal()?(e=this.left,D=this.right):(e=this.top,D=this.bottom,O=!O),this._startPixel=e,this._endPixel=D,this._reversePixels=O,this._length=D-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){c(this.options.afterUpdate,[this])}beforeSetDimensions(){c(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){c(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),c(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){c(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const D=this.options.ticks;let O,C,A;for(O=0,C=e.length;O<C;O++)A=e[O],A.label=c(D.callback,[A.value,O,e],this)}afterTickToLabelConversion(){c(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){c(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,D=e.ticks,O=this.ticks.length,C=D.minRotation||0,A=D.maxRotation;let T,E,L,R=C;if(!this._isVisible()||!D.display||C>=A||O<=1||!this.isHorizontal())return void(this.labelRotation=C);const I=this._getLabelSizes(),z=I.widest.width,nt=I.highest.height,lt=Z(this.chart.width-z,0,this.maxWidth);T=e.offset?this.maxWidth/O:lt/(O-1),z+6>T&&(T=lt/(O-(e.offset?.5:1)),E=this.maxHeight-Ws(e.grid)-D.padding-js(e.title,this.chart.options.font),L=Math.sqrt(z*z+nt*nt),R=$(Math.min(Math.asin(Z((I.highest.height+6)/T,-1,1)),Math.asin(Z(E/L,-1,1))-Math.asin(Z(nt/L,-1,1)))),R=Math.max(C,Math.min(A,R))),this.labelRotation=R}afterCalculateLabelRotation(){c(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){c(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:D,options:{ticks:O,title:C,grid:A}}=this,T=this._isVisible(),E=this.isHorizontal();if(T){const T=js(C,D.options.font);if(E?(e.width=this.maxWidth,e.height=Ws(A)+T):(e.height=this.maxHeight,e.width=Ws(A)+T),O.display&&this.ticks.length){const{first:D,last:C,widest:A,highest:T}=this._getLabelSizes(),L=2*O.padding,R=H(this.labelRotation),I=Math.cos(R),z=Math.sin(R);if(E){const D=O.mirror?0:z*A.width+I*T.height;e.height=Math.min(this.maxHeight,e.height+D+L)}else{const D=O.mirror?0:I*A.width+z*T.height;e.width=Math.min(this.maxWidth,e.width+D+L)}this._calculatePadding(D,C,z,I)}}this._handleMargins(),E?(this.width=this._length=D.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=D.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,D,O,C){const{ticks:{align:A,padding:T},position:E}=this.options,L=0!==this.labelRotation,R="top"!==E&&"x"===this.axis;if(this.isHorizontal()){const E=this.getPixelForTick(0)-this.left,I=this.right-this.getPixelForTick(this.ticks.length-1);let z=0,nt=0;L?R?(z=C*e.width,nt=O*D.height):(z=O*e.height,nt=C*D.width):"start"===A?nt=D.width:"end"===A?z=e.width:"inner"!==A&&(z=e.width/2,nt=D.width/2),this.paddingLeft=Math.max((z-E+T)*this.width/(this.width-E),0),this.paddingRight=Math.max((nt-I+T)*this.width/(this.width-I),0)}else{let O=D.height/2,C=e.height/2;"start"===A?(O=0,C=e.height):"end"===A&&(O=D.height,C=0),this.paddingTop=O+T,this.paddingBottom=C+T}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){c(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:D}=this.options;return"top"===D||"bottom"===D||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let D,O;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),D=0,O=e.length;D<O;D++)i(e[D].label)&&(e.splice(D,1),O--,D--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const D=this.options.ticks.sampleSize;let O=this.ticks;D<O.length&&(O=Bs(O,D)),this._labelSizes=e=this._computeLabelSizes(O,O.length)}return e}_computeLabelSizes(e,D){const{ctx:O,_longestTextCache:C}=this,A=[],T=[];let E,L,R,I,z,nt,lt,mt,Mt,kt,Ct,Bt=0,Vt=0;for(E=0;E<D;++E){if(I=e[E].label,z=this._resolveTickFontOptions(E),O.font=nt=z.string,lt=C[nt]=C[nt]||{data:{},gc:[]},mt=z.lineHeight,Mt=kt=0,i(I)||s(I)){if(s(I))for(L=0,R=I.length;L<R;++L)Ct=I[L],i(Ct)||s(Ct)||(Mt=_e(O,lt.data,lt.gc,Mt,Ct),kt+=mt)}else Mt=_e(O,lt.data,lt.gc,Mt,I),kt=mt;A.push(Mt),T.push(kt),Bt=Math.max(Mt,Bt),Vt=Math.max(kt,Vt)}!function(e,D){d(e,(e=>{const O=e.gc,C=O.length/2;let A;if(C>D){for(A=0;A<C;++A)delete e.data[O[A]];O.splice(0,C)}}))}(C,D);const Nt=A.indexOf(Bt),jt=T.indexOf(Vt),k=e=>({width:A[e]||0,height:T[e]||0});return{first:k(0),last:k(D-1),widest:k(Nt),highest:k(jt),widths:A,heights:T}}getLabelForValue(e){return e}getPixelForValue(e,D){return NaN}getValueForPixel(e){}getPixelForTick(e){const D=this.ticks;return e<0||e>D.length-1?null:this.getPixelForValue(D[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const D=this._startPixel+e*this._length;return J(this._alignToPixels?ve(this.chart,D,0):D)}getDecimalForPixel(e){const D=(e-this._startPixel)/this._length;return this._reversePixels?1-D:D}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:D}=this;return e<0&&D<0?D:e>0&&D>0?e:0}getContext(e){const D=this.ticks||[];if(e>=0&&e<D.length){const O=D[e];return O.$context||(O.$context=function(e,D,O){return _i(e,{tick:O,index:D,type:"tick"})}(this.getContext(),e,O))}return this.$context||(this.$context=_i(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,D=H(this.labelRotation),O=Math.abs(Math.cos(D)),C=Math.abs(Math.sin(D)),A=this._getLabelSizes(),T=e.autoSkipPadding||0,E=A?A.widest.width+T:0,L=A?A.highest.height+T:0;return this.isHorizontal()?L*O>E*C?E/O:L/C:L*C<E*O?L/O:E/C}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const D=this.axis,O=this.chart,C=this.options,{grid:A,position:T}=C,E=A.offset,L=this.isHorizontal(),R=this.ticks.length+(E?1:0),I=Ws(A),z=[],nt=A.setContext(this.getContext()),lt=nt.drawBorder?nt.borderWidth:0,mt=lt/2,m=function(e){return ve(O,e,lt)};let Mt,kt,Ct,Bt,Vt,Nt,jt,te,ee,ne,ce,me;if("top"===T)Mt=m(this.bottom),Nt=this.bottom-I,te=Mt-mt,ne=m(e.top)+mt,me=e.bottom;else if("bottom"===T)Mt=m(this.top),ne=e.top,me=m(e.bottom)-mt,Nt=Mt+mt,te=this.top+I;else if("left"===T)Mt=m(this.right),Vt=this.right-I,jt=Mt-mt,ee=m(e.left)+mt,ce=e.right;else if("right"===T)Mt=m(this.left),ee=e.left,ce=m(e.right)-mt,Vt=Mt+mt,jt=this.left+I;else if("x"===D){if("center"===T)Mt=m((e.top+e.bottom)/2+.5);else if(n(T)){const e=Object.keys(T)[0],D=T[e];Mt=m(this.chart.scales[e].getPixelForValue(D))}ne=e.top,me=e.bottom,Nt=Mt+mt,te=Nt+I}else if("y"===D){if("center"===T)Mt=m((e.left+e.right)/2);else if(n(T)){const e=Object.keys(T)[0],D=T[e];Mt=m(this.chart.scales[e].getPixelForValue(D))}Vt=Mt-mt,jt=Vt-I,ee=e.left,ce=e.right}const Xe=r(C.ticks.maxTicksLimit,R),si=Math.max(1,Math.ceil(R/Xe));for(kt=0;kt<R;kt+=si){const e=A.setContext(this.getContext(kt)),D=e.lineWidth,C=e.color,T=e.borderDash||[],R=e.borderDashOffset,I=e.tickWidth,nt=e.tickColor,lt=e.tickBorderDash||[],mt=e.tickBorderDashOffset;Ct=Ns(this,kt,E),void 0!==Ct&&(Bt=ve(O,Ct,D),L?Vt=jt=ee=ce=Bt:Nt=te=ne=me=Bt,z.push({tx1:Vt,ty1:Nt,tx2:jt,ty2:te,x1:ee,y1:ne,x2:ce,y2:me,width:D,color:C,borderDash:T,borderDashOffset:R,tickWidth:I,tickColor:nt,tickBorderDash:lt,tickBorderDashOffset:mt}))}return this._ticksLength=R,this._borderValue=Mt,z}_computeLabelItems(e){const D=this.axis,O=this.options,{position:C,ticks:A}=O,T=this.isHorizontal(),E=this.ticks,{align:L,crossAlign:R,padding:I,mirror:z}=A,nt=Ws(O.grid),lt=nt+I,mt=z?-I:lt,Mt=-H(this.labelRotation),kt=[];let Ct,Bt,Vt,Nt,jt,te,ee,ne,ce,me,Xe,si,ri="middle";if("top"===C)te=this.bottom-mt,ee=this._getXAxisLabelAlignment();else if("bottom"===C)te=this.top+mt,ee=this._getXAxisLabelAlignment();else if("left"===C){const e=this._getYAxisLabelAlignment(nt);ee=e.textAlign,jt=e.x}else if("right"===C){const e=this._getYAxisLabelAlignment(nt);ee=e.textAlign,jt=e.x}else if("x"===D){if("center"===C)te=(e.top+e.bottom)/2+lt;else if(n(C)){const e=Object.keys(C)[0],D=C[e];te=this.chart.scales[e].getPixelForValue(D)+lt}ee=this._getXAxisLabelAlignment()}else if("y"===D){if("center"===C)jt=(e.left+e.right)/2-lt;else if(n(C)){const e=Object.keys(C)[0],D=C[e];jt=this.chart.scales[e].getPixelForValue(D)}ee=this._getYAxisLabelAlignment(nt).textAlign}"y"===D&&("start"===L?ri="top":"end"===L&&(ri="bottom"));const hi=this._getLabelSizes();for(Ct=0,Bt=E.length;Ct<Bt;++Ct){Vt=E[Ct],Nt=Vt.label;const e=A.setContext(this.getContext(Ct));ne=this.getPixelForTick(Ct)+A.labelOffset,ce=this._resolveTickFontOptions(Ct),me=ce.lineHeight,Xe=s(Nt)?Nt.length:1;const D=Xe/2,O=e.color,L=e.textStrokeColor,I=e.textStrokeWidth;let nt,lt=ee;if(T?(jt=ne,"inner"===ee&&(lt=Ct===Bt-1?this.options.reverse?"left":"right":0===Ct?this.options.reverse?"right":"left":"center"),si="top"===C?"near"===R||0!==Mt?-Xe*me+me/2:"center"===R?-hi.highest.height/2-D*me+me:-hi.highest.height+me/2:"near"===R||0!==Mt?me/2:"center"===R?hi.highest.height/2-D*me:hi.highest.height-Xe*me,z&&(si*=-1)):(te=ne,si=(1-Xe)*me/2),e.showLabelBackdrop){const D=pi(e.backdropPadding),O=hi.heights[Ct],C=hi.widths[Ct];let A=te+si-D.top,T=jt-D.left;switch(ri){case"middle":A-=O/2;break;case"bottom":A-=O}switch(ee){case"center":T-=C/2;break;case"right":T-=C}nt={left:T,top:A,width:C+D.width,height:O+D.height,color:e.backdropColor}}kt.push({rotation:Mt,label:Nt,font:ce,color:O,strokeColor:L,strokeWidth:I,textOffset:si,textAlign:lt,textBaseline:ri,translation:[jt,te],backdrop:nt})}return kt}_getXAxisLabelAlignment(){const{position:e,ticks:D}=this.options;if(-H(this.labelRotation))return"top"===e?"left":"right";let O="center";return"start"===D.align?O="left":"end"===D.align?O="right":"inner"===D.align&&(O="inner"),O}_getYAxisLabelAlignment(e){const{position:D,ticks:{crossAlign:O,mirror:C,padding:A}}=this.options,T=e+A,E=this._getLabelSizes().widest.width;let L,R;return"left"===D?C?(R=this.right+A,"near"===O?L="left":"center"===O?(L="center",R+=E/2):(L="right",R+=E)):(R=this.right-T,"near"===O?L="right":"center"===O?(L="center",R-=E/2):(L="left",R=this.left)):"right"===D?C?(R=this.left+A,"near"===O?L="right":"center"===O?(L="center",R-=E/2):(L="left",R-=E)):(R=this.left+T,"near"===O?L="left":"center"===O?(L="center",R+=E/2):(L="right",R=this.right)):L="right",{textAlign:L,x:R}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,D=this.options.position;return"left"===D||"right"===D?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===D||"bottom"===D?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:D},left:O,top:C,width:A,height:T}=this;D&&(e.save(),e.fillStyle=D,e.fillRect(O,C,A,T),e.restore())}getLineWidthForValue(e){const D=this.options.grid;if(!this._isVisible()||!D.display)return 0;const O=this.ticks.findIndex((D=>D.value===e));return O>=0?D.setContext(this.getContext(O)).lineWidth:0}drawGrid(e){const D=this.options.grid,O=this.ctx,C=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let A,T;const a=(e,D,C)=>{C.width&&C.color&&(O.save(),O.lineWidth=C.width,O.strokeStyle=C.color,O.setLineDash(C.borderDash||[]),O.lineDashOffset=C.borderDashOffset,O.beginPath(),O.moveTo(e.x,e.y),O.lineTo(D.x,D.y),O.stroke(),O.restore())};if(D.display)for(A=0,T=C.length;A<T;++A){const e=C[A];D.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),D.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:D,options:{grid:O}}=this,C=O.setContext(this.getContext()),A=O.drawBorder?C.borderWidth:0;if(!A)return;const T=O.setContext(this.getContext(0)).lineWidth,E=this._borderValue;let L,R,I,z;this.isHorizontal()?(L=ve(e,this.left,A)-A/2,R=ve(e,this.right,T)+T/2,I=z=E):(I=ve(e,this.top,A)-A/2,z=ve(e,this.bottom,T)+T/2,L=R=E),D.save(),D.lineWidth=C.borderWidth,D.strokeStyle=C.borderColor,D.beginPath(),D.moveTo(L,I),D.lineTo(R,z),D.stroke(),D.restore()}drawLabels(e){if(!this.options.ticks.display)return;const D=this.ctx,O=this._computeLabelArea();O&&Pe(D,O);const C=this._labelItems||(this._labelItems=this._computeLabelItems(e));let A,T;for(A=0,T=C.length;A<T;++A){const e=C[A],O=e.font,T=e.label;e.backdrop&&(D.fillStyle=e.backdrop.color,D.fillRect(e.backdrop.left,e.backdrop.top,e.backdrop.width,e.backdrop.height)),Ae(D,T,0,e.textOffset,O,e)}O&&De(D)}drawTitle(){const{ctx:e,options:{position:D,title:O,reverse:C}}=this;if(!O.display)return;const A=mi(O.font),T=pi(O.padding),E=O.align;let L=A.lineHeight/2;"bottom"===D||"center"===D||n(D)?(L+=T.bottom,s(O.text)&&(L+=A.lineHeight*(O.text.length-1))):L+=T.top;const{titleX:I,titleY:z,maxWidth:nt,rotation:lt}=function(e,D,O,C){const{top:A,left:T,bottom:E,right:L,chart:I}=e,{chartArea:z,scales:nt}=I;let lt,mt,Mt,kt=0;const Ct=E-A,Bt=L-T;if(e.isHorizontal()){if(mt=ut(C,T,L),n(O)){const e=Object.keys(O)[0],C=O[e];Mt=nt[e].getPixelForValue(C)+Ct-D}else Mt="center"===O?(z.bottom+z.top)/2+Ct-D:Vs(e,O,D);lt=L-T}else{if(n(O)){const e=Object.keys(O)[0],C=O[e];mt=nt[e].getPixelForValue(C)-Bt+D}else mt="center"===O?(z.left+z.right)/2-Bt+D:Vs(e,O,D);Mt=ut(C,E,A),kt="left"===O?-R:R}return{titleX:mt,titleY:Mt,maxWidth:lt,rotation:kt}}(this,L,D,E);Ae(e,O.text,0,0,A,{color:O.color,maxWidth:nt,rotation:lt,textAlign:Hs(E,D,C),textBaseline:"middle",translation:[I,z]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,D=e.ticks&&e.ticks.z||0,O=r(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===$s.prototype.draw?[{z:O,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:O+1,draw:()=>{this.drawBorder()}},{z:D,draw:e=>{this.drawLabels(e)}}]:[{z:D,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const D=this.chart.getSortedVisibleDatasetMetas(),O=this.axis+"AxisID",C=[];let A,T;for(A=0,T=D.length;A<T;++A){const T=D[A];T[O]!==this.id||e&&T.type!==e||C.push(T)}return C}_resolveTickFontOptions(e){return mi(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ys{constructor(e,D,O){this.type=e,this.scope=D,this.override=O,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const D=Object.getPrototypeOf(e);let O;(function(e){return"id"in e&&"defaults"in e})(D)&&(O=this.register(D));const C=this.items,A=e.id,T=this.scope+"."+A;if(!A)throw new Error("class does not have id: "+e);return A in C||(C[A]=e,function(e,D,O){const C=m(Object.create(null),[O?me.get(O):{},me.get(D),e.defaults]);me.set(D,C),e.defaultRoutes&&function(e,D){Object.keys(D).forEach((O=>{const C=O.split("."),A=C.pop(),T=[e].concat(C).join("."),E=D[O].split("."),L=E.pop(),R=E.join(".");me.route(T,A,R,L)}))}(D,e.defaultRoutes);e.descriptors&&me.describe(D,e.descriptors)}(e,T,O),this.override&&me.override(e.id,e.overrides)),T}get(e){return this.items[e]}unregister(e){const D=this.items,O=e.id,C=this.scope;O in D&&delete D[O],C&&O in me[C]&&(delete me[C][O],this.override&&delete ne[O])}}var en=new class{constructor(){this.controllers=new Ys(Ls,"datasets",!0),this.elements=new Ys(Es,"elements"),this.plugins=new Ys(Object,"plugins"),this.scales=new Ys($s,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,D,O){[...D].forEach((D=>{const C=O||this._getRegistryForType(D);O||C.isForType(D)||C===this.plugins&&D.id?this._exec(e,C,D):d(D,(D=>{const C=O||this._getRegistryForType(D);this._exec(e,C,D)}))}))}_exec(e,D,O){const C=w(e);c(O["before"+C],[],O),D[e](O),c(O["after"+C],[],O)}_getRegistryForType(e){for(let D=0;D<this._typedRegistries.length;D++){const O=this._typedRegistries[D];if(O.isForType(e))return O}return this.plugins}_get(e,D,O){const C=D.get(e);if(void 0===C)throw new Error('"'+e+'" is not a registered '+O+".");return C}};class Xs{constructor(){this._init=[]}notify(e,D,O,C){"beforeInit"===D&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const A=C?this._descriptors(e).filter(C):this._descriptors(e),T=this._notify(A,e,D,O);return"afterDestroy"===D&&(this._notify(A,e,"stop"),this._notify(this._init,e,"uninstall")),T}_notify(e,D,O,C){C=C||{};for(const A of e){const e=A.plugin;if(!1===c(e[O],[D,C,A.options],e)&&C.cancelable)return!1}return!0}invalidate(){i(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const D=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),D}_createDescriptors(e,D){const O=e&&e.config,C=r(O.options&&O.options.plugins,{}),A=function(e){const D={},O=[],C=Object.keys(en.plugins.items);for(let e=0;e<C.length;e++)O.push(en.getPlugin(C[e]));const A=e.plugins||[];for(let e=0;e<A.length;e++){const C=A[e];-1===O.indexOf(C)&&(O.push(C),D[C.id]=!0)}return{plugins:O,localIds:D}}(O);return!1!==C||D?function(e,{plugins:D,localIds:O},C,A){const T=[],E=e.getContext();for(const L of D){const D=L.id,R=qs(C[D],A);null!==R&&T.push({plugin:L,options:Ks(e.config,{plugin:L,local:O[D]},R,E)})}return T}(e,A,C,D):[]}_notifyStateChanges(e){const D=this._oldCache||[],O=this._cache,s=(e,D)=>e.filter((e=>!D.some((D=>e.plugin.id===D.plugin.id))));this._notify(s(D,O),e,"stop"),this._notify(s(O,D),e,"start")}}function qs(e,D){return D||!1!==e?!0===e?{}:e:null}function Ks(e,{plugin:D,local:O},C,A){const T=e.pluginScopeKeys(D),E=e.getOptionScopes(C,T);return O&&D.defaults&&E.push(D.defaults),e.createResolver(E,A,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Gs(e,D){const O=me.datasets[e]||{};return((D.datasets||{})[e]||{}).indexAxis||D.indexAxis||O.indexAxis||"x"}function Zs(e,D){return"x"===e||"y"===e?e:D.axis||("top"===(O=D.position)||"bottom"===O?"x":"left"===O||"right"===O?"y":void 0)||e.charAt(0).toLowerCase();var O}function Js(e){const D=e.options||(e.options={});D.plugins=r(D.plugins,{}),D.scales=function(e,D){const O=ne[e.type]||{scales:{}},C=D.scales||{},A=Gs(e.type,D),T=Object.create(null),E=Object.create(null);return Object.keys(C).forEach((e=>{const D=C[e];if(!n(D))return console.error(`Invalid scale configuration for scale: ${e}`);if(D._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const L=Zs(e,D),R=function(e,D){return e===D?"_index_":"_value_"}(L,A),I=O.scales||{};T[L]=T[L]||e,E[e]=b(Object.create(null),[{axis:L},D,I[L],I[R]])})),e.data.datasets.forEach((O=>{const A=O.type||e.type,L=O.indexAxis||Gs(A,D),R=(ne[A]||{}).scales||{};Object.keys(R).forEach((e=>{const D=function(e,D){let O=e;return"_index_"===e?O=D:"_value_"===e&&(O="x"===D?"y":"x"),O}(e,L),A=O[D+"AxisID"]||T[D]||D;E[A]=E[A]||Object.create(null),b(E[A],[{axis:D},C[A],R[e]])}))})),Object.keys(E).forEach((e=>{const D=E[e];b(D,[me.scales[D.type],me.scale])})),E}(e,D)}function Qs(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const ln=new Map,gn=new Set;function sn(e,D){let O=ln.get(e);return O||(O=D(),ln.set(e,O),gn.add(O)),O}const nn=(e,D,O)=>{const C=y(D,O);void 0!==C&&e.add(C)};class on{constructor(e){this._config=function(e){return(e=e||{}).data=Qs(e.data),Js(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Qs(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Js(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return sn(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,D){return sn(`${e}.transition.${D}`,(()=>[[`datasets.${e}.transitions.${D}`,`transitions.${D}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,D){return sn(`${e}-${D}`,(()=>[[`datasets.${e}.elements.${D}`,`datasets.${e}`,`elements.${D}`,""]]))}pluginScopeKeys(e){const D=e.id;return sn(`${this.type}-plugin-${D}`,(()=>[[`plugins.${D}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,D){const O=this._scopeCache;let C=O.get(e);return C&&!D||(C=new Map,O.set(e,C)),C}getOptionScopes(e,D,O){const{options:C,type:A}=this,T=this._cachedScopes(e,O),E=T.get(D);if(E)return E;const L=new Set;D.forEach((D=>{e&&(L.add(e),D.forEach((D=>nn(L,e,D)))),D.forEach((e=>nn(L,C,e))),D.forEach((e=>nn(L,ne[A]||{},e))),D.forEach((e=>nn(L,me,e))),D.forEach((e=>nn(L,ce,e)))}));const R=Array.from(L);return 0===R.length&&R.push(Object.create(null)),gn.has(D)&&T.set(D,R),R}chartOptionScopes(){const{options:e,type:D}=this;return[e,ne[D]||{},me.datasets[D]||{},{type:D},me,ce]}resolveNamedOptions(e,D,O,C=[""]){const A={$shared:!0},{resolver:T,subPrefixes:E}=an(this._resolverCache,e,C);let L=T;if(function(e,D){const{isScriptable:O,isIndexable:C}=Ie(e);for(const A of D){const D=O(A),T=C(A),E=(T||D)&&e[A];if(D&&(k(E)||rn(E))||T&&s(E))return!0}return!1}(T,D)){A.$shared=!1;L=Re(T,O=k(O)?O():O,this.createResolver(e,O,E))}for(const e of D)A[e]=L[e];return A}createResolver(e,D,O=[""],C){const{resolver:A}=an(this._resolverCache,e,O);return n(D)?Re(A,D,void 0,C):A}}function an(e,D,O){let C=e.get(D);C||(C=new Map,e.set(D,C));const A=O.join();let T=C.get(A);T||(T={resolver:Ee(D,O),subPrefixes:O.filter((e=>!e.toLowerCase().includes("hover")))},C.set(A,T));return T}const rn=e=>n(e)&&Object.getOwnPropertyNames(e).reduce(((D,O)=>D||k(e[O])),!1);const _n=["top","bottom","left","right","chartArea"];function hn(e,D){return"top"===e||"bottom"===e||-1===_n.indexOf(e)&&"x"===D}function cn(e,D){return function(O,C){return O[e]===C[e]?O[D]-C[D]:O[e]-C[e]}}function dn(e){const D=e.chart,O=D.options.animation;D.notifyPlugins("afterRender"),c(O&&O.onComplete,[e],D)}function un(e){const D=e.chart,O=D.options.animation;c(O&&O.onProgress,[e],D)}function fn(e){return oe()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const wn={},pn=e=>{const D=fn(e);return Object.values(wn).filter((e=>e.canvas===D)).pop()};function mn(e,D,O){const C=Object.keys(e);for(const A of C){const C=+A;if(C>=D){const T=e[A];delete e[A],(O>0||C>D)&&(e[C+O]=T)}}}class bn{constructor(e,O){const C=this.config=new on(O),A=fn(e),T=pn(A);if(T)throw new Error("Canvas is already in use. Chart with ID '"+T.id+"' must be destroyed before the canvas with ID '"+T.canvas.id+"' can be reused.");const E=C.createResolver(C.chartOptionScopes(),this.getContext());this.platform=new(C.platform||gs(A)),this.platform.updateConfig(C);const L=this.platform.acquireContext(A,E.aspectRatio),R=L&&L.canvas,I=R&&R.height,z=R&&R.width;this.id=D(),this.ctx=L,this.canvas=R,this.width=z,this.height=I,this._options=E,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Xs,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ct((e=>this.update(e)),E.resizeDelay||0),this._dataChanges=[],wn[this.id]=this,L&&R?(kt.listen(this,"complete",dn),kt.listen(this,"progress",un),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:D},width:O,height:C,_aspectRatio:A}=this;return i(e)?D&&A?A:C?O/C:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pe(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return we(this.canvas,this.ctx),this}stop(){return kt.stop(this),this}resize(e,D){kt.running(this)?this._resizeBeforeDraw={width:e,height:D}:this._resize(e,D)}_resize(e,D){const O=this.options,C=this.canvas,A=O.maintainAspectRatio&&this.aspectRatio,T=this.platform.getMaximumSize(C,e,D,A),E=O.devicePixelRatio||this.platform.getDevicePixelRatio(),L=this.width?"resize":"attach";this.width=T.width,this.height=T.height,this._aspectRatio=this.aspectRatio,pe(this,E,!0)&&(this.notifyPlugins("resize",{size:T}),c(O.onResize,[this,T],this),this.attached&&this._doResize(L)&&this.render())}ensureScalesHaveIDs(){d(this.options.scales||{},((e,D)=>{e.id=D}))}buildOrUpdateScales(){const e=this.options,D=e.scales,O=this.scales,C=Object.keys(O).reduce(((e,D)=>(e[D]=!1,e)),{});let A=[];D&&(A=A.concat(Object.keys(D).map((e=>{const O=D[e],C=Zs(e,O),A="r"===C,T="x"===C;return{options:O,dposition:A?"chartArea":T?"bottom":"left",dtype:A?"radialLinear":T?"category":"linear"}})))),d(A,(D=>{const A=D.options,T=A.id,E=Zs(T,A),L=r(A.type,D.dtype);void 0!==A.position&&hn(A.position,E)===hn(D.dposition)||(A.position=D.dposition),C[T]=!0;let R=null;T in O&&O[T].type===L?R=O[T]:(R=new(en.getScale(L))({id:T,type:L,ctx:this.ctx,chart:this}),O[R.id]=R);R.init(A,e)})),d(C,((e,D)=>{e||delete O[D]})),d(O,(e=>{is.configure(this,e,e.options),is.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,D=this.data.datasets.length,O=e.length;if(e.sort(((e,D)=>e.index-D.index)),O>D){for(let e=D;e<O;++e)this._destroyDatasetMeta(e);e.splice(D,O-D)}this._sortedMetasets=e.slice(0).sort(cn("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:D}}=this;e.length>D.length&&delete this._stacks,e.forEach(((e,O)=>{0===D.filter((D=>D===e._dataset)).length&&this._destroyDatasetMeta(O)}))}buildOrUpdateControllers(){const e=[],D=this.data.datasets;let O,C;for(this._removeUnreferencedMetasets(),O=0,C=D.length;O<C;O++){const C=D[O];let A=this.getDatasetMeta(O);const T=C.type||this.config.type;if(A.type&&A.type!==T&&(this._destroyDatasetMeta(O),A=this.getDatasetMeta(O)),A.type=T,A.indexAxis=C.indexAxis||Gs(T,this.options),A.order=C.order||0,A.index=O,A.label=""+C.label,A.visible=this.isDatasetVisible(O),A.controller)A.controller.updateIndex(O),A.controller.linkScales();else{const D=en.getController(T),{datasetElementType:C,dataElementType:E}=me.datasets[T];Object.assign(D.prototype,{dataElementType:en.getElement(E),datasetElementType:C&&en.getElement(C)}),A.controller=new D(this,O),e.push(A.controller)}}return this._updateMetasets(),e}_resetElements(){d(this.data.datasets,((e,D)=>{this.getDatasetMeta(D).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const D=this.config;D.update();const O=this._options=D.createResolver(D.chartOptionScopes(),this.getContext()),C=this._animationsDisabled=!O.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const A=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let T=0;for(let e=0,D=this.data.datasets.length;e<D;e++){const{controller:D}=this.getDatasetMeta(e),O=!C&&-1===A.indexOf(D);D.buildOrUpdateElements(O),T=Math.max(+D.getMaxOverflow(),T)}T=this._minPadding=O.layout.autoPadding?T:0,this._updateLayout(T),C||d(A,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(cn("z","_idx"));const{_active:E,_lastEvent:L}=this;L?this._eventHandler(L,!0):E.length&&this._updateHoverStyles(E,E,!0),this.render()}_updateScales(){d(this.scales,(e=>{is.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,D=new Set(Object.keys(this._listeners)),O=new Set(e.events);S(D,O)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,D=this._getUniformDataChanges()||[];for(const{method:O,start:C,count:A}of D)mn(e,C,"_removeElements"===O?-A:A)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const D=this.data.datasets.length,i=D=>new Set(e.filter((e=>e[0]===D)).map(((e,D)=>D+","+e.splice(1).join(",")))),O=i(0);for(let e=1;e<D;e++)if(!S(O,i(e)))return;return Array.from(O).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;is.update(this,this.width,this.height,e);const D=this.chartArea,O=D.width<=0||D.height<=0;this._layers=[],d(this.boxes,(e=>{O&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,D)=>{e._idx=D})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,D=this.data.datasets.length;e<D;++e)this.getDatasetMeta(e).controller.configure();for(let D=0,O=this.data.datasets.length;D<O;++D)this._updateDataset(D,k(e)?e({datasetIndex:D}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,D){const O=this.getDatasetMeta(e),C={meta:O,index:e,mode:D,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",C)&&(O.controller._update(D),C.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",C))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(kt.has(this)?this.attached&&!kt.running(this)&&kt.start(this):(this.draw(),dn({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:D}=this._resizeBeforeDraw;this._resize(e,D),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const D=this._layers;for(e=0;e<D.length&&D[e].z<=0;++e)D[e].draw(this.chartArea);for(this._drawDatasets();e<D.length;++e)D[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const D=this._sortedMetasets,O=[];let C,A;for(C=0,A=D.length;C<A;++C){const A=D[C];e&&!A.visible||O.push(A)}return O}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let D=e.length-1;D>=0;--D)this._drawDataset(e[D]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const D=this.ctx,O=e._clip,C=!O.disabled,A=this.chartArea,T={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",T)&&(C&&Pe(D,{left:!1===O.left?0:A.left-O.left,right:!1===O.right?this.width:A.right+O.right,top:!1===O.top?0:A.top-O.top,bottom:!1===O.bottom?this.height:A.bottom+O.bottom}),e.controller.draw(),C&&De(D),T.cancelable=!1,this.notifyPlugins("afterDatasetDraw",T))}isPointInArea(e){return Se(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,D,O,C){const A=Zi.modes[D];return"function"==typeof A?A(this,e,O,C):[]}getDatasetMeta(e){const D=this.data.datasets[e],O=this._metasets;let C=O.filter((e=>e&&e._dataset===D)).pop();return C||(C={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:D&&D.order||0,index:e,_dataset:D,_parsed:[],_sorted:!1},O.push(C)),C}getContext(){return this.$context||(this.$context=_i(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const D=this.data.datasets[e];if(!D)return!1;const O=this.getDatasetMeta(e);return"boolean"==typeof O.hidden?!O.hidden:!D.hidden}setDatasetVisibility(e,D){this.getDatasetMeta(e).hidden=!D}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,D,O){const C=O?"show":"hide",A=this.getDatasetMeta(e),T=A.controller._resolveAnimations(void 0,C);M(D)?(A.data[D].hidden=!O,this.update()):(this.setDatasetVisibility(e,O),T.update(A,{visible:O}),this.update((D=>D.datasetIndex===e?C:void 0)))}hide(e,D){this._updateVisibility(e,D,!1)}show(e,D){this._updateVisibility(e,D,!0)}_destroyDatasetMeta(e){const D=this._metasets[e];D&&D.controller&&D.controller._destroy(),delete this._metasets[e]}_stop(){let e,D;for(this.stop(),kt.remove(this),e=0,D=this.data.datasets.length;e<D;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:D}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),we(e,D),this.platform.releaseContext(D),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete wn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,D=this.platform,i=(O,C)=>{D.addEventListener(this,O,C),e[O]=C},s=(e,D,O)=>{e.offsetX=D,e.offsetY=O,this._eventHandler(e)};d(this.options.events,(e=>i(e,s)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,D=this.platform,i=(O,C)=>{D.addEventListener(this,O,C),e[O]=C},s=(O,C)=>{e[O]&&(D.removeEventListener(this,O,C),delete e[O])},n=(e,D)=>{this.canvas&&this.resize(e,D)};let O;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",n),i("detach",O)};O=()=>{this.attached=!1,s("resize",n),this._stop(),this._resize(0,0),i("attach",a)},D.isAttached(this.canvas)?a():O()}unbindEvents(){d(this._listeners,((e,D)=>{this.platform.removeEventListener(this,D,e)})),this._listeners={},d(this._responsiveListeners,((e,D)=>{this.platform.removeEventListener(this,D,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,D,O){const C=O?"set":"remove";let A,T,E,L;for("dataset"===D&&(A=this.getDatasetMeta(e[0].datasetIndex),A.controller["_"+C+"DatasetHoverStyle"]()),E=0,L=e.length;E<L;++E){T=e[E];const D=T&&this.getDatasetMeta(T.datasetIndex).controller;D&&D[C+"HoverStyle"](T.element,T.datasetIndex,T.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const D=this._active||[],O=e.map((({datasetIndex:e,index:D})=>{const O=this.getDatasetMeta(e);if(!O)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:O.data[D],index:D}}));!u(O,D)&&(this._active=O,this._lastEvent=null,this._updateHoverStyles(O,D))}notifyPlugins(e,D,O){return this._plugins.notify(this,e,D,O)}_updateHoverStyles(e,D,O){const C=this.options.hover,n=(e,D)=>e.filter((e=>!D.some((D=>e.datasetIndex===D.datasetIndex&&e.index===D.index)))),A=n(D,e),T=O?e:n(e,D);A.length&&this.updateHoverStyle(A,C.mode,!1),T.length&&C.mode&&this.updateHoverStyle(T,C.mode,!0)}_eventHandler(e,D){const O={event:e,replay:D,cancelable:!0,inChartArea:this.isPointInArea(e)},s=D=>(D.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",O,s))return;const C=this._handleEvent(e,D,O.inChartArea);return O.cancelable=!1,this.notifyPlugins("afterEvent",O,s),(C||O.changed)&&this.render(),this}_handleEvent(e,D,O){const{_active:C=[],options:A}=this,T=D,E=this._getActiveElements(e,C,O,T),L=P(e),R=function(e,D,O,C){return O&&"mouseout"!==e.type?C?D:e:null}(e,this._lastEvent,O,L);O&&(this._lastEvent=null,c(A.onHover,[e,E,this],this),L&&c(A.onClick,[e,E,this],this));const I=!u(E,C);return(I||D)&&(this._active=E,this._updateHoverStyles(E,C,D)),this._lastEvent=R,I}_getActiveElements(e,D,O,C){if("mouseout"===e.type)return[];if(!O)return D;const A=this.options.hover;return this.getElementsAtEventForMode(e,A.mode,A,C)}}const xn=()=>d(bn.instances,(e=>e._plugins.invalidate())),Bn=!0;function yn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Object.defineProperties(bn,{defaults:{enumerable:Bn,value:me},instances:{enumerable:Bn,value:wn},overrides:{enumerable:Bn,value:ne},registry:{enumerable:Bn,value:en},version:{enumerable:Bn,value:"3.9.1"},getChart:{enumerable:Bn,value:pn},register:{enumerable:Bn,value:(...e)=>{en.add(...e),xn()}},unregister:{enumerable:Bn,value:(...e)=>{en.remove(...e),xn()}}});class vn{constructor(e){this.options=e||{}}init(e){}formats(){return yn()}parse(e,D){return yn()}format(e,D){return yn()}add(e,D,O){return yn()}diff(e,D,O){return yn()}startOf(e,D,O){return yn()}endOf(e,D){return yn()}}vn.override=function(e){Object.assign(vn.prototype,e)};var Jn={_date:vn};function Mn(e){const D=e.iScale,O=function(e,D){if(!e._cache.$bar){const O=e.getMatchingVisibleMetas(D);let C=[];for(let D=0,A=O.length;D<A;D++)C=C.concat(O[D].controller.getAllParsedValues(e));e._cache.$bar=rt(C.sort(((e,D)=>e-D)))}return e._cache.$bar}(D,e.type);let C,A,T,E,L=D._length;const l=()=>{32767!==T&&-32768!==T&&(M(E)&&(L=Math.min(L,Math.abs(T-E)||L)),E=T)};for(C=0,A=O.length;C<A;++C)T=D.getPixelForValue(O[C]),l();for(E=void 0,C=0,A=D.ticks.length;C<A;++C)T=D.getPixelForTick(C),l();return L}function kn(e,D,O,C){return s(e)?function(e,D,O,C){const A=O.parse(e[0],C),T=O.parse(e[1],C),E=Math.min(A,T),L=Math.max(A,T);let R=E,I=L;Math.abs(E)>Math.abs(L)&&(R=L,I=E),D[O.axis]=I,D._custom={barStart:R,barEnd:I,start:A,end:T,min:E,max:L}}(e,D,O,C):D[O.axis]=O.parse(e,C),D}function Sn(e,D,O,C){const A=e.iScale,T=e.vScale,E=A.getLabels(),L=A===T,R=[];let I,z,nt,lt;for(I=O,z=O+C;I<z;++I)lt=D[I],nt={},nt[A.axis]=L||A.parse(E[I],I),R.push(kn(lt,nt,T,I));return R}function Pn(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Dn(e,D,O,C){let A=D.borderSkipped;const T={};if(!A)return void(e.borderSkipped=T);if(!0===A)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:E,end:L,reverse:R,top:I,bottom:z}=function(e){let D,O,C,A,T;return e.horizontal?(D=e.base>e.x,O="left",C="right"):(D=e.base<e.y,O="bottom",C="top"),D?(A="end",T="start"):(A="start",T="end"),{start:O,end:C,reverse:D,top:A,bottom:T}}(e);"middle"===A&&O&&(e.enableBorderRadius=!0,(O._top||0)===C?A=I:(O._bottom||0)===C?A=z:(T[On(z,E,L,R)]=!0,A=I)),T[On(A,E,L,R)]=!0,e.borderSkipped=T}function On(e,D,O,C){var A,T,E;return C?(E=O,e=Cn(e=(A=e)===(T=D)?E:A===E?T:A,O,D)):e=Cn(e,D,O),e}function Cn(e,D,O){return"start"===e?D:"end"===e?O:e}function An(e,{inflateAmount:D},O){e.inflateAmount="auto"===D?1===O?.33:0:D}class Tn extends Ls{parsePrimitiveData(e,D,O,C){return Sn(e,D,O,C)}parseArrayData(e,D,O,C){return Sn(e,D,O,C)}parseObjectData(e,D,O,C){const{iScale:A,vScale:T}=e,{xAxisKey:E="x",yAxisKey:L="y"}=this._parsing,R="x"===A.axis?E:L,I="x"===T.axis?E:L,z=[];let nt,lt,mt,Mt;for(nt=O,lt=O+C;nt<lt;++nt)Mt=D[nt],mt={},mt[A.axis]=A.parse(y(Mt,R),nt),z.push(kn(y(Mt,I),mt,T,nt));return z}updateRangeFromParsed(e,D,O,C){super.updateRangeFromParsed(e,D,O,C);const A=O._custom;A&&D===this._cachedMeta.vScale&&(e.min=Math.min(e.min,A.min),e.max=Math.max(e.max,A.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const D=this._cachedMeta,{iScale:O,vScale:C}=D,A=this.getParsed(e),T=A._custom,E=Pn(T)?"["+T.start+", "+T.end+"]":""+C.getLabelForValue(A[C.axis]);return{label:""+O.getLabelForValue(A[O.axis]),value:E}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const D=this._cachedMeta;this.updateElements(D.data,0,D.data.length,e)}updateElements(e,D,O,C){const A="reset"===C,{index:T,_cachedMeta:{vScale:E}}=this,L=E.getBasePixel(),R=E.isHorizontal(),I=this._getRuler(),{sharedOptions:z,includeOptions:nt}=this._getSharedOptions(D,C);for(let lt=D;lt<D+O;lt++){const D=this.getParsed(lt),O=A||i(D[E.axis])?{base:L,head:L}:this._calculateBarValuePixels(lt),mt=this._calculateBarIndexPixels(lt,I),Mt=(D._stacks||{})[E.axis],kt={horizontal:R,base:O.base,enableBorderRadius:!Mt||Pn(D._custom)||T===Mt._top||T===Mt._bottom,x:R?O.head:mt.center,y:R?mt.center:O.head,height:R?mt.size:Math.abs(O.size),width:R?Math.abs(O.size):mt.size};nt&&(kt.options=z||this.resolveDataElementOptions(lt,e[lt].active?"active":C));const Ct=kt.options||e[lt].options;Dn(kt,Ct,Mt,T),An(kt,Ct,I.ratio),this.updateElement(e[lt],lt,kt,C)}}_getStacks(e,D){const{iScale:O}=this._cachedMeta,C=O.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),A=O.options.stacked,T=[],r=e=>{const O=e.controller.getParsed(D),C=O&&O[e.vScale.axis];if(i(C)||isNaN(C))return!0};for(const O of C)if((void 0===D||!r(O))&&((!1===A||-1===T.indexOf(O.stack)||void 0===A&&void 0===O.stack)&&T.push(O.stack),O.index===e))break;return T.length||T.push(void 0),T}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,D,O){const C=this._getStacks(e,O),A=void 0!==D?C.indexOf(D):-1;return-1===A?C.length-1:A}_getRuler(){const e=this.options,D=this._cachedMeta,O=D.iScale,C=[];let A,T;for(A=0,T=D.data.length;A<T;++A)C.push(O.getPixelForValue(this.getParsed(A)[O.axis],A));const E=e.barThickness;return{min:E||Mn(D),pixels:C,start:O._startPixel,end:O._endPixel,stackCount:this._getStackCount(),scale:O,grouped:e.grouped,ratio:E?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:D,_stacked:O},options:{base:C,minBarLength:A}}=this,T=C||0,E=this.getParsed(e),L=E._custom,R=Pn(L);let I,z,nt=E[D.axis],mt=0,Mt=O?this.applyStack(D,E,O):nt;Mt!==nt&&(mt=Mt-nt,Mt=nt),R&&(nt=L.barStart,Mt=L.barEnd-L.barStart,0!==nt&&lt(nt)!==lt(L.barEnd)&&(mt=0),mt+=nt);const kt=i(C)||R?mt:C;let Ct=D.getPixelForValue(kt);if(I=this.chart.getDataVisibility(e)?D.getPixelForValue(mt+Mt):Ct,z=I-Ct,Math.abs(z)<A){z=function(e,D,O){return 0!==e?lt(e):(D.isHorizontal()?1:-1)*(D.min>=O?1:-1)}(z,D,T)*A,nt===T&&(Ct-=z/2);const e=D.getPixelForDecimal(0),O=D.getPixelForDecimal(1),C=Math.min(e,O),E=Math.max(e,O);Ct=Math.max(Math.min(Ct,E),C),I=Ct+z}if(Ct===D.getPixelForValue(T)){const e=lt(z)*D.getLineWidthForValue(T)/2;Ct+=e,z-=e}return{size:z,base:Ct,head:I,center:I+z/2}}_calculateBarIndexPixels(e,D){const O=D.scale,C=this.options,A=C.skipNull,T=r(C.maxBarThickness,1/0);let E,L;if(D.grouped){const O=A?this._getStackCount(e):D.stackCount,R="flex"===C.barThickness?function(e,D,O,C){const A=D.pixels,T=A[e];let E=e>0?A[e-1]:null,L=e<A.length-1?A[e+1]:null;const R=O.categoryPercentage;null===E&&(E=T-(null===L?D.end-D.start:L-T)),null===L&&(L=T+T-E);const I=T-(T-Math.min(E,L))/2*R;return{chunk:Math.abs(L-E)/2*R/C,ratio:O.barPercentage,start:I}}(e,D,C,O):function(e,D,O,C){const A=O.barThickness;let T,E;return i(A)?(T=D.min*O.categoryPercentage,E=O.barPercentage):(T=A*C,E=1),{chunk:T/C,ratio:E,start:D.pixels[e]-T/2}}(e,D,C,O),I=this._getStackIndex(this.index,this._cachedMeta.stack,A?e:void 0);E=R.start+R.chunk*I+R.chunk/2,L=Math.min(T,R.chunk*R.ratio)}else E=O.getPixelForValue(this.getParsed(e)[O.axis],e),L=Math.min(T,D.min*D.ratio);return{base:E-L/2,head:E+L/2,center:E,size:L}}draw(){const e=this._cachedMeta,D=e.vScale,O=e.data,C=O.length;let A=0;for(;A<C;++A)null!==this.getParsed(A)[D.axis]&&O[A].draw(this._ctx)}}Tn.id="bar",Tn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Tn.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Ln extends Ls{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,D,O,C){const A=super.parsePrimitiveData(e,D,O,C);for(let e=0;e<A.length;e++)A[e]._custom=this.resolveDataElementOptions(e+O).radius;return A}parseArrayData(e,D,O,C){const A=super.parseArrayData(e,D,O,C);for(let e=0;e<A.length;e++){const C=D[O+e];A[e]._custom=r(C[2],this.resolveDataElementOptions(e+O).radius)}return A}parseObjectData(e,D,O,C){const A=super.parseObjectData(e,D,O,C);for(let e=0;e<A.length;e++){const C=D[O+e];A[e]._custom=r(C&&C.r&&+C.r,this.resolveDataElementOptions(e+O).radius)}return A}getMaxOverflow(){const e=this._cachedMeta.data;let D=0;for(let O=e.length-1;O>=0;--O)D=Math.max(D,e[O].size(this.resolveDataElementOptions(O))/2);return D>0&&D}getLabelAndValue(e){const D=this._cachedMeta,{xScale:O,yScale:C}=D,A=this.getParsed(e),T=O.getLabelForValue(A.x),E=C.getLabelForValue(A.y),L=A._custom;return{label:D.label,value:"("+T+", "+E+(L?", "+L:"")+")"}}update(e){const D=this._cachedMeta.data;this.updateElements(D,0,D.length,e)}updateElements(e,D,O,C){const A="reset"===C,{iScale:T,vScale:E}=this._cachedMeta,{sharedOptions:L,includeOptions:R}=this._getSharedOptions(D,C),I=T.axis,z=E.axis;for(let nt=D;nt<D+O;nt++){const D=e[nt],O=!A&&this.getParsed(nt),lt={},mt=lt[I]=A?T.getPixelForDecimal(.5):T.getPixelForValue(O[I]),Mt=lt[z]=A?E.getBasePixel():E.getPixelForValue(O[z]);lt.skip=isNaN(mt)||isNaN(Mt),R&&(lt.options=L||this.resolveDataElementOptions(nt,D.active?"active":C),A&&(lt.options.radius=0)),this.updateElement(D,nt,lt,C)}}resolveDataElementOptions(e,D){const O=this.getParsed(e);let C=super.resolveDataElementOptions(e,D);C.$shared&&(C=Object.assign({},C,{$shared:!1}));const A=C.radius;return"active"!==D&&(C.radius=0),C.radius+=r(O&&O._custom,A),C}}Ln.id="bubble",Ln.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Ln.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class En extends Ls{constructor(e,D){super(e,D),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,D){const O=this.getDataset().data,C=this._cachedMeta;if(!1===this._parsing)C._parsed=O;else{let A,T,r=e=>+O[e];if(n(O[e])){const{key:e="value"}=this._parsing;r=D=>+y(O[D],e)}for(A=e,T=e+D;A<T;++A)C._parsed[A]=r(A)}}_getRotation(){return H(this.options.rotation-90)}_getCircumference(){return H(this.options.circumference)}_getRotationExtents(){let e=A,D=-A;for(let O=0;O<this.chart.data.datasets.length;++O)if(this.chart.isDatasetVisible(O)){const C=this.chart.getDatasetMeta(O).controller,A=C._getRotation(),T=C._getCircumference();e=Math.min(e,A),D=Math.max(D,A+T)}return{rotation:e,circumference:D-e}}update(e){const D=this.chart,{chartArea:O}=D,T=this._cachedMeta,E=T.data,L=this.getMaxBorderWidth()+this.getMaxOffset(E)+this.options.spacing,I=Math.max((Math.min(O.width,O.height)-L)/2,0),z=Math.min(l(this.options.cutout,I),1),nt=this._getRingWeight(this.index),{circumference:lt,rotation:mt}=this._getRotationExtents(),{ratioX:Mt,ratioY:kt,offsetX:Ct,offsetY:Bt}=function(e,D,O){let T=1,E=1,L=0,I=0;if(D<A){const A=e,z=A+D,nt=Math.cos(A),lt=Math.sin(A),mt=Math.cos(z),Mt=Math.sin(z),f=(e,D,C)=>G(e,A,z,!0)?1:Math.max(D,D*O,C,C*O),g=(e,D,C)=>G(e,A,z,!0)?-1:Math.min(D,D*O,C,C*O),kt=f(0,nt,mt),Ct=f(R,lt,Mt),Bt=g(C,nt,mt),Vt=g(C+R,lt,Mt);T=(kt-Bt)/2,E=(Ct-Vt)/2,L=-(kt+Bt)/2,I=-(Ct+Vt)/2}return{ratioX:T,ratioY:E,offsetX:L,offsetY:I}}(mt,lt,z),Vt=(O.width-L)/Mt,Nt=(O.height-L)/kt,jt=Math.max(Math.min(Vt,Nt)/2,0),te=h(this.options.radius,jt),ee=(te-Math.max(te*z,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Ct*te,this.offsetY=Bt*te,T.total=this.calculateTotal(),this.outerRadius=te-ee*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ee*nt,0),this.updateElements(E,0,E.length,e)}_circumference(e,D){const O=this.options,C=this._cachedMeta,T=this._getCircumference();return D&&O.animation.animateRotate||!this.chart.getDataVisibility(e)||null===C._parsed[e]||C.data[e].hidden?0:this.calculateCircumference(C._parsed[e]*T/A)}updateElements(e,D,O,C){const A="reset"===C,T=this.chart,E=T.chartArea,L=T.options.animation,R=(E.left+E.right)/2,I=(E.top+E.bottom)/2,z=A&&L.animateScale,nt=z?0:this.innerRadius,lt=z?0:this.outerRadius,{sharedOptions:mt,includeOptions:Mt}=this._getSharedOptions(D,C);let kt,Ct=this._getRotation();for(kt=0;kt<D;++kt)Ct+=this._circumference(kt,A);for(kt=D;kt<D+O;++kt){const D=this._circumference(kt,A),O=e[kt],T={x:R+this.offsetX,y:I+this.offsetY,startAngle:Ct,endAngle:Ct+D,circumference:D,outerRadius:lt,innerRadius:nt};Mt&&(T.options=mt||this.resolveDataElementOptions(kt,O.active?"active":C)),Ct+=D,this.updateElement(O,kt,T,C)}}calculateTotal(){const e=this._cachedMeta,D=e.data;let O,C=0;for(O=0;O<D.length;O++){const A=e._parsed[O];null===A||isNaN(A)||!this.chart.getDataVisibility(O)||D[O].hidden||(C+=Math.abs(A))}return C}calculateCircumference(e){const D=this._cachedMeta.total;return D>0&&!isNaN(e)?A*(Math.abs(e)/D):0}getLabelAndValue(e){const D=this._cachedMeta,O=this.chart,C=O.data.labels||[],A=li(D._parsed[e],O.options.locale);return{label:C[e]||"",value:A}}getMaxBorderWidth(e){let D=0;const O=this.chart;let C,A,T,E,L;if(!e)for(C=0,A=O.data.datasets.length;C<A;++C)if(O.isDatasetVisible(C)){T=O.getDatasetMeta(C),e=T.data,E=T.controller;break}if(!e)return 0;for(C=0,A=e.length;C<A;++C)L=E.resolveDataElementOptions(C),"inner"!==L.borderAlign&&(D=Math.max(D,L.borderWidth||0,L.hoverBorderWidth||0));return D}getMaxOffset(e){let D=0;for(let O=0,C=e.length;O<C;++O){const e=this.resolveDataElementOptions(O);D=Math.max(D,e.offset||0,e.hoverOffset||0)}return D}_getRingWeightOffset(e){let D=0;for(let O=0;O<e;++O)this.chart.isDatasetVisible(O)&&(D+=this._getRingWeight(O));return D}_getRingWeight(e){return Math.max(r(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}En.id="doughnut",En.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},En.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},En.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const D=e.data;if(D.labels.length&&D.datasets.length){const{labels:{pointStyle:O}}=e.legend.options;return D.labels.map(((D,C)=>{const A=e.getDatasetMeta(0).controller.getStyle(C);return{text:D,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,lineWidth:A.borderWidth,pointStyle:O,hidden:!e.getDataVisibility(C),index:C}}))}return[]}},onClick(e,D,O){O.chart.toggleDataVisibility(D.index),O.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let D=e.label;const O=": "+e.formattedValue;return s(D)?(D=D.slice(),D[0]+=O):D+=O,D}}}}};class Rn extends Ls{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const D=this._cachedMeta,{dataset:O,data:C=[],_dataset:A}=D,T=this.chart._animationsDisabled;let{start:E,count:L}=gt(D,C,T);this._drawStart=E,this._drawCount=L,pt(D)&&(E=0,L=C.length),O._chart=this.chart,O._datasetIndex=this.index,O._decimated=!!A._decimated,O.points=C;const R=this.resolveDatasetElementOptions(e);this.options.showLine||(R.borderWidth=0),R.segment=this.options.segment,this.updateElement(O,void 0,{animated:!T,options:R},e),this.updateElements(C,E,L,e)}updateElements(e,D,O,C){const A="reset"===C,{iScale:T,vScale:E,_stacked:L,_dataset:R}=this._cachedMeta,{sharedOptions:I,includeOptions:z}=this._getSharedOptions(D,C),nt=T.axis,lt=E.axis,{spanGaps:mt,segment:Mt}=this.options,kt=B(mt)?mt:Number.POSITIVE_INFINITY,Ct=this.chart._animationsDisabled||A||"none"===C;let Bt=D>0&&this.getParsed(D-1);for(let mt=D;mt<D+O;++mt){const D=e[mt],O=this.getParsed(mt),Vt=Ct?D:{},Nt=i(O[lt]),jt=Vt[nt]=T.getPixelForValue(O[nt],mt),te=Vt[lt]=A||Nt?E.getBasePixel():E.getPixelForValue(L?this.applyStack(E,O,L):O[lt],mt);Vt.skip=isNaN(jt)||isNaN(te)||Nt,Vt.stop=mt>0&&Math.abs(O[nt]-Bt[nt])>kt,Mt&&(Vt.parsed=O,Vt.raw=R.data[mt]),z&&(Vt.options=I||this.resolveDataElementOptions(mt,D.active?"active":C)),Ct||this.updateElement(D,mt,Vt,C),Bt=O}}getMaxOverflow(){const e=this._cachedMeta,D=e.dataset,O=D.options&&D.options.borderWidth||0,C=e.data||[];if(!C.length)return O;const A=C[0].size(this.resolveDataElementOptions(0)),T=C[C.length-1].size(this.resolveDataElementOptions(C.length-1));return Math.max(O,A,T)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Rn.id="line",Rn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Rn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class In extends Ls{constructor(e,D){super(e,D),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const D=this._cachedMeta,O=this.chart,C=O.data.labels||[],A=li(D._parsed[e].r,O.options.locale);return{label:C[e]||"",value:A}}parseObjectData(e,D,O,C){return Ue.bind(this)(e,D,O,C)}update(e){const D=this._cachedMeta.data;this._updateRadius(),this.updateElements(D,0,D.length,e)}getMinMax(){const e=this._cachedMeta,D={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,O)=>{const C=this.getParsed(O).r;!isNaN(C)&&this.chart.getDataVisibility(O)&&(C<D.min&&(D.min=C),C>D.max&&(D.max=C))})),D}_updateRadius(){const e=this.chart,D=e.chartArea,O=e.options,C=Math.min(D.right-D.left,D.bottom-D.top),A=Math.max(C/2,0),T=(A-Math.max(O.cutoutPercentage?A/100*O.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=A-T*this.index,this.innerRadius=this.outerRadius-T}updateElements(e,D,O,A){const T="reset"===A,E=this.chart,L=E.options.animation,R=this._cachedMeta.rScale,I=R.xCenter,z=R.yCenter,nt=R.getIndexAngle(0)-.5*C;let lt,mt=nt;const Mt=360/this.countVisibleElements();for(lt=0;lt<D;++lt)mt+=this._computeAngle(lt,A,Mt);for(lt=D;lt<D+O;lt++){const D=e[lt];let O=mt,C=mt+this._computeAngle(lt,A,Mt),kt=E.getDataVisibility(lt)?R.getDistanceFromCenterForValue(this.getParsed(lt).r):0;mt=C,T&&(L.animateScale&&(kt=0),L.animateRotate&&(O=C=nt));const Ct={x:I,y:z,innerRadius:0,outerRadius:kt,startAngle:O,endAngle:C,options:this.resolveDataElementOptions(lt,D.active?"active":A)};this.updateElement(D,lt,Ct,A)}}countVisibleElements(){const e=this._cachedMeta;let D=0;return e.data.forEach(((e,O)=>{!isNaN(this.getParsed(O).r)&&this.chart.getDataVisibility(O)&&D++})),D}_computeAngle(e,D,O){return this.chart.getDataVisibility(e)?H(this.resolveDataElementOptions(e,D).angle||O):0}}In.id="polarArea",In.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},In.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const D=e.data;if(D.labels.length&&D.datasets.length){const{labels:{pointStyle:O}}=e.legend.options;return D.labels.map(((D,C)=>{const A=e.getDatasetMeta(0).controller.getStyle(C);return{text:D,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,lineWidth:A.borderWidth,pointStyle:O,hidden:!e.getDataVisibility(C),index:C}}))}return[]}},onClick(e,D,O){O.chart.toggleDataVisibility(D.index),O.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class zn extends En{}zn.id="pie",zn.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Fn extends Ls{getLabelAndValue(e){const D=this._cachedMeta.vScale,O=this.getParsed(e);return{label:D.getLabels()[e],value:""+D.getLabelForValue(O[D.axis])}}parseObjectData(e,D,O,C){return Ue.bind(this)(e,D,O,C)}update(e){const D=this._cachedMeta,O=D.dataset,C=D.data||[],A=D.iScale.getLabels();if(O.points=C,"resize"!==e){const D=this.resolveDatasetElementOptions(e);this.options.showLine||(D.borderWidth=0);const T={_loop:!0,_fullLoop:A.length===C.length,options:D};this.updateElement(O,void 0,T,e)}this.updateElements(C,0,C.length,e)}updateElements(e,D,O,C){const A=this._cachedMeta.rScale,T="reset"===C;for(let E=D;E<D+O;E++){const D=e[E],O=this.resolveDataElementOptions(E,D.active?"active":C),L=A.getPointPositionForValue(E,this.getParsed(E).r),R=T?A.xCenter:L.x,I=T?A.yCenter:L.y,z={x:R,y:I,angle:L.angle,skip:isNaN(R)||isNaN(I),options:O};this.updateElement(D,E,z,C)}}}Fn.id="radar",Fn.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Fn.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Vn extends Ls{update(e){const D=this._cachedMeta,{data:O=[]}=D,C=this.chart._animationsDisabled;let{start:A,count:T}=gt(D,O,C);if(this._drawStart=A,this._drawCount=T,pt(D)&&(A=0,T=O.length),this.options.showLine){const{dataset:A,_dataset:T}=D;A._chart=this.chart,A._datasetIndex=this.index,A._decimated=!!T._decimated,A.points=O;const E=this.resolveDatasetElementOptions(e);E.segment=this.options.segment,this.updateElement(A,void 0,{animated:!C,options:E},e)}this.updateElements(O,A,T,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=en.getElement("line")),super.addElements()}updateElements(e,D,O,C){const A="reset"===C,{iScale:T,vScale:E,_stacked:L,_dataset:R}=this._cachedMeta,I=this.resolveDataElementOptions(D,C),z=this.getSharedOptions(I),nt=this.includeOptions(C,z),lt=T.axis,mt=E.axis,{spanGaps:Mt,segment:kt}=this.options,Ct=B(Mt)?Mt:Number.POSITIVE_INFINITY,Bt=this.chart._animationsDisabled||A||"none"===C;let Vt=D>0&&this.getParsed(D-1);for(let I=D;I<D+O;++I){const D=e[I],O=this.getParsed(I),Mt=Bt?D:{},Nt=i(O[mt]),jt=Mt[lt]=T.getPixelForValue(O[lt],I),te=Mt[mt]=A||Nt?E.getBasePixel():E.getPixelForValue(L?this.applyStack(E,O,L):O[mt],I);Mt.skip=isNaN(jt)||isNaN(te)||Nt,Mt.stop=I>0&&Math.abs(O[lt]-Vt[lt])>Ct,kt&&(Mt.parsed=O,Mt.raw=R.data[I]),nt&&(Mt.options=z||this.resolveDataElementOptions(I,D.active?"active":C)),Bt||this.updateElement(D,I,Mt,C),Vt=O}this.updateSharedOptions(z,C,I)}getMaxOverflow(){const e=this._cachedMeta,D=e.data||[];if(!this.options.showLine){let e=0;for(let O=D.length-1;O>=0;--O)e=Math.max(e,D[O].size(this.resolveDataElementOptions(O))/2);return e>0&&e}const O=e.dataset,C=O.options&&O.options.borderWidth||0;if(!D.length)return C;const A=D[0].size(this.resolveDataElementOptions(0)),T=D[D.length-1].size(this.resolveDataElementOptions(D.length-1));return Math.max(C,A,T)/2}}Vn.id="scatter",Vn.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Vn.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var co=Object.freeze({__proto__:null,BarController:Tn,BubbleController:Ln,DoughnutController:En,LineController:Rn,PolarAreaController:In,PieController:zn,RadarController:Fn,ScatterController:Vn});function Nn(e,D,O){const{startAngle:C,pixelMargin:A,x:T,y:E,outerRadius:L,innerRadius:I}=D;let z=A/L;e.beginPath(),e.arc(T,E,L,C-z,O+z),I>A?(z=A/I,e.arc(T,E,I,O+z,C-z,!0)):e.arc(T,E,A,O+R,C-R),e.closePath(),e.clip()}function Wn(e,D,O,C){const A=ui(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const T=(O-D)/2,E=Math.min(T,C*D/2),r=e=>{const D=(O-Math.min(T,e))*C/2;return Z(e,0,Math.min(T,D))};return{outerStart:r(A.outerStart),outerEnd:r(A.outerEnd),innerStart:Z(A.innerStart,0,E),innerEnd:Z(A.innerEnd,0,E)}}function jn(e,D,O,C){return{x:O+e*Math.cos(D),y:C+e*Math.sin(D)}}function Hn(e,D,O,A,T,E){const{x:L,y:I,startAngle:z,pixelMargin:nt,innerRadius:lt}=D,mt=Math.max(D.outerRadius+A+O-nt,0),Mt=lt>0?lt+A+O+nt:0;let kt=0;const Ct=T-z;if(A){const e=((lt>0?lt-A:0)+(mt>0?mt-A:0))/2;kt=(Ct-(0!==e?Ct*e/(e+A):Ct))/2}const Bt=(Ct-Math.max(.001,Ct*mt-O/C)/mt)/2,Vt=z+Bt+kt,Nt=T-Bt-kt,{outerStart:jt,outerEnd:te,innerStart:ee,innerEnd:ne}=Wn(D,Mt,mt,Nt-Vt),ce=mt-jt,me=mt-te,Xe=Vt+jt/ce,si=Nt-te/me,ri=Mt+ee,hi=Mt+ne,ci=Vt+ee/ri,Ti=Nt-ne/hi;if(e.beginPath(),E){if(e.arc(L,I,mt,Xe,si),te>0){const D=jn(me,si,L,I);e.arc(D.x,D.y,te,si,Nt+R)}const D=jn(hi,Nt,L,I);if(e.lineTo(D.x,D.y),ne>0){const D=jn(hi,Ti,L,I);e.arc(D.x,D.y,ne,Nt+R,Ti+Math.PI)}if(e.arc(L,I,Mt,Nt-ne/Mt,Vt+ee/Mt,!0),ee>0){const D=jn(ri,ci,L,I);e.arc(D.x,D.y,ee,ci+Math.PI,Vt-R)}const O=jn(ce,Vt,L,I);if(e.lineTo(O.x,O.y),jt>0){const D=jn(ce,Xe,L,I);e.arc(D.x,D.y,jt,Vt-R,Xe)}}else{e.moveTo(L,I);const D=Math.cos(Xe)*mt+L,O=Math.sin(Xe)*mt+I;e.lineTo(D,O);const C=Math.cos(si)*mt+L,A=Math.sin(si)*mt+I;e.lineTo(C,A)}e.closePath()}function $n(e,D,O,C,T,E){const{options:L}=D,{borderWidth:R,borderJoinStyle:I}=L,z="inner"===L.borderAlign;R&&(z?(e.lineWidth=2*R,e.lineJoin=I||"round"):(e.lineWidth=R,e.lineJoin=I||"bevel"),D.fullCircles&&function(e,D,O){const{x:C,y:T,startAngle:E,pixelMargin:L,fullCircles:R}=D,I=Math.max(D.outerRadius-L,0),z=D.innerRadius+L;let nt;for(O&&Nn(e,D,E+A),e.beginPath(),e.arc(C,T,z,E+A,E,!0),nt=0;nt<R;++nt)e.stroke();for(e.beginPath(),e.arc(C,T,I,E,E+A),nt=0;nt<R;++nt)e.stroke()}(e,D,z),z&&Nn(e,D,T),Hn(e,D,O,C,T,E),e.stroke())}class Yn extends Es{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,D,O){const C=this.getProps(["x","y"],O),{angle:T,distance:E}=U(C,{x:e,y:D}),{startAngle:L,endAngle:R,innerRadius:I,outerRadius:z,circumference:nt}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],O),lt=this.options.spacing/2,mt=r(nt,R-L)>=A||G(T,L,R),Mt=Q(E,I+lt,z+lt);return mt&&Mt}getCenterPoint(e){const{x:D,y:O,startAngle:C,endAngle:A,innerRadius:T,outerRadius:E}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:L,spacing:R}=this.options,I=(C+A)/2,z=(T+E+R+L)/2;return{x:D+Math.cos(I)*z,y:O+Math.sin(I)*z}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:D,circumference:O}=this,T=(D.offset||0)/2,E=(D.spacing||0)/2,L=D.circular;if(this.pixelMargin="inner"===D.borderAlign?.33:0,this.fullCircles=O>A?Math.floor(O/A):0,0===O||this.innerRadius<0||this.outerRadius<0)return;e.save();let R=0;if(T){R=T/2;const D=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(D)*R,Math.sin(D)*R),this.circumference>=C&&(R=T)}e.fillStyle=D.backgroundColor,e.strokeStyle=D.borderColor;const I=function(e,D,O,C,T){const{fullCircles:E,startAngle:L,circumference:R}=D;let I=D.endAngle;if(E){Hn(e,D,O,C,L+A,T);for(let D=0;D<E;++D)e.fill();isNaN(R)||(I=L+R%A,R%A==0&&(I+=A))}return Hn(e,D,O,C,I,T),e.fill(),I}(e,this,R,E,L);$n(e,this,R,E,I,L),e.restore()}}function Un(e,D,O=D){e.lineCap=r(O.borderCapStyle,D.borderCapStyle),e.setLineDash(r(O.borderDash,D.borderDash)),e.lineDashOffset=r(O.borderDashOffset,D.borderDashOffset),e.lineJoin=r(O.borderJoinStyle,D.borderJoinStyle),e.lineWidth=r(O.borderWidth,D.borderWidth),e.strokeStyle=r(O.borderColor,D.borderColor)}function Xn(e,D,O){e.lineTo(O.x,O.y)}function qn(e,D,O={}){const C=e.length,{start:A=0,end:T=C-1}=O,{start:E,end:L}=D,R=Math.max(A,E),I=Math.min(T,L),z=A<E&&T<E||A>L&&T>L;return{count:C,start:R,loop:D.loop,ilen:I<R&&!z?C+I-R:I-R}}function Kn(e,D,O,C){const{points:A,options:T}=D,{count:E,start:L,loop:R,ilen:I}=qn(A,O,C),z=function(e){return e.stepped?Oe:e.tension||"monotone"===e.cubicInterpolationMode?Ce:Xn}(T);let nt,lt,mt,{move:Mt=!0,reverse:kt}=C||{};for(nt=0;nt<=I;++nt)lt=A[(L+(kt?I-nt:nt))%E],lt.skip||(Mt?(e.moveTo(lt.x,lt.y),Mt=!1):z(e,mt,lt,kt,T.stepped),mt=lt);return R&&(lt=A[(L+(kt?I:0))%E],z(e,mt,lt,kt,T.stepped)),!!R}function Gn(e,D,O,C){const A=D.points,{count:T,start:E,ilen:L}=qn(A,O,C),{move:R=!0,reverse:I}=C||{};let z,nt,lt,mt,Mt,kt,Ct=0,Bt=0;const x=e=>(E+(I?L-e:e))%T,_=()=>{mt!==Mt&&(e.lineTo(Ct,Mt),e.lineTo(Ct,mt),e.lineTo(Ct,kt))};for(R&&(nt=A[x(0)],e.moveTo(nt.x,nt.y)),z=0;z<=L;++z){if(nt=A[x(z)],nt.skip)continue;const D=nt.x,O=nt.y,C=0|D;C===lt?(O<mt?mt=O:O>Mt&&(Mt=O),Ct=(Bt*Ct+D)/++Bt):(_(),e.lineTo(D,O),lt=C,Bt=0,mt=Mt=O),kt=O}_()}function Zn(e){const D=e.options,O=D.borderDash&&D.borderDash.length;return e._decimated||e._loop||D.tension||"monotone"===D.cubicInterpolationMode||D.stepped||O?Kn:Gn}Yn.id="arc",Yn.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Yn.defaultRoutes={backgroundColor:"backgroundColor"};const go="function"==typeof Path2D;function Qn(e,D,O,C){go&&!D.options.segment?function(e,D,O,C){let A=D._path;A||(A=D._path=new Path2D,D.path(A,O,C)&&A.closePath()),Un(e,D.options),e.stroke(A)}(e,D,O,C):function(e,D,O,C){const{segments:A,options:T}=D,E=Zn(D);for(const L of A)Un(e,T,L.style),e.beginPath(),E(e,D,L,{start:O,end:O+C-1})&&e.closePath(),e.stroke()}(e,D,O,C)}class to extends Es{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,D){const O=this.options;if((O.tension||"monotone"===O.cubicInterpolationMode)&&!O.stepped&&!this._pointsUpdated){const C=O.spanGaps?this._loop:this._fullLoop;Qe(this._points,O,e,C,D),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Di(this,this.options.segment))}first(){const e=this.segments,D=this.points;return e.length&&D[e[0].start]}last(){const e=this.segments,D=this.points,O=e.length;return O&&D[e[O-1].end]}interpolate(e,D){const O=this.options,C=e[D],A=this.points,T=Pi(this,{property:D,start:C,end:C});if(!T.length)return;const E=[],L=function(e){return e.stepped?oi:e.tension||"monotone"===e.cubicInterpolationMode?ai:ni}(O);let R,I;for(R=0,I=T.length;R<I;++R){const{start:I,end:z}=T[R],nt=A[I],lt=A[z];if(nt===lt){E.push(nt);continue}const mt=L(nt,lt,Math.abs((C-nt[D])/(lt[D]-nt[D])),O.stepped);mt[D]=e[D],E.push(mt)}return 1===E.length?E[0]:E}pathSegment(e,D,O){return Zn(this)(e,this,D,O)}path(e,D,O){const C=this.segments,A=Zn(this);let T=this._loop;D=D||0,O=O||this.points.length-D;for(const E of C)T&=A(e,this,E,{start:D,end:D+O-1});return!!T}draw(e,D,O,C){const A=this.options||{};(this.points||[]).length&&A.borderWidth&&(e.save(),Qn(e,this,O,C),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function eo(e,D,O,C){const A=e.options,{[O]:T}=e.getProps([O],C);return Math.abs(D-T)<A.radius+A.hitRadius}to.id="line",to.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},to.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},to.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};class io extends Es{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,D,O){const C=this.options,{x:A,y:T}=this.getProps(["x","y"],O);return Math.pow(e-A,2)+Math.pow(D-T,2)<Math.pow(C.hitRadius+C.radius,2)}inXRange(e,D){return eo(this,e,"x",D)}inYRange(e,D){return eo(this,e,"y",D)}getCenterPoint(e){const{x:D,y:O}=this.getProps(["x","y"],e);return{x:D,y:O}}size(e){let D=(e=e||this.options||{}).radius||0;D=Math.max(D,D&&e.hoverRadius||0);return 2*(D+(D&&e.borderWidth||0))}draw(e,D){const O=this.options;this.skip||O.radius<.1||!Se(this,D,this.size(O)/2)||(e.strokeStyle=O.borderColor,e.lineWidth=O.borderWidth,e.fillStyle=O.backgroundColor,Me(e,O,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function so(e,D){const{x:O,y:C,base:A,width:T,height:E}=e.getProps(["x","y","base","width","height"],D);let L,R,I,z,nt;return e.horizontal?(nt=E/2,L=Math.min(O,A),R=Math.max(O,A),I=C-nt,z=C+nt):(nt=T/2,L=O-nt,R=O+nt,I=Math.min(C,A),z=Math.max(C,A)),{left:L,top:I,right:R,bottom:z}}function no(e,D,O,C){return e?0:Z(D,O,C)}function oo(e){const D=so(e),O=D.right-D.left,C=D.bottom-D.top,A=function(e,D,O){const C=e.options.borderWidth,A=e.borderSkipped,T=fi(C);return{t:no(A.top,T.top,0,O),r:no(A.right,T.right,0,D),b:no(A.bottom,T.bottom,0,O),l:no(A.left,T.left,0,D)}}(e,O/2,C/2),T=function(e,D,O){const{enableBorderRadius:C}=e.getProps(["enableBorderRadius"]),A=e.options.borderRadius,T=gi(A),E=Math.min(D,O),L=e.borderSkipped,R=C||n(A);return{topLeft:no(!R||L.top||L.left,T.topLeft,0,E),topRight:no(!R||L.top||L.right,T.topRight,0,E),bottomLeft:no(!R||L.bottom||L.left,T.bottomLeft,0,E),bottomRight:no(!R||L.bottom||L.right,T.bottomRight,0,E)}}(e,O/2,C/2);return{outer:{x:D.left,y:D.top,w:O,h:C,radius:T},inner:{x:D.left+A.l,y:D.top+A.t,w:O-A.l-A.r,h:C-A.t-A.b,radius:{topLeft:Math.max(0,T.topLeft-Math.max(A.t,A.l)),topRight:Math.max(0,T.topRight-Math.max(A.t,A.r)),bottomLeft:Math.max(0,T.bottomLeft-Math.max(A.b,A.l)),bottomRight:Math.max(0,T.bottomRight-Math.max(A.b,A.r))}}}}function ao(e,D,O,C){const A=null===D,T=null===O,E=e&&!(A&&T)&&so(e,C);return E&&(A||Q(D,E.left,E.right))&&(T||Q(O,E.top,E.bottom))}function ro(e,D){e.rect(D.x,D.y,D.w,D.h)}function lo(e,D,O={}){const C=e.x!==O.x?-D:0,A=e.y!==O.y?-D:0,T=(e.x+e.w!==O.x+O.w?D:0)-C,E=(e.y+e.h!==O.y+O.h?D:0)-A;return{x:e.x+C,y:e.y+A,w:e.w+T,h:e.h+E,radius:e.radius}}io.id="point",io.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},io.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class ho extends Es{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:D,options:{borderColor:O,backgroundColor:C}}=this,{inner:A,outer:T}=oo(this),E=(L=T.radius).topLeft||L.topRight||L.bottomLeft||L.bottomRight?Le:ro;var L;e.save(),T.w===A.w&&T.h===A.h||(e.beginPath(),E(e,lo(T,D,A)),e.clip(),E(e,lo(A,-D,T)),e.fillStyle=O,e.fill("evenodd")),e.beginPath(),E(e,lo(A,D)),e.fillStyle=C,e.fill(),e.restore()}inRange(e,D,O){return ao(this,e,D,O)}inXRange(e,D){return ao(this,e,null,D)}inYRange(e,D){return ao(this,null,e,D)}getCenterPoint(e){const{x:D,y:O,base:C,horizontal:A}=this.getProps(["x","y","base","horizontal"],e);return{x:A?(D+C)/2:D,y:A?O:(O+C)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}ho.id="bar",ho.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},ho.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var To=Object.freeze({__proto__:null,ArcElement:Yn,LineElement:to,PointElement:io,BarElement:ho});function uo(e){if(e._decimated){const D=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:D})}}function fo(e){e.data.datasets.forEach((e=>{uo(e)}))}var Ro={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(D,O,C)=>{if(!C.enabled)return void fo(D);const A=D.width;D.data.datasets.forEach(((O,T)=>{const{_data:E,indexAxis:L}=O,R=D.getDatasetMeta(T),I=E||O.data;if("y"===bi([L,D.options.indexAxis]))return;if(!R.controller.supportsDecimation)return;const z=D.scales[R.xAxisID];if("linear"!==z.type&&"time"!==z.type)return;if(D.options.parsing)return;let{start:nt,count:lt}=function(e,D){const O=D.length;let C,A=0;const{iScale:T}=e,{min:E,max:L,minDefined:R,maxDefined:I}=T.getUserBounds();return R&&(A=Z(et(D,T.axis,E).lo,0,O-1)),C=I?Z(et(D,T.axis,L).hi+1,A,O)-A:O-A,{start:A,count:C}}(R,I);if(lt<=(C.threshold||4*A))return void uo(O);let mt;switch(i(E)&&(O._data=I,delete O.data,Object.defineProperty(O,"data",{configurable:!0,enumerable:!0,get:function(){return(this||e)._decimated},set:function(D){(this||e)._data=D}})),C.algorithm){case"lttb":mt=function(e,D,O,C,A){const T=A.samples||C;if(T>=O)return e.slice(D,D+O);const E=[],L=(O-2)/(T-2);let R=0;const I=D+O-1;let z,nt,lt,mt,Mt,kt=D;for(E[R++]=e[kt],z=0;z<T-2;z++){let C,A=0,T=0;const I=Math.floor((z+1)*L)+1+D,Ct=Math.min(Math.floor((z+2)*L)+1,O)+D,Bt=Ct-I;for(C=I;C<Ct;C++)A+=e[C].x,T+=e[C].y;A/=Bt,T/=Bt;const Vt=Math.floor(z*L)+1+D,Nt=Math.min(Math.floor((z+1)*L)+1,O)+D,{x:jt,y:te}=e[kt];for(lt=mt=-1,C=Vt;C<Nt;C++)mt=.5*Math.abs((jt-A)*(e[C].y-te)-(jt-e[C].x)*(T-te)),mt>lt&&(lt=mt,nt=e[C],Mt=C);E[R++]=nt,kt=Mt}return E[R++]=e[I],E}(I,nt,lt,A,C);break;case"min-max":mt=function(e,D,O,C){let A,T,E,L,R,I,z,nt,lt,mt,Mt=0,kt=0;const Ct=[],Bt=D+O-1,Vt=e[D].x,Nt=e[Bt].x-Vt;for(A=D;A<D+O;++A){T=e[A],E=(T.x-Vt)/Nt*C,L=T.y;const D=0|E;if(D===R)L<lt?(lt=L,I=A):L>mt&&(mt=L,z=A),Mt=(kt*Mt+T.x)/++kt;else{const O=A-1;if(!i(I)&&!i(z)){const D=Math.min(I,z),C=Math.max(I,z);D!==nt&&D!==O&&Ct.push({...e[D],x:Mt}),C!==nt&&C!==O&&Ct.push({...e[C],x:Mt})}A>0&&O!==nt&&Ct.push(e[O]),Ct.push(T),R=D,kt=0,lt=mt=L,I=z=nt=A}}return Ct}(I,nt,lt,A);break;default:throw new Error(`Unsupported decimation algorithm '${C.algorithm}'`)}O._decimated=mt}))},destroy(e){fo(e)}};function po(e,D,O,C){if(C)return;let A=D[e],T=O[e];return"angle"===e&&(A=K(A),T=K(T)),{property:e,start:A,end:T}}function mo(e,D,O){for(;D>e;D--){const e=O[D];if(!isNaN(e.x)&&!isNaN(e.y))break}return D}function bo(e,D,O,C){return e&&D?C(e[O],D[O]):e?e[O]:D?D[O]:0}function xo(e,D){let O=[],C=!1;return s(e)?(C=!0,O=e):O=function(e,D){const{x:O=null,y:C=null}=e||{},A=D.points,T=[];return D.segments.forEach((({start:e,end:D})=>{D=mo(e,D,A);const E=A[e],L=A[D];null!==C?(T.push({x:E.x,y:C}),T.push({x:L.x,y:C})):null!==O&&(T.push({x:O,y:E.y}),T.push({x:O,y:L.y}))})),T}(e,D),O.length?new to({points:O,options:{tension:0},_loop:C,_fullLoop:C}):null}function _o(e){return e&&!1!==e.fill}function yo(e,D,O){let C=e[D].fill;const A=[D];let T;if(!O)return C;for(;!1!==C&&-1===A.indexOf(C);){if(!o(C))return C;if(T=e[C],!T)return!1;if(T.visible)return C;A.push(C),C=T.fill}return!1}function vo(e,D,O){const C=function(e){const D=e.options,O=D.fill;let C=r(O&&O.target,O);void 0===C&&(C=!!D.backgroundColor);return!1!==C&&null!==C&&(!0===C?"origin":C)}(e);if(n(C))return!isNaN(C.value)&&C;let A=parseFloat(C);return o(A)&&Math.floor(A)===A?function(e,D,O,C){"-"!==e&&"+"!==e||(O=D+O);return!(O===D||O<0||O>=C)&&O}(C[0],D,A,O):["origin","start","end","stack","shape"].indexOf(C)>=0&&C}function wo(e,D,O){const C=[];for(let A=0;A<O.length;A++){const T=O[A],{first:E,last:L,point:R}=Mo(T,D,"x");if(!(!R||E&&L))if(E)C.unshift(R);else if(e.push(R),!L)break}e.push(...C)}function Mo(e,D,O){const C=e.interpolate(D,O);if(!C)return{};const A=C[O],T=e.segments,E=e.points;let L=!1,R=!1;for(let e=0;e<T.length;e++){const D=T[e],C=E[D.start][O],I=E[D.end][O];if(Q(A,C,I)){L=A===C,R=A===I;break}}return{first:L,last:R,point:C}}class ko{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,D,O){const{x:C,y:T,radius:E}=this;return D=D||{start:0,end:A},e.arc(C,T,E,D.end,D.start,!0),!O.bounds}interpolate(e){const{x:D,y:O,radius:C}=this,A=e.angle;return{x:D+Math.cos(A)*C,y:O+Math.sin(A)*C,angle:A}}}function So(e){const{chart:D,fill:O,line:C}=e;if(o(O))return function(e,D){const O=e.getDatasetMeta(D);return O&&e.isDatasetVisible(D)?O.dataset:null}(D,O);if("stack"===O)return function(e){const{scale:D,index:O,line:C}=e,A=[],T=C.segments,E=C.points,L=function(e,D){const O=[],C=e.getMatchingVisibleMetas("line");for(let e=0;e<C.length;e++){const A=C[e];if(A.index===D)break;A.hidden||O.unshift(A.dataset)}return O}(D,O);L.push(xo({x:null,y:D.bottom},C));for(let e=0;e<T.length;e++){const D=T[e];for(let e=D.start;e<=D.end;e++)wo(A,E[e],L)}return new to({points:A,options:{}})}(e);if("shape"===O)return!0;const A=function(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:D,fill:O}=e,C=D.options,A=D.getLabels().length,T=C.reverse?D.max:D.min,E=function(e,D,O){let C;return C="start"===e?O:"end"===e?D.options.reverse?D.min:D.max:n(e)?e.value:D.getBaseValue(),C}(O,D,T),L=[];if(C.grid.circular){const e=D.getPointPositionForValue(0,T);return new ko({x:e.x,y:e.y,radius:D.getDistanceFromCenterForValue(E)})}for(let e=0;e<A;++e)L.push(D.getPointPositionForValue(e,E));return L}(e):function(e){const{scale:D={},fill:O}=e,C=function(e,D){let O=null;return"start"===e?O=D.bottom:"end"===e?O=D.top:n(e)?O=D.getPixelForValue(e.value):D.getBasePixel&&(O=D.getBasePixel()),O}(O,D);if(o(C)){const e=D.isHorizontal();return{x:e?C:null,y:e?null:C}}return null}(e)}(e);return A instanceof ko?A:xo(A,C)}function Po(e,D,O){const C=So(D),{line:A,scale:T,axis:E}=D,L=A.options,R=L.fill,I=L.backgroundColor,{above:z=I,below:nt=I}=R||{};C&&A.points.length&&(Pe(e,O),function(e,D){const{line:O,target:C,above:A,below:T,area:E,scale:L}=D,R=O._loop?"angle":D.axis;e.save(),"x"===R&&T!==A&&(Do(e,C,E.top),Oo(e,{line:O,target:C,color:A,scale:L,property:R}),e.restore(),e.save(),Do(e,C,E.bottom));Oo(e,{line:O,target:C,color:T,scale:L,property:R}),e.restore()}(e,{line:A,target:C,above:z,below:nt,area:O,scale:T,axis:E}),De(e))}function Do(e,D,O){const{segments:C,points:A}=D;let T=!0,E=!1;e.beginPath();for(const L of C){const{start:C,end:R}=L,I=A[C],z=A[mo(C,R,A)];T?(e.moveTo(I.x,I.y),T=!1):(e.lineTo(I.x,O),e.lineTo(I.x,I.y)),E=!!D.pathSegment(e,L,{move:E}),E?e.closePath():e.lineTo(z.x,O)}e.lineTo(D.first().x,O),e.closePath(),e.clip()}function Oo(e,D){const{line:O,target:C,property:A,color:T,scale:E}=D,L=function(e,D,O){const C=e.segments,A=e.points,T=D.points,E=[];for(const e of C){let{start:C,end:L}=e;L=mo(C,L,A);const R=po(O,A[C],A[L],e.loop);if(!D.segments){E.push({source:e,target:R,start:A[C],end:A[L]});continue}const I=Pi(D,R);for(const D of I){const C=po(O,T[D.start],T[D.end],D.loop),L=Si(e,A,C);for(const e of L)E.push({source:e,target:D,start:{[O]:bo(R,C,"start",Math.max)},end:{[O]:bo(R,C,"end",Math.min)}})}}return E}(O,C,A);for(const{source:D,target:R,start:I,end:z}of L){const{style:{backgroundColor:L=T}={}}=D,nt=!0!==C;e.save(),e.fillStyle=L,Co(e,E,nt&&po(A,I,z)),e.beginPath();const lt=!!O.pathSegment(e,D);let mt;if(nt){lt?e.closePath():Ao(e,C,z,A);const D=!!C.pathSegment(e,R,{move:lt,reverse:!0});mt=lt&&D,mt||Ao(e,C,I,A)}e.closePath(),e.fill(mt?"evenodd":"nonzero"),e.restore()}}function Co(e,D,O){const{top:C,bottom:A}=D.chart.chartArea,{property:T,start:E,end:L}=O||{};"x"===T&&(e.beginPath(),e.rect(E,C,L-E,A-C),e.clip())}function Ao(e,D,O,C){const A=D.interpolate(O,C);A&&e.lineTo(A.x,A.y)}var zo={id:"filler",afterDatasetsUpdate(e,D,O){const C=(e.data.datasets||[]).length,A=[];let T,E,L,R;for(E=0;E<C;++E)T=e.getDatasetMeta(E),L=T.dataset,R=null,L&&L.options&&L instanceof to&&(R={visible:e.isDatasetVisible(E),index:E,fill:vo(L,E,C),chart:e,axis:T.controller.options.indexAxis,scale:T.vScale,line:L}),T.$filler=R,A.push(R);for(E=0;E<C;++E)R=A[E],R&&!1!==R.fill&&(R.fill=yo(A,E,O.propagate))},beforeDraw(e,D,O){const C="beforeDraw"===O.drawTime,A=e.getSortedVisibleDatasetMetas(),T=e.chartArea;for(let D=A.length-1;D>=0;--D){const O=A[D].$filler;O&&(O.line.updateControlPoints(T,O.axis),C&&O.fill&&Po(e.ctx,O,T))}},beforeDatasetsDraw(e,D,O){if("beforeDatasetsDraw"!==O.drawTime)return;const C=e.getSortedVisibleDatasetMetas();for(let D=C.length-1;D>=0;--D){const O=C[D].$filler;_o(O)&&Po(e.ctx,O,e.chartArea)}},beforeDatasetDraw(e,D,O){const C=D.meta.$filler;_o(C)&&"beforeDatasetDraw"===O.drawTime&&Po(e.ctx,C,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Lo=(e,D)=>{let{boxHeight:O=D,boxWidth:C=D}=e;return e.usePointStyle&&(O=Math.min(O,D),C=e.pointStyleWidth||Math.min(C,D)),{boxWidth:C,boxHeight:O,itemHeight:Math.max(D,O)}};class Eo extends Es{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,D,O){this.maxWidth=e,this.maxHeight=D,this._margins=O,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let D=c(e.generateLabels,[this.chart],this)||[];e.filter&&(D=D.filter((D=>e.filter(D,this.chart.data)))),e.sort&&(D=D.sort(((D,O)=>e.sort(D,O,this.chart.data)))),this.options.reverse&&D.reverse(),this.legendItems=D}fit(){const{options:e,ctx:D}=this;if(!e.display)return void(this.width=this.height=0);const O=e.labels,C=mi(O.font),A=C.size,T=this._computeTitleHeight(),{boxWidth:E,itemHeight:L}=Lo(O,A);let R,I;D.font=C.string,this.isHorizontal()?(R=this.maxWidth,I=this._fitRows(T,A,E,L)+10):(I=this.maxHeight,R=this._fitCols(T,A,E,L)+10),this.width=Math.min(R,e.maxWidth||this.maxWidth),this.height=Math.min(I,e.maxHeight||this.maxHeight)}_fitRows(e,D,O,C){const{ctx:A,maxWidth:T,options:{labels:{padding:E}}}=this,L=this.legendHitBoxes=[],R=this.lineWidths=[0],I=C+E;let z=e;A.textAlign="left",A.textBaseline="middle";let nt=-1,lt=-I;return this.legendItems.forEach(((e,mt)=>{const Mt=O+D/2+A.measureText(e.text).width;(0===mt||R[R.length-1]+Mt+2*E>T)&&(z+=I,R[R.length-(mt>0?0:1)]=0,lt+=I,nt++),L[mt]={left:0,top:lt,row:nt,width:Mt,height:C},R[R.length-1]+=Mt+E})),z}_fitCols(e,D,O,C){const{ctx:A,maxHeight:T,options:{labels:{padding:E}}}=this,L=this.legendHitBoxes=[],R=this.columnSizes=[],I=T-e;let z=E,nt=0,lt=0,mt=0,Mt=0;return this.legendItems.forEach(((e,T)=>{const kt=O+D/2+A.measureText(e.text).width;T>0&&lt+C+2*E>I&&(z+=nt+E,R.push({width:nt,height:lt}),mt+=nt+E,Mt++,nt=lt=0),L[T]={left:mt,top:lt,col:Mt,width:kt,height:C},nt=Math.max(nt,kt),lt+=C+E})),z+=nt,R.push({width:nt,height:lt}),z}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:D,options:{align:O,labels:{padding:C},rtl:A}}=this,T=yi(A,this.left,this.width);if(this.isHorizontal()){let A=0,E=ut(O,this.left+C,this.right-this.lineWidths[A]);for(const L of D)A!==L.row&&(A=L.row,E=ut(O,this.left+C,this.right-this.lineWidths[A])),L.top+=this.top+e+C,L.left=T.leftForLtr(T.x(E),L.width),E+=L.width+C}else{let A=0,E=ut(O,this.top+e+C,this.bottom-this.columnSizes[A].height);for(const L of D)L.col!==A&&(A=L.col,E=ut(O,this.top+e+C,this.bottom-this.columnSizes[A].height)),L.top=E,L.left+=this.left+C,L.left=T.leftForLtr(T.x(L.left),L.width),E+=L.height+C}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Pe(e,this),this._draw(),De(e)}}_draw(){const{options:e,columnSizes:D,lineWidths:O,ctx:C}=this,{align:A,labels:T}=e,E=me.color,L=yi(e.rtl,this.left,this.width),R=mi(T.font),{color:I,padding:z}=T,nt=R.size,lt=nt/2;let mt;this.drawTitle(),C.textAlign=L.textAlign("left"),C.textBaseline="middle",C.lineWidth=.5,C.font=R.string;const{boxWidth:Mt,boxHeight:kt,itemHeight:Ct}=Lo(T,nt),Bt=this.isHorizontal(),Vt=this._computeTitleHeight();mt=Bt?{x:ut(A,this.left+z,this.right-O[0]),y:this.top+z+Vt,line:0}:{x:this.left+z,y:ut(A,this.top+Vt+z,this.bottom-D[0].height),line:0},vi(this.ctx,e.textDirection);const Nt=Ct+z;this.legendItems.forEach(((jt,te)=>{C.strokeStyle=jt.fontColor||I,C.fillStyle=jt.fontColor||I;const ee=C.measureText(jt.text).width,ne=L.textAlign(jt.textAlign||(jt.textAlign=T.textAlign)),ce=Mt+lt+ee;let me=mt.x,Xe=mt.y;L.setWidth(this.width),Bt?te>0&&me+ce+z>this.right&&(Xe=mt.y+=Nt,mt.line++,me=mt.x=ut(A,this.left+z,this.right-O[mt.line])):te>0&&Xe+Nt>this.bottom&&(me=mt.x=me+D[mt.line].width+z,mt.line++,Xe=mt.y=ut(A,this.top+Vt+z,this.bottom-D[mt.line].height));!function(e,D,O){if(isNaN(Mt)||Mt<=0||isNaN(kt)||kt<0)return;C.save();const A=r(O.lineWidth,1);if(C.fillStyle=r(O.fillStyle,E),C.lineCap=r(O.lineCap,"butt"),C.lineDashOffset=r(O.lineDashOffset,0),C.lineJoin=r(O.lineJoin,"miter"),C.lineWidth=A,C.strokeStyle=r(O.strokeStyle,E),C.setLineDash(r(O.lineDash,[])),T.usePointStyle){const E={radius:kt*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:A},R=L.xPlus(e,Mt/2);ke(C,E,R,D+lt,T.pointStyleWidth&&Mt)}else{const T=D+Math.max((nt-kt)/2,0),E=L.leftForLtr(e,Mt),R=gi(O.borderRadius);C.beginPath(),Object.values(R).some((e=>0!==e))?Le(C,{x:E,y:T,w:Mt,h:kt,radius:R}):C.rect(E,T,Mt,kt),C.fill(),0!==A&&C.stroke()}C.restore()}(L.x(me),Xe,jt),me=ft(ne,me+Mt+lt,Bt?me+ce:this.right,e.rtl),function(e,D,O){Ae(C,O.text,e,D+Ct/2,R,{strikethrough:O.hidden,textAlign:L.textAlign(O.textAlign)})}(L.x(me),Xe,jt),Bt?mt.x+=ce+z:mt.y+=Nt})),wi(this.ctx,e.textDirection)}drawTitle(){const e=this.options,D=e.title,O=mi(D.font),C=pi(D.padding);if(!D.display)return;const A=yi(e.rtl,this.left,this.width),T=this.ctx,E=D.position,L=O.size/2,R=C.top+L;let I,z=this.left,nt=this.width;if(this.isHorizontal())nt=Math.max(...this.lineWidths),I=this.top+R,z=ut(e.align,z,this.right-nt);else{const D=this.columnSizes.reduce(((e,D)=>Math.max(e,D.height)),0);I=R+ut(e.align,this.top,this.bottom-D-e.labels.padding-this._computeTitleHeight())}const lt=ut(E,z,z+nt);T.textAlign=A.textAlign(dt(E)),T.textBaseline="middle",T.strokeStyle=D.color,T.fillStyle=D.color,T.font=O.string,Ae(T,D.text,lt,I,O)}_computeTitleHeight(){const e=this.options.title,D=mi(e.font),O=pi(e.padding);return e.display?D.lineHeight+O.height:0}_getLegendItemAt(e,D){let O,C,A;if(Q(e,this.left,this.right)&&Q(D,this.top,this.bottom))for(A=this.legendHitBoxes,O=0;O<A.length;++O)if(C=A[O],Q(e,C.left,C.left+C.width)&&Q(D,C.top,C.top+C.height))return this.legendItems[O];return null}handleEvent(e){const D=this.options;if(!function(e,D){return!("mousemove"!==e&&"mouseout"!==e||!D.onHover&&!D.onLeave)||!(!D.onClick||"click"!==e&&"mouseup"!==e)}(e.type,D))return;const O=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const T=this._hoveredItem,E=(A=O,null!==(C=T)&&null!==A&&C.datasetIndex===A.datasetIndex&&C.index===A.index);T&&!E&&c(D.onLeave,[e,T,this],this),this._hoveredItem=O,O&&!E&&c(D.onHover,[e,O,this],this)}else O&&c(D.onClick,[e,O,this],this);var C,A}}var Fo={id:"legend",_element:Eo,start(e,D,O){const C=e.legend=new Eo({ctx:e.ctx,options:O,chart:e});is.configure(e,C,O),is.addBox(e,C)},stop(e){is.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,D,O){const C=e.legend;is.configure(e,C,O),C.options=O},afterUpdate(e){const D=e.legend;D.buildLabels(),D.adjustHitBoxes()},afterEvent(e,D){D.replay||e.legend.handleEvent(D.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,D,O){const C=D.datasetIndex,A=O.chart;A.isDatasetVisible(C)?(A.hide(C),D.hidden=!0):(A.show(C),D.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(D){const O=D.data.datasets,{labels:{usePointStyle:C,pointStyle:A,textAlign:T,color:E}}=D.legend.options;return D._getSortedDatasetMetas().map((e=>{const D=e.controller.getStyle(C?0:void 0),L=pi(D.borderWidth);return{text:O[e.index].label,fillStyle:D.backgroundColor,fontColor:E,hidden:!e.visible,lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:(L.width+L.height)/4,strokeStyle:D.borderColor,pointStyle:A||D.pointStyle,rotation:D.rotation,textAlign:T||D.textAlign,borderRadius:0,datasetIndex:e.index}}),this||e)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Io extends Es{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,D){const O=this.options;if(this.left=0,this.top=0,!O.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=D;const C=s(O.text)?O.text.length:1;this._padding=pi(O.padding);const A=C*mi(O.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=A:this.width=A}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:D,left:O,bottom:A,right:T,options:E}=this,L=E.align;let R,I,z,nt=0;return this.isHorizontal()?(I=ut(L,O,T),z=D+e,R=T-O):("left"===E.position?(I=O+e,z=ut(L,A,D),nt=-.5*C):(I=T-e,z=ut(L,D,A),nt=.5*C),R=A-D),{titleX:I,titleY:z,maxWidth:R,rotation:nt}}draw(){const e=this.ctx,D=this.options;if(!D.display)return;const O=mi(D.font),C=O.lineHeight/2+this._padding.top,{titleX:A,titleY:T,maxWidth:E,rotation:L}=this._drawArgs(C);Ae(e,D.text,0,0,O,{color:D.color,maxWidth:E,rotation:L,textAlign:dt(D.align),textBaseline:"middle",translation:[A,T]})}}var Bo={id:"title",_element:Io,start(e,D,O){!function(e,D){const O=new Io({ctx:e.ctx,options:D,chart:e});is.configure(e,O,D),is.addBox(e,O),e.titleBlock=O}(e,O)},stop(e){const D=e.titleBlock;is.removeBox(e,D),delete e.titleBlock},beforeUpdate(e,D,O){const C=e.titleBlock;is.configure(e,C,O),C.options=O},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vo=new WeakMap;var Zo={id:"subtitle",start(e,D,O){const C=new Io({ctx:e.ctx,options:O,chart:e});is.configure(e,C,O),is.addBox(e,C),Vo.set(e,C)},stop(e){is.removeBox(e,Vo.get(e)),Vo.delete(e)},beforeUpdate(e,D,O){const C=Vo.get(e);is.configure(e,C,O),C.options=O},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jo={average(e){if(!e.length)return!1;let D,O,C=0,A=0,T=0;for(D=0,O=e.length;D<O;++D){const O=e[D].element;if(O&&O.hasValue()){const e=O.tooltipPosition();C+=e.x,A+=e.y,++T}}return{x:C/T,y:A/T}},nearest(e,D){if(!e.length)return!1;let O,C,A,T=D.x,E=D.y,L=Number.POSITIVE_INFINITY;for(O=0,C=e.length;O<C;++O){const C=e[O].element;if(C&&C.hasValue()){const e=X(D,C.getCenterPoint());e<L&&(L=e,A=C)}}if(A){const e=A.tooltipPosition();T=e.x,E=e.y}return{x:T,y:E}}};function No(e,D){return D&&(s(D)?Array.prototype.push.apply(e,D):e.push(D)),e}function Wo(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function jo(e,D){const{element:O,datasetIndex:C,index:A}=D,T=e.getDatasetMeta(C).controller,{label:E,value:L}=T.getLabelAndValue(A);return{chart:e,label:E,parsed:T.getParsed(A),raw:e.data.datasets[C].data[A],formattedValue:L,dataset:T.getDataset(),dataIndex:A,datasetIndex:C,element:O}}function Ho(e,D){const O=e.chart.ctx,{body:C,footer:A,title:T}=e,{boxWidth:E,boxHeight:L}=D,R=mi(D.bodyFont),I=mi(D.titleFont),z=mi(D.footerFont),nt=T.length,lt=A.length,mt=C.length,Mt=pi(D.padding);let kt=Mt.height,Ct=0,Bt=C.reduce(((e,D)=>e+D.before.length+D.lines.length+D.after.length),0);(Bt+=e.beforeBody.length+e.afterBody.length,nt&&(kt+=nt*I.lineHeight+(nt-1)*D.titleSpacing+D.titleMarginBottom),Bt)&&(kt+=mt*(D.displayColors?Math.max(L,R.lineHeight):R.lineHeight)+(Bt-mt)*R.lineHeight+(Bt-1)*D.bodySpacing);lt&&(kt+=D.footerMarginTop+lt*z.lineHeight+(lt-1)*D.footerSpacing);let Vt=0;const y=function(e){Ct=Math.max(Ct,O.measureText(e).width+Vt)};return O.save(),O.font=I.string,d(e.title,y),O.font=R.string,d(e.beforeBody.concat(e.afterBody),y),Vt=D.displayColors?E+2+D.boxPadding:0,d(C,(e=>{d(e.before,y),d(e.lines,y),d(e.after,y)})),Vt=0,O.font=z.string,d(e.footer,y),O.restore(),Ct+=Mt.width,{width:Ct,height:kt}}function $o(e,D,O,C){const{x:A,width:T}=O,{width:E,chartArea:{left:L,right:R}}=e;let I="center";return"center"===C?I=A<=(L+R)/2?"left":"right":A<=T/2?I="left":A>=E-T/2&&(I="right"),function(e,D,O,C){const{x:A,width:T}=C,E=O.caretSize+O.caretPadding;return"left"===e&&A+T+E>D.width||"right"===e&&A-T-E<0||void 0}(I,e,D,O)&&(I="center"),I}function Yo(e,D,O){const C=O.yAlign||D.yAlign||function(e,D){const{y:O,height:C}=D;return O<C/2?"top":O>e.height-C/2?"bottom":"center"}(e,O);return{xAlign:O.xAlign||D.xAlign||$o(e,D,O,C),yAlign:C}}function Uo(e,D,O,C){const{caretSize:A,caretPadding:T,cornerRadius:E}=e,{xAlign:L,yAlign:R}=O,I=A+T,{topLeft:z,topRight:nt,bottomLeft:lt,bottomRight:mt}=gi(E);let Mt=function(e,D){let{x:O,width:C}=e;return"right"===D?O-=C:"center"===D&&(O-=C/2),O}(D,L);const kt=function(e,D,O){let{y:C,height:A}=e;return"top"===D?C+=O:C-="bottom"===D?A+O:A/2,C}(D,R,I);return"center"===R?"left"===L?Mt+=I:"right"===L&&(Mt-=I):"left"===L?Mt-=Math.max(z,lt)+A:"right"===L&&(Mt+=Math.max(nt,mt)+A),{x:Z(Mt,0,C.width-D.width),y:Z(kt,0,C.height-D.height)}}function Xo(e,D,O){const C=pi(O.padding);return"center"===D?e.x+e.width/2:"right"===D?e.x+e.width-C.right:e.x+C.left}function qo(e){return No([],Wo(e))}function Ko(e,D){const O=D&&D.dataset&&D.dataset.tooltip&&D.dataset.tooltip.callbacks;return O?e.override(O):e}class Go extends Es{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const D=this.chart,O=this.options.setContext(this.getContext()),C=O.enabled&&D.options.animation&&O.animations,A=new ys(this.chart,C);return C._cacheable&&(this._cachedAnimations=Object.freeze(A)),A}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),D=this,O=this._tooltipItems,_i(e,{tooltip:D,tooltipItems:O,type:"tooltip"})));var e,D,O}getTitle(e,D){const{callbacks:O}=D,C=O.beforeTitle.apply(this,[e]),A=O.title.apply(this,[e]),T=O.afterTitle.apply(this,[e]);let E=[];return E=No(E,Wo(C)),E=No(E,Wo(A)),E=No(E,Wo(T)),E}getBeforeBody(e,D){return qo(D.callbacks.beforeBody.apply(this,[e]))}getBody(e,D){const{callbacks:O}=D,C=[];return d(e,(e=>{const D={before:[],lines:[],after:[]},A=Ko(O,e);No(D.before,Wo(A.beforeLabel.call(this,e))),No(D.lines,A.label.call(this,e)),No(D.after,Wo(A.afterLabel.call(this,e))),C.push(D)})),C}getAfterBody(e,D){return qo(D.callbacks.afterBody.apply(this,[e]))}getFooter(e,D){const{callbacks:O}=D,C=O.beforeFooter.apply(this,[e]),A=O.footer.apply(this,[e]),T=O.afterFooter.apply(this,[e]);let E=[];return E=No(E,Wo(C)),E=No(E,Wo(A)),E=No(E,Wo(T)),E}_createItems(e){const D=this._active,O=this.chart.data,C=[],A=[],T=[];let E,L,R=[];for(E=0,L=D.length;E<L;++E)R.push(jo(this.chart,D[E]));return e.filter&&(R=R.filter(((D,C,A)=>e.filter(D,C,A,O)))),e.itemSort&&(R=R.sort(((D,C)=>e.itemSort(D,C,O)))),d(R,(D=>{const O=Ko(e.callbacks,D);C.push(O.labelColor.call(this,D)),A.push(O.labelPointStyle.call(this,D)),T.push(O.labelTextColor.call(this,D))})),this.labelColors=C,this.labelPointStyles=A,this.labelTextColors=T,this.dataPoints=R,R}update(e,D){const O=this.options.setContext(this.getContext()),C=this._active;let A,T=[];if(C.length){const e=Jo[O.position].call(this,C,this._eventPosition);T=this._createItems(O),this.title=this.getTitle(T,O),this.beforeBody=this.getBeforeBody(T,O),this.body=this.getBody(T,O),this.afterBody=this.getAfterBody(T,O),this.footer=this.getFooter(T,O);const D=this._size=Ho(this,O),E=Object.assign({},e,D),L=Yo(this.chart,O,E),R=Uo(O,E,L,this.chart);this.xAlign=L.xAlign,this.yAlign=L.yAlign,A={opacity:1,x:R.x,y:R.y,width:D.width,height:D.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(A={opacity:0});this._tooltipItems=T,this.$context=void 0,A&&this._resolveAnimations().update(this,A),e&&O.external&&O.external.call(this,{chart:this.chart,tooltip:this,replay:D})}drawCaret(e,D,O,C){const A=this.getCaretPosition(e,O,C);D.lineTo(A.x1,A.y1),D.lineTo(A.x2,A.y2),D.lineTo(A.x3,A.y3)}getCaretPosition(e,D,O){const{xAlign:C,yAlign:A}=this,{caretSize:T,cornerRadius:E}=O,{topLeft:L,topRight:R,bottomLeft:I,bottomRight:z}=gi(E),{x:nt,y:lt}=e,{width:mt,height:Mt}=D;let kt,Ct,Bt,Vt,Nt,jt;return"center"===A?(Nt=lt+Mt/2,"left"===C?(kt=nt,Ct=kt-T,Vt=Nt+T,jt=Nt-T):(kt=nt+mt,Ct=kt+T,Vt=Nt-T,jt=Nt+T),Bt=kt):(Ct="left"===C?nt+Math.max(L,I)+T:"right"===C?nt+mt-Math.max(R,z)-T:this.caretX,"top"===A?(Vt=lt,Nt=Vt-T,kt=Ct-T,Bt=Ct+T):(Vt=lt+Mt,Nt=Vt+T,kt=Ct+T,Bt=Ct-T),jt=Vt),{x1:kt,x2:Ct,x3:Bt,y1:Vt,y2:Nt,y3:jt}}drawTitle(e,D,O){const C=this.title,A=C.length;let T,E,L;if(A){const R=yi(O.rtl,this.x,this.width);for(e.x=Xo(this,O.titleAlign,O),D.textAlign=R.textAlign(O.titleAlign),D.textBaseline="middle",T=mi(O.titleFont),E=O.titleSpacing,D.fillStyle=O.titleColor,D.font=T.string,L=0;L<A;++L)D.fillText(C[L],R.x(e.x),e.y+T.lineHeight/2),e.y+=T.lineHeight+E,L+1===A&&(e.y+=O.titleMarginBottom-E)}}_drawColorBox(e,D,O,C,A){const T=this.labelColors[O],E=this.labelPointStyles[O],{boxHeight:L,boxWidth:R,boxPadding:I}=A,z=mi(A.bodyFont),nt=Xo(this,"left",A),lt=C.x(nt),mt=L<z.lineHeight?(z.lineHeight-L)/2:0,Mt=D.y+mt;if(A.usePointStyle){const D={radius:Math.min(R,L)/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:1},O=C.leftForLtr(lt,R)+R/2,I=Mt+L/2;e.strokeStyle=A.multiKeyBackground,e.fillStyle=A.multiKeyBackground,Me(e,D,O,I),e.strokeStyle=T.borderColor,e.fillStyle=T.backgroundColor,Me(e,D,O,I)}else{e.lineWidth=n(T.borderWidth)?Math.max(...Object.values(T.borderWidth)):T.borderWidth||1,e.strokeStyle=T.borderColor,e.setLineDash(T.borderDash||[]),e.lineDashOffset=T.borderDashOffset||0;const D=C.leftForLtr(lt,R-I),O=C.leftForLtr(C.xPlus(lt,1),R-I-2),E=gi(T.borderRadius);Object.values(E).some((e=>0!==e))?(e.beginPath(),e.fillStyle=A.multiKeyBackground,Le(e,{x:D,y:Mt,w:R,h:L,radius:E}),e.fill(),e.stroke(),e.fillStyle=T.backgroundColor,e.beginPath(),Le(e,{x:O,y:Mt+1,w:R-2,h:L-2,radius:E}),e.fill()):(e.fillStyle=A.multiKeyBackground,e.fillRect(D,Mt,R,L),e.strokeRect(D,Mt,R,L),e.fillStyle=T.backgroundColor,e.fillRect(O,Mt+1,R-2,L-2))}e.fillStyle=this.labelTextColors[O]}drawBody(e,D,O){const{body:C}=this,{bodySpacing:A,bodyAlign:T,displayColors:E,boxHeight:L,boxWidth:R,boxPadding:I}=O,z=mi(O.bodyFont);let nt=z.lineHeight,lt=0;const mt=yi(O.rtl,this.x,this.width),p=function(O){D.fillText(O,mt.x(e.x+lt),e.y+nt/2),e.y+=nt+A},Mt=mt.textAlign(T);let kt,Ct,Bt,Vt,Nt,jt,te;for(D.textAlign=T,D.textBaseline="middle",D.font=z.string,e.x=Xo(this,Mt,O),D.fillStyle=O.bodyColor,d(this.beforeBody,p),lt=E&&"right"!==Mt?"center"===T?R/2+I:R+2+I:0,Vt=0,jt=C.length;Vt<jt;++Vt){for(kt=C[Vt],Ct=this.labelTextColors[Vt],D.fillStyle=Ct,d(kt.before,p),Bt=kt.lines,E&&Bt.length&&(this._drawColorBox(D,e,Vt,mt,O),nt=Math.max(z.lineHeight,L)),Nt=0,te=Bt.length;Nt<te;++Nt)p(Bt[Nt]),nt=z.lineHeight;d(kt.after,p)}lt=0,nt=z.lineHeight,d(this.afterBody,p),e.y-=A}drawFooter(e,D,O){const C=this.footer,A=C.length;let T,E;if(A){const L=yi(O.rtl,this.x,this.width);for(e.x=Xo(this,O.footerAlign,O),e.y+=O.footerMarginTop,D.textAlign=L.textAlign(O.footerAlign),D.textBaseline="middle",T=mi(O.footerFont),D.fillStyle=O.footerColor,D.font=T.string,E=0;E<A;++E)D.fillText(C[E],L.x(e.x),e.y+T.lineHeight/2),e.y+=T.lineHeight+O.footerSpacing}}drawBackground(e,D,O,C){const{xAlign:A,yAlign:T}=this,{x:E,y:L}=e,{width:R,height:I}=O,{topLeft:z,topRight:nt,bottomLeft:lt,bottomRight:mt}=gi(C.cornerRadius);D.fillStyle=C.backgroundColor,D.strokeStyle=C.borderColor,D.lineWidth=C.borderWidth,D.beginPath(),D.moveTo(E+z,L),"top"===T&&this.drawCaret(e,D,O,C),D.lineTo(E+R-nt,L),D.quadraticCurveTo(E+R,L,E+R,L+nt),"center"===T&&"right"===A&&this.drawCaret(e,D,O,C),D.lineTo(E+R,L+I-mt),D.quadraticCurveTo(E+R,L+I,E+R-mt,L+I),"bottom"===T&&this.drawCaret(e,D,O,C),D.lineTo(E+lt,L+I),D.quadraticCurveTo(E,L+I,E,L+I-lt),"center"===T&&"left"===A&&this.drawCaret(e,D,O,C),D.lineTo(E,L+z),D.quadraticCurveTo(E,L,E+z,L),D.closePath(),D.fill(),C.borderWidth>0&&D.stroke()}_updateAnimationTarget(e){const D=this.chart,O=this.$animations,C=O&&O.x,A=O&&O.y;if(C||A){const O=Jo[e.position].call(this,this._active,this._eventPosition);if(!O)return;const T=this._size=Ho(this,e),E=Object.assign({},O,this._size),L=Yo(D,e,E),R=Uo(e,E,L,D);C._to===R.x&&A._to===R.y||(this.xAlign=L.xAlign,this.yAlign=L.yAlign,this.width=T.width,this.height=T.height,this.caretX=O.x,this.caretY=O.y,this._resolveAnimations().update(this,R))}}_willRender(){return!!this.opacity}draw(e){const D=this.options.setContext(this.getContext());let O=this.opacity;if(!O)return;this._updateAnimationTarget(D);const C={width:this.width,height:this.height},A={x:this.x,y:this.y};O=Math.abs(O)<.001?0:O;const T=pi(D.padding),E=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;D.enabled&&E&&(e.save(),e.globalAlpha=O,this.drawBackground(A,e,C,D),vi(e,D.textDirection),A.y+=T.top,this.drawTitle(A,e,D),this.drawBody(A,e,D),this.drawFooter(A,e,D),wi(e,D.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,D){const O=this._active,C=e.map((({datasetIndex:e,index:D})=>{const O=this.chart.getDatasetMeta(e);if(!O)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:O.data[D],index:D}})),A=!u(O,C),T=this._positionChanged(C,D);(A||T)&&(this._active=C,this._eventPosition=D,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,D,O=!0){if(D&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const C=this.options,A=this._active||[],T=this._getActiveElements(e,A,D,O),E=this._positionChanged(T,e),L=D||!u(T,A)||E;return L&&(this._active=T,(C.enabled||C.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,D))),L}_getActiveElements(e,D,O,C){const A=this.options;if("mouseout"===e.type)return[];if(!C)return D;const T=this.chart.getElementsAtEventForMode(e,A.mode,A,O);return A.reverse&&T.reverse(),T}_positionChanged(e,D){const{caretX:O,caretY:C,options:A}=this,T=Jo[A.position].call(this,e,D);return!1!==T&&(O!==T.x||C!==T.y)}}Go.positioners=Jo;var pa={id:"tooltip",_element:Go,positioners:Jo,afterInit(e,D,O){O&&(e.tooltip=new Go({chart:e,options:O}))},beforeUpdate(e,D,O){e.tooltip&&e.tooltip.initialize(O)},reset(e,D,O){e.tooltip&&e.tooltip.initialize(O)},afterDraw(e){const D=e.tooltip;if(D&&D._willRender()){const O={tooltip:D};if(!1===e.notifyPlugins("beforeTooltipDraw",O))return;D.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",O)}},afterEvent(e,D){if(e.tooltip){const O=D.replay;e.tooltip.handleEvent(D.event,O,D.inChartArea)&&(D.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,D)=>D.bodyFont.size,boxWidth:(e,D)=>D.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:t,title(D){if(D.length>0){const O=D[0],C=O.chart.data.labels,A=C?C.length:0;if((this||e)&&(this||e).options&&"dataset"===(this||e).options.mode)return O.dataset.label||"";if(O.label)return O.label;if(A>0&&O.dataIndex<A)return C[O.dataIndex]}return""},afterTitle:t,beforeBody:t,beforeLabel:t,label(D){if((this||e)&&(this||e).options&&"dataset"===(this||e).options.mode)return D.label+": "+D.formattedValue||D.formattedValue;let O=D.dataset.label||"";O&&(O+=": ");const C=D.formattedValue;return i(C)||(O+=C),O},labelColor(e){const D=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:D.borderColor,backgroundColor:D.backgroundColor,borderWidth:D.borderWidth,borderDash:D.borderDash,borderDashOffset:D.borderDashOffset,borderRadius:0}},labelTextColor(){return(this||e).options.bodyColor},labelPointStyle(e){const D=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:D.pointStyle,rotation:D.rotation}},afterLabel:t,afterBody:t,beforeFooter:t,footer:t,afterFooter:t}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ma=Object.freeze({__proto__:null,Decimation:Ro,Filler:zo,Legend:Fo,SubTitle:Zo,Title:Bo,Tooltip:pa});function Qo(e,D,O,C){const A=e.indexOf(D);return-1===A?((e,D,O,C)=>("string"==typeof D?(O=e.push(D)-1,C.unshift({index:O,label:D})):isNaN(D)&&(O=null),O))(e,D,O,C):A!==e.lastIndexOf(D)?O:A}class ta extends $s{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const D=this._addedLabels;if(D.length){const e=this.getLabels();for(const{index:O,label:C}of D)e[O]===C&&e.splice(O,1);this._addedLabels=[]}super.init(e)}parse(e,D){if(i(e))return null;const O=this.getLabels();return((e,D)=>null===e?null:Z(Math.round(e),0,D))(D=isFinite(D)&&O[D]===e?D:Qo(O,e,r(D,e),this._addedLabels),O.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:D}=this.getUserBounds();let{min:O,max:C}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(O=0),D||(C=this.getLabels().length-1)),this.min=O,this.max=C}buildTicks(){const e=this.min,D=this.max,O=this.options.offset,C=[];let A=this.getLabels();A=0===e&&D===A.length-1?A:A.slice(e,D+1),this._valueRange=Math.max(A.length-(O?0:1),1),this._startValue=this.min-(O?.5:0);for(let O=e;O<=D;O++)C.push({value:O});return C}getLabelForValue(e){const D=this.getLabels();return e>=0&&e<D.length?D[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const D=this.ticks;return e<0||e>D.length-1?null:this.getPixelForValue(D[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function ea(e,D,{horizontal:O,minRotation:C}){const A=H(C),T=(O?Math.sin(A):Math.cos(A))||.001,E=.75*D*(""+e).length;return Math.min(D/T,E)}ta.id="category",ta.defaults={ticks:{callback:ta.prototype.getLabelForValue}};class ia extends $s{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,D){return i(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:D,maxDefined:O}=this.getUserBounds();let{min:C,max:A}=this;const o=e=>C=D?C:e,a=e=>A=O?A:e;if(e){const e=lt(C),D=lt(A);e<0&&D<0?a(0):e>0&&D>0&&o(0)}if(C===A){let D=1;(A>=Number.MAX_SAFE_INTEGER||C<=Number.MIN_SAFE_INTEGER)&&(D=Math.abs(.05*A)),a(A+D),e||o(C-D)}this.min=C,this.max=A}getTickLimit(){const e=this.options.ticks;let D,{maxTicksLimit:O,stepSize:C}=e;return C?(D=Math.ceil(this.max/C)-Math.floor(this.min/C)+1,D>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${C} would result generating up to ${D} ticks. Limiting to 1000.`),D=1e3)):(D=this.computeTickLimit(),O=O||11),O&&(D=Math.min(O,D)),D}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,D=e.ticks;let O=this.getTickLimit();O=Math.max(2,O);const C=function(e,D){const O=[],{bounds:C,step:A,min:T,max:E,precision:L,count:R,maxTicks:I,maxDigits:z,includeBounds:nt}=e,lt=A||1,mt=I-1,{min:Mt,max:kt}=D,Ct=!i(T),Bt=!i(E),Vt=!i(R),Nt=(kt-Mt)/(z+1);let jt,te,ee,ne,ce=F((kt-Mt)/mt/lt)*lt;if(ce<1e-14&&!Ct&&!Bt)return[{value:Mt},{value:kt}];ne=Math.ceil(kt/ce)-Math.floor(Mt/ce),ne>mt&&(ce=F(ne*ce/mt/lt)*lt),i(L)||(jt=Math.pow(10,L),ce=Math.ceil(ce*jt)/jt),"ticks"===C?(te=Math.floor(Mt/ce)*ce,ee=Math.ceil(kt/ce)*ce):(te=Mt,ee=kt),Ct&&Bt&&A&&W((E-T)/A,ce/1e3)?(ne=Math.round(Math.min((E-T)/ce,I)),ce=(E-T)/ne,te=T,ee=E):Vt?(te=Ct?T:te,ee=Bt?E:ee,ne=R-1,ce=(ee-te)/ne):(ne=(ee-te)/ce,ne=N(ne,Math.round(ne),ce/1e3)?Math.round(ne):Math.ceil(ne));const me=Math.max(Y(ce),Y(te));jt=Math.pow(10,i(L)?me:L),te=Math.round(te*jt)/jt,ee=Math.round(ee*jt)/jt;let Xe=0;for(Ct&&(nt&&te!==T?(O.push({value:T}),te<T&&Xe++,N(Math.round((te+Xe*ce)*jt)/jt,T,ea(T,Nt,e))&&Xe++):te<T&&Xe++);Xe<ne;++Xe)O.push({value:Math.round((te+Xe*ce)*jt)/jt});return Bt&&nt&&ee!==E?O.length&&N(O[O.length-1].value,E,ea(E,Nt,e))?O[O.length-1].value=E:O.push({value:E}):Bt&&ee!==E||O.push({value:ee}),O}({maxTicks:O,bounds:e.bounds,min:e.min,max:e.max,precision:D.precision,step:D.stepSize,count:D.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:D.minRotation||0,includeBounds:!1!==D.includeBounds},this._range||this);return"ticks"===e.bounds&&j(C,this,"value"),e.reverse?(C.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),C}configure(){const e=this.ticks;let D=this.min,O=this.max;if(super.configure(),this.options.offset&&e.length){const C=(O-D)/Math.max(e.length-1,1)/2;D-=C,O+=C}this._startValue=D,this._endValue=O,this._valueRange=O-D}getLabelForValue(e){return li(e,this.chart.options.locale,this.options.ticks.format)}}class sa extends ia{determineDataLimits(){const{min:e,max:D}=this.getMinMax(!0);this.min=o(e)?e:0,this.max=o(D)?D:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),D=e?this.width:this.height,O=H(this.options.ticks.minRotation),C=(e?Math.sin(O):Math.cos(O))||.001,A=this._resolveTickFontOptions(0);return Math.ceil(D/Math.min(40,A.lineHeight/C))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function na(e){return 1===e/Math.pow(10,Math.floor(nt(e)))}sa.id="linear",sa.defaults={ticks:{callback:tn.formatters.numeric}};class oa extends $s{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,D){const O=ia.prototype.parse.apply(this,[e,D]);if(0!==O)return o(O)&&O>0?O:null;this._zero=!0}determineDataLimits(){const{min:e,max:D}=this.getMinMax(!0);this.min=o(e)?Math.max(0,e):null,this.max=o(D)?Math.max(0,D):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:D}=this.getUserBounds();let O=this.min,C=this.max;const n=D=>O=e?O:D,o=e=>C=D?C:e,a=(e,D)=>Math.pow(10,Math.floor(nt(e))+D);O===C&&(O<=0?(n(1),o(10)):(n(a(O,-1)),o(a(C,1)))),O<=0&&n(a(C,-1)),C<=0&&o(a(O,1)),this._zero&&this.min!==this._suggestedMin&&O===a(this.min,0)&&n(a(O,-1)),this.min=O,this.max=C}buildTicks(){const e=this.options,D=function(e,D){const O=Math.floor(nt(D.max)),C=Math.ceil(D.max/Math.pow(10,O)),A=[];let T=a(e.min,Math.pow(10,Math.floor(nt(D.min)))),E=Math.floor(nt(T)),L=Math.floor(T/Math.pow(10,E)),R=E<0?Math.pow(10,Math.abs(E)):1;do{A.push({value:T,major:na(T)}),++L,10===L&&(L=1,++E,R=E>=0?1:R),T=Math.round(L*Math.pow(10,E)*R)/R}while(E<O||E===O&&L<C);const I=a(e.max,T);return A.push({value:I,major:na(T)}),A}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&j(D,this,"value"),e.reverse?(D.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),D}getLabelForValue(e){return void 0===e?"0":li(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=nt(e),this._valueRange=nt(this.max)-nt(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(nt(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const D=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+D*this._valueRange)}}function aa(e){const D=e.ticks;if(D.display&&e.display){const e=pi(D.backdropPadding);return r(D.font&&D.font.size,me.font.size)+e.height}return 0}function ra(e,D,O,C,A){return e===C||e===A?{start:D-O/2,end:D+O/2}:e<C||e>A?{start:D-O,end:D}:{start:D,end:D+O}}function la(e){const D={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},O=Object.assign({},D),A=[],T=[],E=e._pointLabels.length,L=e.options.pointLabels,I=L.centerPointLabels?C/E:0;for(let C=0;C<E;C++){const E=L.setContext(e.getPointLabelContext(C));T[C]=E.padding;const R=e.getPointPosition(C,e.drawingArea+T[C],I),mt=mi(E.font),Mt=(z=e.ctx,nt=mt,lt=s(lt=e._pointLabels[C])?lt:[lt],{w:ye(z,nt.string,lt),h:lt.length*nt.lineHeight});A[C]=Mt;const kt=K(e.getIndexAngle(C)+I),Ct=Math.round($(kt));ha(O,D,kt,ra(Ct,R.x,Mt.w,0,180),ra(Ct,R.y,Mt.h,90,270))}var z,nt,lt;e.setCenterPoint(D.l-O.l,O.r-D.r,D.t-O.t,O.b-D.b),e._pointLabelItems=function(e,D,O){const A=[],T=e._pointLabels.length,E=e.options,L=aa(E)/2,I=e.drawingArea,z=E.pointLabels.centerPointLabels?C/T:0;for(let C=0;C<T;C++){const T=e.getPointPosition(C,I+L+O[C],z),E=Math.round($(K(T.angle+R))),nt=D[C],lt=ua(T.y,nt.h,E),mt=ca(E),Mt=da(T.x,nt.w,mt);A.push({x:T.x,y:lt,textAlign:mt,left:Mt,top:lt,right:Mt+nt.w,bottom:lt+nt.h})}return A}(e,A,T)}function ha(e,D,O,C,A){const T=Math.abs(Math.sin(O)),E=Math.abs(Math.cos(O));let L=0,R=0;C.start<D.l?(L=(D.l-C.start)/T,e.l=Math.min(e.l,D.l-L)):C.end>D.r&&(L=(C.end-D.r)/T,e.r=Math.max(e.r,D.r+L)),A.start<D.t?(R=(D.t-A.start)/E,e.t=Math.min(e.t,D.t-R)):A.end>D.b&&(R=(A.end-D.b)/E,e.b=Math.max(e.b,D.b+R))}function ca(e){return 0===e||180===e?"center":e<180?"left":"right"}function da(e,D,O){return"right"===O?e-=D:"center"===O&&(e-=D/2),e}function ua(e,D,O){return 90===O||270===O?e-=D/2:(O>270||O<90)&&(e-=D),e}function fa(e,D,O,C){const{ctx:T}=e;if(O)T.arc(e.xCenter,e.yCenter,D,0,A);else{let O=e.getPointPosition(0,D);T.moveTo(O.x,O.y);for(let A=1;A<C;A++)O=e.getPointPosition(A,D),T.lineTo(O.x,O.y)}}oa.id="logarithmic",oa.defaults={ticks:{callback:tn.formatters.logarithmic,major:{enabled:!0}}};class ga extends ia{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=pi(aa(this.options)/2),D=this.width=this.maxWidth-e.width,O=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+D/2+e.left),this.yCenter=Math.floor(this.top+O/2+e.top),this.drawingArea=Math.floor(Math.min(D,O)/2)}determineDataLimits(){const{min:e,max:D}=this.getMinMax(!1);this.min=o(e)&&!isNaN(e)?e:0,this.max=o(D)&&!isNaN(D)?D:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/aa(this.options))}generateTickLabels(e){ia.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,D)=>{const O=c(this.options.pointLabels.callback,[e,D],this);return O||0===O?O:""})).filter(((e,D)=>this.chart.getDataVisibility(D)))}fit(){const e=this.options;e.display&&e.pointLabels.display?la(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,D,O,C){this.xCenter+=Math.floor((e-D)/2),this.yCenter+=Math.floor((O-C)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,D,O,C))}getIndexAngle(e){return K(e*(A/(this._pointLabels.length||1))+H(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(i(e))return NaN;const D=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*D:(e-this.min)*D}getValueForDistanceFromCenter(e){if(i(e))return NaN;const D=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-D:this.min+D}getPointLabelContext(e){const D=this._pointLabels||[];if(e>=0&&e<D.length){const O=D[e];return function(e,D,O){return _i(e,{label:O,index:D,type:"pointLabel"})}(this.getContext(),e,O)}}getPointPosition(e,D,O=0){const C=this.getIndexAngle(e)-R+O;return{x:Math.cos(C)*D+this.xCenter,y:Math.sin(C)*D+this.yCenter,angle:C}}getPointPositionForValue(e,D){return this.getPointPosition(e,this.getDistanceFromCenterForValue(D))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:D,top:O,right:C,bottom:A}=this._pointLabelItems[e];return{left:D,top:O,right:C,bottom:A}}drawBackground(){const{backgroundColor:e,grid:{circular:D}}=this.options;if(e){const O=this.ctx;O.save(),O.beginPath(),fa(this,this.getDistanceFromCenterForValue(this._endValue),D,this._pointLabels.length),O.closePath(),O.fillStyle=e,O.fill(),O.restore()}}drawGrid(){const e=this.ctx,D=this.options,{angleLines:O,grid:C}=D,A=this._pointLabels.length;let T,E,L;if(D.pointLabels.display&&function(e,D){const{ctx:O,options:{pointLabels:C}}=e;for(let A=D-1;A>=0;A--){const D=C.setContext(e.getPointLabelContext(A)),T=mi(D.font),{x:E,y:L,textAlign:R,left:I,top:z,right:nt,bottom:lt}=e._pointLabelItems[A],{backdropColor:mt}=D;if(!i(mt)){const e=gi(D.borderRadius),C=pi(D.backdropPadding);O.fillStyle=mt;const A=I-C.left,T=z-C.top,E=nt-I+C.width,L=lt-z+C.height;Object.values(e).some((e=>0!==e))?(O.beginPath(),Le(O,{x:A,y:T,w:E,h:L,radius:e}),O.fill()):O.fillRect(A,T,E,L)}Ae(O,e._pointLabels[A],E,L+T.lineHeight/2,T,{color:D.color,textAlign:R,textBaseline:"middle"})}}(this,A),C.display&&this.ticks.forEach(((e,D)=>{if(0!==D){E=this.getDistanceFromCenterForValue(e.value);!function(e,D,O,C){const A=e.ctx,T=D.circular,{color:E,lineWidth:L}=D;!T&&!C||!E||!L||O<0||(A.save(),A.strokeStyle=E,A.lineWidth=L,A.setLineDash(D.borderDash),A.lineDashOffset=D.borderDashOffset,A.beginPath(),fa(e,O,T,C),A.closePath(),A.stroke(),A.restore())}(this,C.setContext(this.getContext(D-1)),E,A)}})),O.display){for(e.save(),T=A-1;T>=0;T--){const C=O.setContext(this.getPointLabelContext(T)),{color:A,lineWidth:R}=C;R&&A&&(e.lineWidth=R,e.strokeStyle=A,e.setLineDash(C.borderDash),e.lineDashOffset=C.borderDashOffset,E=this.getDistanceFromCenterForValue(D.ticks.reverse?this.min:this.max),L=this.getPointPosition(T,E),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(L.x,L.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,D=this.options,O=D.ticks;if(!O.display)return;const C=this.getIndexAngle(0);let A,T;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(C),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((C,E)=>{if(0===E&&!D.reverse)return;const L=O.setContext(this.getContext(E)),R=mi(L.font);if(A=this.getDistanceFromCenterForValue(this.ticks[E].value),L.showLabelBackdrop){e.font=R.string,T=e.measureText(C.label).width,e.fillStyle=L.backdropColor;const D=pi(L.backdropPadding);e.fillRect(-T/2-D.left,-A-R.size/2-D.top,T+D.width,R.size+D.height)}Ae(e,C.label,0,-A,R,{color:L.color})})),e.restore()}drawTitle(){}}ga.id="radialLinear",ga.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}},ga.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ga.descriptors={angleLines:{_fallback:"grid"}};const Sa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pa=Object.keys(Sa);function ba(e,D){return e-D}function xa(e,D){if(i(D))return null;const O=e._adapter,{parser:C,round:A,isoWeekday:T}=e._parseOpts;let E=D;return"function"==typeof C&&(E=C(E)),o(E)||(E="string"==typeof C?O.parse(E,C):O.parse(E)),null===E?null:(A&&(E="week"!==A||!B(T)&&!0!==T?O.startOf(E,A):O.startOf(E,"isoWeek",T)),+E)}function _a(e,D,O,C){const A=Pa.length;for(let T=Pa.indexOf(e);T<A-1;++T){const e=Sa[Pa[T]],A=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((O-D)/(A*e.size))<=C)return Pa[T]}return Pa[A-1]}function ya(e,D,O){if(O){if(O.length){const{lo:C,hi:A}=tt(O,D);e[O[C]>=D?O[C]:O[A]]=!0}}else e[D]=!0}function va(e,D,O){const C=[],A={},T=D.length;let E,L;for(E=0;E<T;++E)L=D[E],A[L]=E,C.push({value:L,major:!1});return 0!==T&&O?function(e,D,O,C){const A=e._adapter,T=+A.startOf(D[0].value,C),E=D[D.length-1].value;let L,R;for(L=T;L<=E;L=+A.add(L,1,C))R=O[L],R>=0&&(D[R].major=!0);return D}(e,C,A,O):C}class wa extends $s{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,D){const O=e.time||(e.time={}),C=this._adapter=new Jn._date(e.adapters.date);C.init(D),b(O.displayFormats,C.formats()),this._parseOpts={parser:O.parser,round:O.round,isoWeekday:O.isoWeekday},super.init(e),this._normalized=D.normalized}parse(e,D){return void 0===e?null:xa(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,D=this._adapter,O=e.time.unit||"day";let{min:C,max:A,minDefined:T,maxDefined:E}=this.getUserBounds();function l(e){T||isNaN(e.min)||(C=Math.min(C,e.min)),E||isNaN(e.max)||(A=Math.max(A,e.max))}T&&E||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),C=o(C)&&!isNaN(C)?C:+D.startOf(Date.now(),O),A=o(A)&&!isNaN(A)?A:+D.endOf(Date.now(),O)+1,this.min=Math.min(C,A-1),this.max=Math.max(C+1,A)}_getLabelBounds(){const e=this.getLabelTimestamps();let D=Number.POSITIVE_INFINITY,O=Number.NEGATIVE_INFINITY;return e.length&&(D=e[0],O=e[e.length-1]),{min:D,max:O}}buildTicks(){const e=this.options,D=e.time,O=e.ticks,C="labels"===O.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&C.length&&(this.min=this._userMin||C[0],this.max=this._userMax||C[C.length-1]);const A=this.min,T=st(C,A,this.max);return this._unit=D.unit||(O.autoSkip?_a(D.minUnit,this.min,this.max,this._getLabelCapacity(A)):function(e,D,O,C,A){for(let T=Pa.length-1;T>=Pa.indexOf(O);T--){const O=Pa[T];if(Sa[O].common&&e._adapter.diff(A,C,O)>=D-1)return O}return Pa[O?Pa.indexOf(O):0]}(this,T.length,D.minUnit,this.min,this.max)),this._majorUnit=O.major.enabled&&"year"!==this._unit?function(e){for(let D=Pa.indexOf(e)+1,O=Pa.length;D<O;++D)if(Sa[Pa[D]].common)return Pa[D]}(this._unit):void 0,this.initOffsets(C),e.reverse&&T.reverse(),va(this,T,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e){let D,O,C=0,A=0;this.options.offset&&e.length&&(D=this.getDecimalForValue(e[0]),C=1===e.length?1-D:(this.getDecimalForValue(e[1])-D)/2,O=this.getDecimalForValue(e[e.length-1]),A=1===e.length?O:(O-this.getDecimalForValue(e[e.length-2]))/2);const T=e.length<3?.5:.25;C=Z(C,0,T),A=Z(A,0,T),this._offsets={start:C,end:A,factor:1/(C+1+A)}}_generate(){const e=this._adapter,D=this.min,O=this.max,C=this.options,A=C.time,T=A.unit||_a(A.minUnit,D,O,this._getLabelCapacity(D)),E=r(A.stepSize,1),L="week"===T&&A.isoWeekday,R=B(L)||!0===L,I={};let z,nt,lt=D;if(R&&(lt=+e.startOf(lt,"isoWeek",L)),lt=+e.startOf(lt,R?"day":T),e.diff(O,D,T)>1e5*E)throw new Error(D+" and "+O+" are too far apart with stepSize of "+E+" "+T);const mt="data"===C.ticks.source&&this.getDataTimestamps();for(z=lt,nt=0;z<O;z=+e.add(z,E,T),nt++)ya(I,z,mt);return z!==O&&"ticks"!==C.bounds&&1!==nt||ya(I,z,mt),Object.keys(I).sort(((e,D)=>e-D)).map((e=>+e))}getLabelForValue(e){const D=this._adapter,O=this.options.time;return O.tooltipFormat?D.format(e,O.tooltipFormat):D.format(e,O.displayFormats.datetime)}_tickFormatFunction(e,D,O,C){const A=this.options,T=A.time.displayFormats,E=this._unit,L=this._majorUnit,R=E&&T[E],I=L&&T[L],z=O[D],nt=L&&I&&z&&z.major,lt=this._adapter.format(e,C||(nt?I:R)),mt=A.ticks.callback;return mt?c(mt,[lt,D,O],this):lt}generateTickLabels(e){let D,O,C;for(D=0,O=e.length;D<O;++D)C=e[D],C.label=this._tickFormatFunction(C.value,D,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const D=this._offsets,O=this.getDecimalForValue(e);return this.getPixelForDecimal((D.start+O)*D.factor)}getValueForPixel(e){const D=this._offsets,O=this.getDecimalForPixel(e)/D.factor-D.end;return this.min+O*(this.max-this.min)}_getLabelSize(e){const D=this.options.ticks,O=this.ctx.measureText(e).width,C=H(this.isHorizontal()?D.maxRotation:D.minRotation),A=Math.cos(C),T=Math.sin(C),E=this._resolveTickFontOptions(0).size;return{w:O*A+E*T,h:O*T+E*A}}_getLabelCapacity(e){const D=this.options.time,O=D.displayFormats,C=O[D.unit]||O.millisecond,A=this._tickFormatFunction(e,0,va(this,[e],this._majorUnit),C),T=this._getLabelSize(A),E=Math.floor(this.isHorizontal()?this.width/T.w:this.height/T.h)-1;return E>0?E:1}getDataTimestamps(){let e,D,O=this._cache.data||[];if(O.length)return O;const C=this.getMatchingVisibleMetas();if(this._normalized&&C.length)return this._cache.data=C[0].controller.getAllParsedValues(this);for(e=0,D=C.length;e<D;++e)O=O.concat(C[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(O)}getLabelTimestamps(){const e=this._cache.labels||[];let D,O;if(e.length)return e;const C=this.getLabels();for(D=0,O=C.length;D<O;++D)e.push(xa(this,C[D]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return rt(e.sort(ba))}}function Ma(e,D,O){let C,A,T,E,L=0,R=e.length-1;O?(D>=e[L].pos&&D<=e[R].pos&&({lo:L,hi:R}=et(e,"pos",D)),({pos:C,time:T}=e[L]),({pos:A,time:E}=e[R])):(D>=e[L].time&&D<=e[R].time&&({lo:L,hi:R}=et(e,"time",D)),({time:C,pos:T}=e[L]),({time:A,pos:E}=e[R]));const I=A-C;return I?T+(E-T)*(D-C)/I:T}wa.id="time",wa.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class ka extends wa{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),D=this._table=this.buildLookupTable(e);this._minPos=Ma(D,this.min),this._tableRange=Ma(D,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:D,max:O}=this,C=[],A=[];let T,E,L,R,I;for(T=0,E=e.length;T<E;++T)R=e[T],R>=D&&R<=O&&C.push(R);if(C.length<2)return[{time:D,pos:0},{time:O,pos:1}];for(T=0,E=C.length;T<E;++T)I=C[T+1],L=C[T-1],R=C[T],Math.round((I+L)/2)!==R&&A.push({time:R,pos:T/(E-1)});return A}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const D=this.getDataTimestamps(),O=this.getLabelTimestamps();return e=D.length&&O.length?this.normalize(D.concat(O)):D.length?D:O,e=this._cache.all=e,e}getDecimalForValue(e){return(Ma(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const D=this._offsets,O=this.getDecimalForPixel(e)/D.factor-D.end;return Ma(this._table,O*this._tableRange+this._minPos,!0)}}ka.id="timeseries",ka.defaults=wa.defaults;var Da=Object.freeze({__proto__:null,CategoryScale:ta,LinearScale:sa,LogarithmicScale:oa,RadialLinearScale:ga,TimeScale:wa,TimeSeriesScale:ka});return bn.register(co,Da,To,ma),bn.helpers={...Vi},bn._adapters=Jn,bn.Animation=xs,bn.Animations=ys,bn.animator=kt,bn.controllers=en.controllers.items,bn.DatasetController=Ls,bn.Element=Es,bn.elements=To,bn.Interaction=Zi,bn.layouts=is,bn.platforms=bs,bn.Scale=$s,bn.Ticks=tn,Object.assign(bn,co,Da,To,ma,bs),bn.Chart=bn,"undefined"!=typeof window&&(window.Chart=bn),bn}));var O=D;export{O as default};

//# sourceMappingURL=chart.min.js.map